<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
         xmlns:h="http://java.sun.com/jsf/html"
         xmlns:f="http://java.sun.com/jsf/core"
         xmlns:ui="http://java.sun.com/jsf/facelets"
         xmlns:p="http://primefaces.org/ui"
         xmlns:c="http://java.sun.com/jsp/jstl/core"
         xmlns:composite="http://java.sun.com/jsf/composite">
 <h:head>
   <title>This will not be present in rendered output</title>
 </h:head>
 <h:body>
   <composite:interface displayName="Input Text" >   
   		<composite:attribute name="value"        required="true"  /> 
   		<composite:attribute name="placeholder"  required="true"  default="Ingrese valor"/> 
   		<composite:attribute name="styleClass"   required="false" default="" />
   		<composite:attribute name="size"         required="false" default="30" />
		<composite:attribute name="maxlength"    required="false" default="50" />
		<composite:attribute name="required"     required="false" default="false" />
		<composite:attribute name="readonly"     required="false" default="false" />
		<composite:attribute name="disabled"     required="false" default="false" />
		
		<composite:attribute name="onblur"       required="false" default=" " />
		<composite:attribute name="onchange"     required="false" default=" " />
		<composite:attribute name="onkeypress"   required="false" default=" " />
		<composite:attribute name="onkeydown"    required="false" default=" " />
		<composite:attribute name="onkeyup"      required="false" default=" " />
		<composite:attribute name="esMayuscula"  required="false" default="true" />
		<composite:attribute name="esNumerico"   required="false" default="false" />
		
		<composite:attribute name="listener"     required="false" default="false" />
		<composite:attribute name="update"       required="false" default=""/>
		<composite:attribute name="process"      required="false" default="" />
		<composite:attribute name="actionListener" required="false" method-signature="void f()" />
   </composite:interface>
   
   <composite:implementation>
   
      <c:if test="${cc.attrs.esNumerico}">
      
          <p:inputText id="inputText"
                value="#{cc.attrs.value}" 
	   		    placeholder="#{cc.attrs.placeholder}" 
	   		    required="#{cc.attrs.required}"
	   		    title="#{component.valid ? cc.attrs.required ? msg['sistema.requerido'] : '' : mPantallaPrincipalBean.getErrorMessage(component.clientId)}"
				styleClass="#{component.valid ? cc.attrs.styleClass : 'ui-state-error'}"
	   		    size="#{cc.attrs.size}" 
	   		    maxlength="#{cc.attrs.maxlength}"
				onblur="#{cc.attrs.onblur}" 
				onchange="#{cc.attrs.onchange}"
				onkeyup="#{cc.attrs.onkeyup}"
				onkeypress="#{cc.attrs.onkeypress}
						    return soloNumero(event);"
				onkeydown="#{cc.attrs.onkeydown}"
				disabled="#{cc.attrs.disabled}"
				readonly="#{cc.attrs.readonly}">
				<f:validateBean />
				
				<c:if test="${cc.attrs.listener}">
				   <p:ajax event="blur" 
				        partialSubmit="true"
					    process="#{cc.attrs.process}" 
						update=":principalForm:messagesPrincipalForm 
						        #{cc.attrs.update}"
						listener="#{cc.attrs.actionListener}" />
				</c:if>
	     </p:inputText>
	     
      </c:if>  
      
      <c:if test="${not cc.attrs.esNumerico}">
      
         <c:if test="${cc.attrs.esMayuscula}">
	        <p:inputText id="inputText"
	            value="#{cc.attrs.value}" 
	   		    placeholder="#{cc.attrs.placeholder}" 
	   		    required="#{cc.attrs.required}"
	   		    title="#{component.valid ? cc.attrs.required ? msg['sistema.requerido'] : '' : mPantallaPrincipalBean.getErrorMessage(component.clientId)}"
	   		    styleClass="#{component.valid ? cc.attrs.styleClass : 'ui-state-error'}"
	   		    size="#{cc.attrs.size}" 
	   		    maxlength="#{cc.attrs.maxlength}"
				onblur="#{cc.attrs.onblur}" 
				onchange="#{cc.attrs.onchange}"
				onkeyup="#{cc.attrs.onkeyup}"
				onkeypress="#{cc.attrs.onkeypress}
					        return changeKey(this, event, lettersToUpperCase); 				      
	                                 "
				onkeydown="#{cc.attrs.onkeydown}"
				disabled="#{cc.attrs.disabled}"
				readonly="#{cc.attrs.readonly}">
				<f:validateBean />
				
				<c:if test="${cc.attrs.listener}">
				   <p:ajax event="blur" 
				        partialSubmit="true"
					    process="#{cc.attrs.process}" 
						update=":principalForm:messagesPrincipalForm 
						        #{cc.attrs.update}"
						listener="#{cc.attrs.actionListener}" />
				</c:if>
		     </p:inputText>
		  </c:if>
		  
		  <c:if test="${not cc.attrs.esMayuscula}">
	          <p:inputText id="inputText"
	            value="#{cc.attrs.value}" 
	   		    placeholder="#{cc.attrs.placeholder}" 
	   		    required="#{cc.attrs.required}"
	   		    title="#{component.valid ? cc.attrs.required ? msg['sistema.requerido'] : '' : mPantallaPrincipalBean.getErrorMessage(component.clientId)}"
	   		    styleClass="#{component.valid ? cc.attrs.styleClass : 'ui-state-error'}"
	   		    size="#{cc.attrs.size}" 
	   		    maxlength="#{cc.attrs.maxlength}"
				onblur="#{cc.attrs.onblur}" 
				onchange="#{cc.attrs.onchange}"
				onkeyup="#{cc.attrs.onkeyup}"
				onkeypress="#{cc.attrs.onkeypress}"
				onkeydown="#{cc.attrs.onkeydown}"
				disabled="#{cc.attrs.disabled}"
				readonly="#{cc.attrs.readonly}">
				<f:validateBean />
				
				<c:if test="${cc.attrs.listener}">
				   <p:ajax event="blur" 
				        partialSubmit="true"
					    process="#{cc.attrs.process}" 
						update=":principalForm:messagesPrincipalForm 
						        #{cc.attrs.update}"
						listener="#{cc.attrs.actionListener}" />
				</c:if>
		     </p:inputText>
		  </c:if>
		  
      </c:if>  
   		
	     
  </composite:implementation>
 </h:body>
</html>
