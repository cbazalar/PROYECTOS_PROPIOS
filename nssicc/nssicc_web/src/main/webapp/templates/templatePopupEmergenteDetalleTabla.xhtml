<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc"
      >

<body>

<ui:composition template="/templates/templatePopupEmergente.xhtml">
  
  
  <ui:define name="body_center">  
	<h:inputHidden value="#{mAlias.seleccionoRegistro}" id="idSeleccionoRegistroPopupEmergenteDetalleTabla" />
    
  	<h:panelGroup id="idBody_encabezado_detalle">
	  	<ui:insert name="body_encabezado_detalle">
											 
		</ui:insert>   
	</h:panelGroup>
	
	<br/>
	
	<h:panelGroup id="idbody_adicional_antes_busqueda">
		<ui:insert name="body_adicional_antes_busqueda">
												 
		</ui:insert>
	</h:panelGroup>
      
	<!-- Datatable -->    
    <h:panelGroup id="listaBusquedaForm" rendered="#{mAlias.mostrarListaBusqueda}">		
  
		    <ssicc:dataTable id="dataTableBusqueda" 
		          toggleable = "false"
		          draggable = "false"
		          draggableColumns = "true"
		          rows="#{mAlias.cantidadRowsDefaultDatatable}"
		          titulo="#{msg['link.detalle.popup.list.datatable.title']}"
		          tituloPanel="#{msg['link.detalle.popup.list.dataset.title']}"
		          value="#{mAlias.datatableBusqueda}"
		          fileExport="dataBusqueda"
		          width="98%"
		          rendered="#{not empty mAlias.listaBusqueda}"
		          resizableColumns="true" 
		          exportable="true"
		          seleccionable = "#{mAlias.seleccionable}"
		          selection = "#{mAlias.beanRegistroSeleccionado}">
				  <ui:insert name="body_columna_datatable_detalle">
									 
				  </ui:insert>
		   </ssicc:dataTable>
	 
	</h:panelGroup>  
	
	<h:panelGroup id="idbody_adicional_detalle">
		<ui:insert name="body_adicional_detalle">
												 
		</ui:insert>
	</h:panelGroup>
    
  </ui:define>
  
  <ui:define name="body_javascript_adicionales">
  	
		function ejecutarPopup(paginaPopup, validarSelecion) 
		{
			if(validarSelecion)
			{
				var indicadorSeleccionado = document.getElementById('idSeleccionoRegistroPopupEmergenteDetalleTabla').value;
				if (indicadorSeleccionado != null) {
					if(indicadorSeleccionado != 'true')
					{
						return false;
					}
				}
				else {
				   return false;
				}
			}
			
			var nombrePopup = paginaPopup.substring (0, paginaPopup.length - 3);  
	        var win  = window.open(paginaPopup, nombrePopup,"dependent=yes,status=0,scrollbars=1,toolbar=0,menubar=0,location=0,directories=0,resizable=0,width=900, height=500, top=100, left=100");
			return true;
		}
	 
  </ui:define> 
         
</ui:composition>
</body>
</html>