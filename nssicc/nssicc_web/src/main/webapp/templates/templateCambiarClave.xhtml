<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<h:panelGrid width="340">
		<h:outputText value="#{i18n['cambioClave.title']}"	styleClass="clsEncabezadoPantalla" />
	</h:panelGrid>
	<h:panelGrid columns="2" style="margin-top:15px" width="340">
		<ssicc:label key="#{i18n['cambioClave.usuario']}" required="true" />
		<h:inputText id="j_user" value="#{mPantallaPrincipalBean.j_user}" style="height: 25px;width:150px"
			size="30" readonly = "#{mPantallaPrincipalBean.cambiarPasswordUsuario}" />

		<ssicc:label key="#{i18n['cambioClave.claveActual']}"
			required="true" />
		<h:inputSecret id="j_claveActual" value="#{mPantallaPrincipalBean.j_claveActual}"
			style="height: 25px;width:150px" size="30" />

		<ssicc:label key="#{i18n['cambioClave.claveNueva']}"
			required="true" />
		<h:inputSecret id="j_claveNueva" value="#{mPantallaPrincipalBean.j_claveNueva}"
			style="height: 25px;width:150px" size="30" />
	
	</h:panelGrid>
	<h:panelGrid columns="2" width="100" style="margin-left:80px">
		<ssicc:linkAjax icon="#{resource['images:saveForm.png']}" width="32"
			height="32" title="Guardar" process=":principalForm:dialogPopup @this"
			accion="#{mPantallaPrincipalBean.validaCampos}"
			update=":principalForm:idCambiarClave"/>
		<ssicc:linkSalirAjaxNoAction onclick="PF('viewCambiarClave').hide()" />
	</h:panelGrid>
	
	<h:panelGrid width="340" style="margin-top:15px">
		<h:outputText value="#{i18n['cambioClave.politicas.title']}"
			styleClass="clsEncabezadoPantalla"/>
	</h:panelGrid>
	<c:forEach
		items="#{mPantallaPrincipalBean.allPoliticasSeguridadContrasenia}"
		var="lista">
		<h:panelGrid width="340" style="margin-top:8px; margin-left:15px">
			<ssicc:label value="#{lista.label}"/>
		</h:panelGrid>
	</c:forEach>
</body>
</html>