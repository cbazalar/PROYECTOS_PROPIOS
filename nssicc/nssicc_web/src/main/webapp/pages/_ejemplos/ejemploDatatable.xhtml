<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      
      xmlns:p="http://primefaces.org/ui"
      
      xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc"
      >

<body>
<ui:composition template="/templates/templateBodyCenter.xhtml">
  <ui:param name="mAlias" value="#{mEjemploDataTable}"/>
  <ui:define name="titulo_Pantalla">
        <h:outputText value="#{msg['ejemploDatatable.titulo']}" styleClass="clsEncabezadoPantalla" />        
  </ui:define>
  
  <ui:define name="body_toolbar_principal">
	  
      <f:facet name="left"  >  
        <p:separator />
       <ssicc:linkSiguiente manage="#{mAlias}" /> 
      </f:facet>  
	  
	  </ui:define>
  
  <ui:define name="body_center">
    
    <h:outputText value="Ejemplo messagge i18n invocado desde Capa Service: #{mAlias.mensajeI18nPruebaService}" />  
    <h:outputText value="Ejemplo messagge i18n invocado desde Capa DAO: #{mAlias.mensajeI18nPruebaDAO}" />  
    
    <ssicc:dataTable id="dataTableUsuarios" 
          toggleable = "false"
          titulo="#{msg['ejemploDatatable.lista.titulo']}"
          value="#{mAlias.listaUsuarios}"
          fileExport="usuarios"
          resizableColumns="true" >  
        
        <p:column width="130" sortBy="#{lista.codigo}">  
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.lista.codigo']}" />
            </f:facet>    
            <h:outputText value="#{lista.codigo}" />  
        </p:column>  
  
        <p:column width="250" sortBy="#{lista.nombres}"  >
             <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.lista.nombres']}" />
            </f:facet>  
            <h:outputText value="#{lista.nombres}" />  
        </p:column>  
        
        <p:column width="250" sortBy="#{lista.apellidos}" >  
             <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.lista.apellidos']}" />
            </f:facet>
            <h:outputText value="#{lista.apellidos}" />  
        </p:column>  
        
         <p:column width="140" sortBy="#{lista.login}"  >  
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.lista.login']}" />
            </f:facet>
            <h:outputText value="#{lista.login}" />  
        </p:column>  
  
    </ssicc:dataTable>  
    
    
    <ssicc:dataTable id="dataTableMenu" 
        titulo="#{msg['ejemploDatatable.listaOpciones.titulo']}"
        scrollHeight="500" 
        width="70%"
        subtable="true"
		    resizableColumns="true"
		    excludeColumnsExport="0,4,5,6"
		    value="#{mAlias.mPantallaPrincipalBean.arbolMenues}"  >  
        
        <p:column width="130"   > 
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.codigo']}" />
            </f:facet>
        	<h:outputText value="#{lista.codigo}" /> 
        </p:column>  
  
        <p:column width="200"  >
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.descripcion']}" />
            </f:facet>   
            <h:outputText value="#{lista.descripcion}" /> 
        </p:column> 
        
        <p:column width="130"  >
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.codigoPadre']}" />
            </f:facet>  
            <h:outputText value="#{lista.codigoPadre}" /> 
        </p:column>  
        
        <p:column width="150" >
            <f:facet name="header">
               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.accion']}" />
            </f:facet>  
            #{lista.accion}      
        </p:column>  
        
        <p:rowExpansion>  
            <p:dataTable id="subdataTableMenu" var="sublista" value="#{lista.submenues}" >  
             
		    	<p:column width="130"  > 
		    	    <f:facet name="header">
		               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.codigo']}" />
		            </f:facet>
		        	<h:outputText value="#{sublista.codigo}" /> 
		        </p:column>  
		  
		        <p:column width="200"  > 
		           <f:facet name="header">
		               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.descripcion']}" />
		           </f:facet> 
		           <h:outputText value="#{sublista.descripcion}" /> 
		        </p:column> 
		        
		        <p:column width="130"  >
		           <f:facet name="header">
		               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.codigoPadre']}" />
		           </f:facet>  
		           <h:outputText value="#{sublista.codigoPadre}" />  
		        </p:column>  
		        
		        <p:column width="150" >
		           <f:facet name="header">
		               <h:outputText value="#{msg['ejemploDatatable.listaOpciones.accion']}" />
		           </f:facet>
		           <h:outputText value="#{sublista.accion}" />  
		        </p:column>  
                
            </p:dataTable>  
        </p:rowExpansion>  
        
    </ssicc:dataTable>
    

  </ui:define>      
  
  <ui:define name="body_ayuda_introduccion">
  
  </ui:define>
  
  <ui:define name="body_ayuda_video">
			
	 <p:media value="/resources/media/NuestrasMarcas.mp4" width="600"	height="450"/>	
</ui:define>   
 

</ui:composition>
</body>
</html>