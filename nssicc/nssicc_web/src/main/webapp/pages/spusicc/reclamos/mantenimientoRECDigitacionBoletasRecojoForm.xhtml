<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<ui:composition template="/templates/templateMantenimientoForm.xhtml">
		<ui:param name="mAlias" value="#{mantenimientoRECDigitacionBoletasRecojoSearchAction}" />

		<ui:define name="titulo_Pantalla">
			<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.title']}" styleClass="clsEncabezadoPantalla" />
		</ui:define>		
		
		<ui:define name="body_toolbar_adicionales">			
			<ssicc:linkSaveAjax manage="#{mAlias}" rendered="#{!mAlias.formMantenimiento.viewDiscrepante}"
               						update=":principalForm:panelGroupMantenimiento :principalForm:messagesPrincipalForm, :principalForm:mensajesGrowl" />
              						  
          	<ssicc:linkSalirAjax manage="#{mAlias}" rendered="#{!mAlias.formMantenimiento.viewDiscrepante}" /> 
          	
          	<ssicc:linkAjax value="#{msg['botonSalir.titulo']}" title="#{msg['botonSalir.tooltip']}" 
								icon="#{resource['images:salirForm.png']}"
                                width="30"
                                height="30" 
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.showCabecera}"
								process="@this"										
								update=":principalForm:messagesPrincipalForm :principalForm:panel_discrepante
								:principalForm:panel_cabecera :principalForm:panel_detalle :principalForm:detalleRecojoBoletas
								:principalForm:panelCriterioMantenimiento :principalForm:panelGroupMantenimiento
								:principalForm:panelToolBar" 
								rendered="#{mAlias.mostrarBotonSalirP}"/>	
			
		</ui:define>		
		
		<ui:define name="body_busqueda_popup">
        	<ssicc:linkPopupCrearAjax id="buscarProducto"
				managePopup="#{mAlias.mantenimientoRECBusquedaProductosAction}"
				accionAceptar="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.aceptarPopup}"
				accionSalir="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.salirPopup}"
				parametroAccion="POPUP_CLIENTE"
				visible="#{mAlias.mostrarPopupCliente}"
				paginaxhtml="/pages/spusicc/reclamos/mantenimientoRECBusquedaProductosForm.xhtml"			
				update=":principalForm:panel_productoDiscrepante"
				title="#{i18n['button.search']}" />
  		</ui:define>

		<ui:define name="body_criterio_mantenimiento">
			<h:panelGroup id="panel_cabecera" rendered="#{!mAlias.formMantenimiento.viewDiscrepante}">					
				
				<!-- Cabecera -->
				<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaCabecera']}">
					<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaDatosGenerales']}">
						<h:panelGrid columns="4">
					
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoPais']}"	required="true" />
							<ssicc:label value="#{mPantallaPrincipalBean.currentUser.pais.descripcion}"	required="true" />
							<ssicc:labelBlank /><ssicc:labelBlank />
							
							<!-- Boleta Recojo-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.boletaRecojo']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.boletaRecojo}"/>
							
							<!-- Cod. Cliente-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoCliente']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.codigoCliente}"/>
							
							<!-- Nombre Cliente-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.nombreCliente']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.nombreCliente}"/>
							<ssicc:labelBlank />
							<ssicc:labelBlank />
							
							<!-- Region-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.region']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.region}"/>
							
							<!-- Zona-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.zona']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.zona}"/>
							
							<!-- Seccion-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.seccion']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.seccion}"/>
							
							<!-- Territorio-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.territorio']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.territorio}"/>
							
							<!-- Boleta de Despacho-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.boletaDespacho']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.boletaDespacho}"/>
							
							<!-- Periodo Proceso-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.periodoProceso']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.periodoProceso}"/>
							
							<!-- Estado-->  
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.estado']}"/>
							<ssicc:label value="#{mAlias.formMantenimiento.estado}"/>
							
							<!-- Resultado--> 
			 				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoResultado']}" required="true"/>
			       		    <ssicc:selectMenu id="cResultado" value="#{mAlias.formMantenimiento.codigoResultado}" required="false" 
			       		    					disabled="#{!mAlias.formMantenimiento.editResultado}"
			       		    					process=":principalForm:primerRecojo:select :principalForm:segundoRecojo:select @this"
			       		    					accionListener="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.onChangeResultado}"
			       		    					update=":principalForm:detalleRecojoBoletas">
								<f:selectItem itemLabel="" itemValue=""/>     				
			       				<f:selectItems value="#{mAlias.siccResultadosBorecList}" var="lista"  
			       					   		   itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
			       			</ssicc:selectMenu>
	       			
	       				</h:panelGrid>
	       			</p:fieldset>
	       			<br/>
	       		
					<!-- Primer Recojo--> 
					<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaPrimerRecojo']}">
						<h:panelGrid columns="4">						
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoMotivoNoRecojo1']}"/>
			       		    <ssicc:selectMenu id="primerRecojo" value="#{mAlias.formMantenimiento.codigoMotivoNoRecojo1}"
			       		    	disabled="#{!mAlias.formMantenimiento.viewEditRecojo1}" 
			       		    	process=":principalForm:cResultado:select :principalForm:segundoRecojo:select @this"
			       		    	accionListener="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.onChangeMotivoNoRecojo}"
			       		    	update=":principalForm:detalleRecojoBoletas"> 
			       		    	<f:selectItem itemLabel="" itemValue=""/> 
			       				<f:selectItems value="#{mAlias.siccMotivosNorecojoBorecList}" var="lista"  
			       					   		   itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
			       			</ssicc:selectMenu>
			       			
			       			<!-- Fecha Primer Emision--> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.fechaEmision1']}"/>
			       			<ssicc:calendar id="fechaEmisionUno" value="#{mAlias.formMantenimiento.fechaEmision1Date}" readonly="#{!mAlias.formMantenimiento.viewEditRecojo1}"/> 
			       			
			       			<!--Nombre 3ro Uno --> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.nombreTercero1']}"/>
							<ssicc:inputText value="#{mAlias.formMantenimiento.nombreTercero1}" size="60" maxlength="15" deshabilitado="#{!mAlias.formMantenimiento.viewEditRecojo1}"/>
							
							<!-- Fecha Primer Recojo--> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.fechaRecojo1']}"/>
			       			<ssicc:calendar id="fechaRecojoUno" value="#{mAlias.formMantenimiento.fechaRecojo1Date}" readonly="#{!mAlias.formMantenimiento.viewEditRecojo1}"/> 
		       			</h:panelGrid>
	       			</p:fieldset>
	       			<br/>
	       			
	       			<!-- Segundo Recojo--> 
					<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaSegundoRecojo']}">
						<h:panelGrid columns="4">						
							<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoMotivoNoRecojo2']}"/>
			       		    <ssicc:selectMenu id="segundoRecojo" value="#{mAlias.formMantenimiento.codigoMotivoNoRecojo2}" disabled="#{!mAlias.formMantenimiento.viewEditRecojo2}"
			       		    	process=":principalForm:cResultado:select :principalForm:segundoRecojo:select @this"
			       		    	accionListener="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.onChangeMotivoNoRecojo}"
			       		    	update=":principalForm:detalleRecojoBoletas"> 
			       		    	<f:selectItem itemLabel="" itemValue=""/>     				
			       				<f:selectItems value="#{mAlias.siccMotivosNorecojoBorecList}" var="lista"  
			       					   		   itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
			       			</ssicc:selectMenu>
			       			
			       			<!-- Fecha Primer Emision--> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.fechaEmision2']}"/>
			       			<ssicc:calendar id="fechaEmisionDos" value="#{mAlias.formMantenimiento.fechaEmision2Date}" readonly="#{!mAlias.formMantenimiento.viewEditRecojo2}"/> 
			       			
			       			<!--Nombre 3ro Uno --> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.nombreTercero2']}"/>
							<ssicc:inputText value="#{mAlias.formMantenimiento.nombreTercero2}" size="60" maxlength="15" deshabilitado="#{!mAlias.formMantenimiento.viewEditRecojo2}"/>
							
							<!-- Fecha Segundo Recojo--> 
			       			<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.fechaRecojo2']}"/>
			       			<ssicc:calendar id="fechaRecojoDos" value="#{mAlias.formMantenimiento.fechaRecojo2Date}" readonly="#{!mAlias.formMantenimiento.viewEditRecojo2}"/> 
						</h:panelGrid>
					</p:fieldset>
				</p:fieldset>	
			</h:panelGroup>			
		</ui:define>
	
	
		
	<ui:define name="body_adicional_mantenimiento">
	<h:panelGroup id="panel_detalle" rendered="#{!mAlias.formMantenimiento.viewDiscrepante}">			
		<!-- Detalle -->			
			<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaDetalle']}">
				<p:toolbar>
				<f:facet name="left">
					<ssicc:linkAjax value="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.button.discrepante']}" 
						title="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.button.discrepante']}"
						icon="#{resource['images:ejecutarForm2.png']}"
							width="32"
							height="32"
						accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.showDiscrepante}"
						process=":principalForm:detalleRecojoBoletas @this" parametroAccion="VER_DISCREPANTE"
						update=":principalForm:messagesPrincipalForm :principalForm:panel_discrepante 
								:principalForm:panel_cabecera :principalForm:panel_detalle 
								:principalForm:panelCriterioMantenimiento 
								:principalForm:panelGroupMantenimiento
								:principalForm:panelToolBar 
								:principalForm:detalleRecojoBoletas
								:principalForm:panel_detalleDiscrepante" />						
							
				</f:facet>					
				</p:toolbar>
				
			<h:panelGroup id="detalleRecojoBoletas">
			<ssicc:dataTable value="#{mAlias.detalleBoletasRecojoTableModel}" mostrarNroFila="true" mostrarTituloPanel="false" exportable="false"
									 manage="#{mAlias}" seleccionable="true" selection="#{mAlias.beanRegistroDetalleBoletasRecojo}">
				<p:column width="100">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.codigoVenta']}" />
					</f:facet>
						<h:outputText value="#{lista.codigoVenta}" />
				</p:column>
				<p:column width="120">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.codigoPeriodoReferencia']}" />
					</f:facet>
<!-- 						<h:outputText value="#{lista.codigoPeriodoReferencia}" /> -->
					
					<p:commandLink actionListener="#{mantenimientoRECDigitacionBoletasRecojoDetallePedidoAction.inicializar}"
						styleClass="clsLink" process="@this"
						oncomplete="ejecutarPopupDigitacion('#{facesContext.externalContext.requestContextPath}/pages/spusicc/reclamos/mantenimientoRECDigitacionBoletasRecojoDetallePedidoForm.xhtml',
							'mantenimientoRECDigitacionBoletasRecojoDetallePedidoForm.xhtml')">
				    	<h:outputText value="#{lista.codigoPeriodoReferencia}" />			    
		            	<f:param name="valor" value="#{lista.oidPedido}" />                
	           		</p:commandLink>		           
				</p:column>
				
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.codigoProducto']}" />
					</f:facet>
						<h:outputText value="#{lista.codigoProducto}" />
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.descripcionProducto']}" />
					</f:facet>
						<h:outputText value="#{lista.descripcionProducto}" />
				</p:column>	
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.unidadesReclamadas']}" />
					</f:facet>
						<h:inputText value="#{lista.unidadesReclamadas}" readonly="true"/>
				</p:column>
				<p:column width="140">
					<p:remoteCommand name="validateUnidadesEliminadas" 
						actionListener="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.validateUnidadesEliminadas}" 
						process=":principalForm:detalleRecojoBoletas @this" 
						update=":principalForm:detalleRecojoBoletas :principalForm:mensajesGrowl"/>
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.unidadesEliminadas']}" />
					</f:facet>
						<h:inputText value="#{lista.unidadesEliminadas}" disabled="#{mAlias.deshabilitaCampoEliminadas}" 
							onblur="validateUnidadesEliminadas()" maxlength="9"/>
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.unidadesRecogidas']}" />
					</f:facet>
						<h:inputText value="#{lista.unidadesRecogidas}" readonly="true"/>
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleList.discrepante']}" />
					</f:facet>
						<h:outputText value="#{lista.discrepante}" />
				</p:column>					
		  </ssicc:dataTable>
		</h:panelGroup>	
			</p:fieldset>				
	</h:panelGroup>
	<br /><br />	
		
	<!-- DISCREPANTE  -->
	<h:panelGroup id="panel_discrepante" rendered="#{mAlias.formMantenimiento.viewDiscrepante}">		
		<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaDiscrepante']}">
			<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaProductoOriginal']}">
			<h:panelGrid columns="4">
				<!-- Codigo Venta-->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoVenta']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.codigoVenta}"/>
				
				<!-- Descrip. Producto-->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.descripcionProducto']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.descripcionProducto}"/>
				
				<!-- Cod. periodo Referencia-->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoPeriodoReferencia']}"/>
<!-- 				<ssicc:label value="#{mAlias.formMantenimiento.codigoPeriodoReferencia}"/> -->
				<p:commandLink actionListener="#{mantenimientoRECDigitacionBoletasRecojoDetallePedidoAction.inicializar}"
					styleClass="clsLink" process="@this"
					oncomplete="ejecutarPopupDigitacion('#{facesContext.externalContext.requestContextPath}/pages/spusicc/reclamos/mantenimientoRECDigitacionBoletasRecojoDetallePedidoForm.xhtml',
						'mantenimientoRECDigitacionBoletasRecojoDetallePedidoForm.xhtml')">
				    <ssicc:label value="#{mAlias.formMantenimiento.codigoPeriodoReferencia}"/>			    
		            <f:param name="valor" value="#{mAlias.formMantenimiento.valorPedido}" />                
	           	</p:commandLink>
				
				<!-- Unid. Reclamadas-->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.unidadesReclamadas']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.unidadesReclamadas}"/>
				
				<!-- Cod. Producto-->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoProducto']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.codigoProducto}"/>
				
				<!-- Unid. Eliminadas -->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.unidadesEliminadas']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.unidadesEliminadas}"/>
				
				<!-- Precio -->  
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.precio']}"/>
				<ssicc:label value="#{mAlias.formMantenimiento.precio}"/>
				
			</h:panelGrid>
			</p:fieldset>
			<br /> <br />
			
			<!-- Prod. DISCREPANTE --> 
			<p:fieldset legend="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.leyendaProductoDiscrepante']}">
			<h:panelGrid id="panel_productoDiscrepante" columns="4">
				
				<!-- Cod. Venta -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoVentaDiscrepante']}"/>
				<h:panelGroup>
					<ssicc:inputText id="codProductoBuscar" value="#{mAlias.formMantenimiento.codigoVentaDiscrepante}" readonly="true"/>
	       			<ssicc:linkPopupInvocarAjax accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.invocarPopup}" 
						       	     			parametroAccion="POPUP_CLIENTE" process="@this" />  
				</h:panelGroup>      			
	       				
	     
	       		<!-- Desc. Venta -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.descripcionProductoDisc']}"/>      			
	       		<ssicc:inputText value="#{mAlias.formMantenimiento.descripcionProductoDisc}" readonly="true" size="35"/>
	       		
	       		<!-- Cod. Referencia -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoPeriodoReferenciaDiscrepante']}"/>      			
	       		<ssicc:inputText value="#{mAlias.formMantenimiento.codigoPeriodoReferenciaDiscrepante}" readonly="true"/>      		
	       			       		
	       		<!-- Cod. Producto -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.codigoProductoDiscrepante']}"/>      			
	       		<ssicc:inputText value="#{mAlias.formMantenimiento.codigoProductoDiscrepante}" readonly="true"/>
	       		
	       		<!-- Precio Unitario -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.precioDiscrepante']}"/>      			
	       		<ssicc:inputText value="#{mAlias.formMantenimiento.precioDiscrepante}" readonly="true"/>
	       		
	       		<!-- Unid. Recogidas -->
				<ssicc:label key="#{i18n['mantenimientoRECDigitacionBoletasRecojoForm.unidadesRecogidas']}"/>      			
	       		<ssicc:inputText value="#{mAlias.formMantenimiento.unidadesRecogidas}"/>
	       		
	       </h:panelGrid>
	       <br /><br />
	       
	     <!-- Botones --> 
	     <p:toolbar id="panelBotones">
			<f:facet name="left">
				<ssicc:linkAjax value="#{i18n['button.insert']}" title="#{i18n['button.insert']}"
								icon="#{resource['images:ejecutarForm2.png']}"
								width="30" height="30"
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.confirmar}"
								process=":principalForm:panel_discrepante @this" 
								parametroAccion="INSERTAR_DETALLE"
								parametroVentana="confirmDialogInsertarDetalle"
								rendered="#{mAlias.mostrarBotones}"
								update=":principalForm:messagesPrincipalForm :principalForm:panel_productoDiscrepante" />						
				
				<ssicc:linkAjax value="#{i18n['button.delete']}" title="#{i18n['button.delete']}"
								icon="#{resource['images:eliminarForm3.png']}"
								width="30" height="30"
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.confirmar}"
								process=":principalForm:panel_detalleDiscrepante @this"
								parametroAccion="ELIMINAR_DETALLE"
								parametroVentana="confirmDialogEliminarDetalle"
								rendered="#{mAlias.mostrarBotones}"
								update=":principalForm:messagesPrincipalForm" />	
				 
				<ssicc:linkAjax value="#{i18n['button.edit']}" title="#{i18n['button.edit']}"
								icon="#{resource['images:editarForm.png']}"
								width="30"	height="30"
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.editDiscrepante}" 
								rendered="#{mAlias.mostrarBotones}"
								update=":principalForm:messagesPrincipalForm :principalForm:panel_detalleDiscrepante
										:principalForm:panel_productoDiscrepante :principalForm:panelBotones"/>	
				
				<ssicc:linkAjax value="#{i18n['button.save']}" 	title="#{i18n['button.save']}"
								icon="#{resource['images:saveForm.png']}"
								width="32" height="32" 
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.confirmar}"
								parametroAccion="GUARDAR_DETALLE"
								parametroVentana="confirmDialogGuardarDetalle"
								rendered="#{not mAlias.mostrarBotones}"
								update=":principalForm:messagesPrincipalForm" />
					
				<ssicc:linkAjax value="#{i18n['button.cancel']}" title = "#{i18n['button.cancel']}" 
								icon="#{resource['images:salirForm.png']}"
			                    width="30" height="30" 
								process="@this"
								accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.cancelar}" 
								update=":principalForm:messagesPrincipalForm :principalForm:panel_detalleDiscrepante
										:principalForm:panel_productoDiscrepante :principalForm:panelBotones"
								rendered="#{not mAlias.mostrarBotones}" />
				
						
			</f:facet>					
		</p:toolbar> 
		 <br /><br />
		 
		<h:panelGroup id="panel_detalleDiscrepante">
	       <ssicc:dataTable value="#{mAlias.detalleDiscrepanteDataModel}" mostrarNroFila="true" mostrarTituloPanel="false" exportable="false"
									 manage="#{mAlias}" seleccionable="true" selection="#{mAlias.beanRegistroDetalleDiscrepante}" >
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.codigoVentaDiscrepante']}" />
					</f:facet>
						<h:outputText value="#{lista.codigoVentaDiscrepante}" />
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.periodoDiscrepante']}" />
					</f:facet>
						<h:outputText value="#{lista.periodoDiscrepante}" />
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.codigoProductoDiscrepante']}" />
					</f:facet>
						<h:outputText value="#{lista.codigoProductoDiscrepante}" />
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.descripcionProductoDisc']}" />
					</f:facet>
						<h:outputText value="#{lista.descripcionProductoDisc}" />
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.unidadesRecogidas']}" />
					</f:facet>						
						<h:outputText value="#{lista.unidadesRecogidas}" />						
				</p:column>
				<p:column width="140">
					<f:facet name="header">
						<h:outputText value="#{i18n['mantenimientoRECDigitacionBoletasRecojoDetalleDiscrepanteList.precioDiscrepante']}" />
					</f:facet>
						<h:outputText value="#{lista.precioDiscrepante}" />
				</p:column>
			</ssicc:dataTable>
		</h:panelGroup> 		
			</p:fieldset> 	
		</p:fieldset>
	</h:panelGroup>	
	
		<!-- DISCREPANTE  -->
<!-- 		<ssicc:confirmDialogConfirmar id="confirmDialogVerDiscrepante" -->
<!-- 				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"				 -->
<!-- 				accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.showDiscrepante}" -->
<!-- 				update=":principalForm:messagesPrincipalForm :principalForm:panel_discrepante  -->
<!-- 						:principalForm:panel_cabecera :principalForm:panel_detalle  -->
<!-- 						:principalForm:panelCriterioMantenimiento :principalForm:panelGroupMantenimiento -->
<!-- 						:principalForm:panelToolBar :principalForm:panel_detalleDiscrepante" />		 -->
					
		
		<!-- INSERTAR -->
		<ssicc:confirmDialogConfirmar id="confirmDialogInsertarDetalle"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.insertDiscrepante}"
				update=":principalForm:messagesPrincipalForm :principalForm:panel_detalleDiscrepante
						:principalForm:panel_productoDiscrepante" />
		
		<!-- ELIMINAR -->		
		<ssicc:confirmDialogConfirmar id="confirmDialogEliminarDetalle"
				manage="#{mAlias}" mensaje="#{i18n['confirm.delete.message']}"
				accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.deleteDiscrepante}"
				update=":principalForm:messagesPrincipalForm :principalForm:panel_detalleDiscrepante" />
		
		<!-- GUARDAR -->			
		<ssicc:confirmDialogConfirmar id="confirmDialogGuardarDetalle"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoRECDigitacionBoletasRecojoSearchAction.updateDiscrepante}"
				update=":principalForm:messagesPrincipalForm :principalForm:panel_detalleDiscrepante
						:principalForm:panel_productoDiscrepante :principalForm:panelBotones" />
				
				
		<!-- POPUP Tabla Detalle campo Periodo Referencia -->
			<h:outputScript>				
				 function ejecutarPopupDigitacion(paginaPopup, nombrePagina) {
				   	  var nombrePopup = nombrePagina.substring (0, nombrePagina.length - 3);  
		              var win  = window.open(paginaPopup, nombrePopup,
				          "dependent=yes,status=0,scrollbars=1,toolbar=0,menubar=0,location=0,directories=0,resizable=0, width=1100 height=600, top=50, left=20");
			       return true;
				 }				
			</h:outputScript>			
			
		</ui:define>

	</ui:composition>	 
</body>
</html>