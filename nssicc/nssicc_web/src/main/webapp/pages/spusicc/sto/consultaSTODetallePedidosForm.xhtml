<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc"
	xmlns:bel="http://www.belcorp.biz/ssicc/components">
<body>
	<ui:composition
		template="/templates/templatePopupEmergenteDetalleTabla.xhtml">
		<ui:param name="mAlias" value="#{consultaSTODetallePedidosAction}" />

		<ui:define name="titulo_Pantalla">
			<h:outputText value="#{i18n['consultaSTODetallePedidosForm.title']}"
				styleClass="clsEncabezadoPantalla" />
		</ui:define>
		
		<ui:define name="toolbar_popup">
			<ssicc:linkAjax id="btnBuscar" value="#{i18n['botonBuscar.titulo']}"
				title="#{i18n['botonBuscar.titulo']}"
				accion="#{consultaSTODetallePedidosAction.buscar}"
				icon="#{resource['images:buscarForm3.png']}"
				width="30"
				height="30" 
				mostrarMensajePrincipal="false" idForm=":principalFormPopUp"
				update=":principalFormPopUp:idBody_encabezado_detalle
						:principalFormPopUp:mensajesGrowl " />
		</ui:define>

		<ui:define name="body_encabezado_detalle">
			<h:panelGrid columns="2">

				<ssicc:label
					key="#{i18n['consultaOCRDetallePedidoForm.codigoPais']}"
					required="true" />
				<ssicc:label
					value="#{mPantallaPrincipalBean.currentUser.pais.descripcion}" />


				<ssicc:label
					key="#{i18n['consultaSTODetallePedidosForm.codigoConsultora']}" />
				<ssicc:label value="#{mAlias.formBusqueda.codigoConsultora}" />


				<ssicc:label
					key="#{i18n['consultaSTODetallePedidosForm.codigoVenta']}" />
				<ssicc:inputText value="#{mAlias.formBusqueda.codigoVenta}" />

			</h:panelGrid>

			<h:panelGrid rendered="#{mAlias.formBusqueda.tipo== 'GP1'}">
				<p:dataTable widgetVar="dataTableWidgetVar1" id="datatableGPIGP2"
					var="lista" paginator="true"
					value="#{mAlias.stoListaDetallePEdidoGPI1GP2}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
					currentPageReportTemplate="{totalRecords} registros encontrados"
					rows="10" rendered="#{!empty mAlias.stoListaDetallePEdidoGPI1GP2}"
					paginatorPosition="top">

					<!-- Exportar -->
					<f:facet name="{Exporters}"> 
					&nbsp;&nbsp;&nbsp;&nbsp;
								<h:commandLink>
							<p:graphicImage value="#{resource['images:excelForm.png']}"
				                width="26"
				                height="24" title="#{msg['botonExcel.tooltip']}"
								styleClass="clsImagen" style="vertical-align:middle" />
							<p:dataExporter type="xls" target="datatableGPIGP2"
								fileName="findDetalleConsultaSTO" postProcessor="#{mDataExporterBean.postProcessXLS}" />
						</h:commandLink>

					</f:facet>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.codigoVenta']}"
						exportable="true">
						<h:outputText value="#{lista.codigoVenta}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.descripcionProducto']}"
						exportable="true" width="160">
						<h:outputText value="#{lista.descripcionProducto}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.unidadDemanda']}"
						exportable="true">
						<h:outputText value="#{lista.unidadDemanda}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.valorPrecioCatalogo']}"
						exportable="true">
						<h:outputText value="#{lista.valorPrecioCatalogo}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.origenOCR']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenOCR}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.origenWEB']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenWEB}" />
					</p:column>

					<p:column headerText="#{i18n['detallePedidoListGP1_GP2.origenDD']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenDD}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.origenIVR']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenIVR}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP1_GP2.origenDIG']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenDIG}" />
					</p:column>

				</p:dataTable>
			</h:panelGrid>

			<h:panelGrid rendered="#{mAlias.formBusqueda.tipo == 'GP3'}">
				<p:dataTable widgetVar="dataTableWidgetVar12"
					id="datatableGP3GP4GP5" var="lista" paginator="true"
					value="#{mAlias.stoListaDetallePEdidoGPI3GP4GP5}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
					currentPageReportTemplate="{totalRecords} registros encontrados"
					rows="10" rendered="#{!empty mAlias.stoListaDetallePEdidoGPI3GP4GP5}"
					paginatorPosition="top">

					<!-- Exportar -->
					<f:facet name="{Exporters}"> 
					&nbsp;&nbsp;&nbsp;&nbsp;
								<h:commandLink>
							<p:graphicImage value="#{resource['images:excelForm.png']}"
				                width="26"
				                height="24" title="#{msg['botonExcel.tooltip']}"
								styleClass="clsImagen" style="vertical-align:middle" />
							<p:dataExporter type="xls" target="datatableGP3GP4GP5"
								fileName="findDetalleConsultaSTO" />
						</h:commandLink>

					</f:facet>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.codigoVenta']}"
						exportable="true">
						<h:outputText value="#{lista.codigoVenta}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.descripcionProducto']}"
						exportable="true" width="160">
						<h:outputText value="#{lista.descripcionProducto}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.unidadDemanda']}"
						exportable="true" width="40">
						<h:outputText value="#{lista.unidadDemanda}" />
					</p:column>
					
					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.tipoPosicion']}"
						exportable="true" width="40">
						<h:outputText value="#{lista.tipoPosicion}" />
					</p:column>

						<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.precioCatalogoUnitario']}"
						exportable="true" width="40">
						<h:outputText value="#{lista.precioCatalogoUnitario}" />
					</p:column>
				
				
					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.precioCatalogoTotal']}"
						exportable="true" width="40">
						<h:outputText value="#{lista.precioCatalogoTotal}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.porcentajeDescuento']}"
						exportable="true" width="60">
						<h:outputText value="#{lista.porcentajeDescuento}" />
					</p:column>
					
						<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.tipoDemanda']}"
						exportable="true" width="60">
						<h:outputText value="#{lista.tipoDemanda}" />
					</p:column>
					

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.origenOCR']}"
						exportable="true">
						<h:outputText value="#{lista.origenOCR}" width="20" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.origenWEB']}"
						exportable="true">
						<h:outputText value="#{lista.origenWEB}" width="20" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.origenDD']}"
						exportable="true" width="20">
						<h:outputText value="#{lista.origenDD}" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.origenIVR']}"
						exportable="true">
						<h:outputText value="#{lista.origenIVR}" width="20" />
					</p:column>

					<p:column
						headerText="#{i18n['detallePedidoListGP3_GP4_GP5.origenDIG']}"
						exportable="true">
						<h:outputText value="#{lista.origenDIG}" width="20" />
					</p:column>

				</p:dataTable>
			</h:panelGrid>
		</ui:define>
	</ui:composition>

</body>
</html>