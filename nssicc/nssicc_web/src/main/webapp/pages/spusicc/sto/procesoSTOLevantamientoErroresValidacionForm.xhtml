<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"       
      xmlns:p="http://primefaces.org/ui"
      xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc"
      xmlns:bel="http://www.belcorp.biz/ssicc/components">
	
<body>

<ui:composition template="/templates/templateProceso.xhtml">
  <ui:param name="mAlias" value="#{procesoSTOLevantamientoErroresValidacionAction}"/>
  
  <ui:define name="titulo_Pantalla">
        <h:outputText value="#{i18n['procesoSTOLevantamientoErroresValidacionForm.title']}" styleClass="clsEncabezadoPantalla" />        
  </ui:define>
    
  <ui:define name="body_toolbar_adicionales">		
		<!-- Buscar-->								
		<ssicc:linkAjax value="#{msg['botonBuscar.titulo']}" 
		    id="botonBusqueda"
		    title="#{msg['botonBuscar.tooltip']}" 
			icon="#{resource['images:buscarForm3.png']}"
			width="30"
			height="30"
			accion="#{procesoSTOLevantamientoErroresValidacionAction.busquedaPrincipal}"
			process=":principalForm:panelCriterioBase  @this"
			update=":principalForm:messagesPrincipalForm :principalForm:panelCriterioBase 
					:principalForm:toolbar_principal :principalForm:panelAdicionalProceso"/>
	
		<!-- Modificar-->	
		<ssicc:linkAjax value="#{msg['botonModificar.titulo']}" title="#{msg['botonModificar.tooltip']}" 
									icon="#{resource['images:editarForm.png']}"
									width="30"
									height="30"
									accion="#{procesoSTOLevantamientoErroresValidacionAction.ejecutarModificar}"
									process=":principalForm:dataPrincipal  @this"
									update=":principalForm:messagesPrincipalForm @this" 
									oncomplete="handleComplete(xhr, status, args)" />
	
					
  </ui:define>
  
  <ui:define name="body_criterio_proceso">
		<h:panelGrid columns="1" >
			<h:panelGrid columns="3" >
				<h:panelGrid columns="2" >	
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.codigoPais']}" required="true" />    
					<ssicc:label value="#{mPantallaPrincipalBean.currentUser.pais.descripcion}" header="true" required="true" />
					
					<!-- Tipo Documento -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.tipoDocumento']}" required="true"/>
					<ssicc:selectMenu id="cTipoDoc" value="#{mAlias.formProceso.tipoDocumento}" required="true" process="@this"  
       		                            mensajeProcesando = "true"     		                         
      									accionListener="#{procesoSTOLevantamientoErroresValidacionAction.loadTipoDocumento}"       									
      									update=":principalForm:cValida:select 
	      									:principalForm:actualiza_periodo :principalForm:panelCriterioBase
	      									:principalForm:cOrigen:select :principalForm:cZonaArribo:select
	      									:principalForm:listaBusquedaForm :principalForm:cAccion:select 
	      									:principalForm:panelAdicionalProceso"
      									>
      					<f:selectItem itemLabel="" itemValue=""/>
       					<f:selectItems value="#{mAlias.stoTipoDocumentoList}" var="lista"  
       					   			itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
       				</ssicc:selectMenu>
	       			<!-- Periodo -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.codigoPeriodo']}"/>
					<h:panelGroup id="actualiza_periodo">					
						<ssicc:campaignCalendar2 id="idCodigoPeriodo" manage="#{mAlias}" value="#{mAlias.formProceso.codigoPeriodo}" />
					</h:panelGroup>	  
				</h:panelGrid>
				<h:panelGrid columns="2" >
					<ssicc:labelBlank/>
					<ssicc:labelBlank/>
					<!-- Validacion-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.validaciones']}"/>
					<ssicc:selectMenu id="cValida" value="#{mAlias.formProceso.codigoValidacion}">										
						<f:selectItems value="#{mAlias.stoValidacionesByDocumento}" var="lista"
							itemLabel="#{lista.label}" itemValue="#{lista.value}" />
					</ssicc:selectMenu>	
					<!-- Fecha Facturacion-->  
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.fechaProceso']}" rendered="#{mAlias.mostrarFecha}"/>
					<ssicc:label id="fechaProceso" value="#{mAlias.formProceso.fechaProceso}" rendered="#{mAlias.mostrarFecha}"/>
					<ssicc:labelBlank rendered="#{!mAlias.mostrarFecha}"/>
					<ssicc:labelBlank rendered="#{!mAlias.mostrarFecha}"/>
				</h:panelGrid>
				<ssicc:labelBlank/>
				<!-- CARGA -->	
				<p:fieldset legend="#{i18n['procesoSTOLevantamientoErroresValidacionForm.carga']}">
	       		<h:panelGrid columns="10">
	       			<!-- Fecha Inicio -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.fechaInicio']}"/>
					<p:calendar id="fechaInicio"
								value="#{mAlias.formProceso.fechaInicioDate}"
								pattern="dd/MM/yyyy HH:mm" mode="popup" showOn="button"
								navigator="true" popupIcon="#{resource['images:menu.png']}"
								locale="es" style="width:300px" popupIconOnly="true" mask="true" />
							<!--  ssicc:calendar id="fechaInicio" value="#{mAlias.formProceso.fechaInicioDate}"/-->
					
					<ssicc:labelBlank/><ssicc:labelBlank/>
					<!-- Fecha Fin -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.fechaFin']}"/>
					<p:calendar id="fechaFin"
								value="#{mAlias.formProceso.fechaFinDate}"
								pattern="dd/MM/yyyy HH:mm" mode="popup" showOn="button"
								navigator="true" popupIcon="#{resource['images:menu.png']}"
								locale="es" style="width:300px" popupIconOnly="true" mask="true" />
					<!--ssicc:calendar id="fechaFin" value="#{mAlias.formProceso.fechaFinDate}"/-->
				</h:panelGrid>					
	       		</p:fieldset>
	       		<!-- PROCESO -->		
	       		<p:fieldset legend="#{i18n['procesoSTOLevantamientoErroresValidacionForm.proceso']}">
		       		<h:panelGrid columns="10">       			
		       			<!-- Fecha Inicio -->
						<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.fechaInicio']}"/>
						<p:calendar id="fInicio"
									value="#{mAlias.formProceso.fechaInicioProcesoDate}"
									pattern="dd/MM/yyyy HH:mm" mode="popup" showOn="button"
									navigator="true" popupIcon="#{resource['images:menu.png']}"
									locale="es" style="width:300px" popupIconOnly="true" mask="true" />
						<!--  ssicc:calendar id="fInicio" value="#{mAlias.formProceso.fechaInicioProcesoDate}"/-->
						
						<ssicc:labelBlank/><ssicc:labelBlank/>
						<!-- Fecha Fin -->
						<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.fechaFin']}"/>
						<p:calendar id="fFin"
									value="#{mAlias.formProceso.fechaFinProcesoDate}"
									pattern="dd/MM/yyyy HH:mm" mode="popup" showOn="button"
									navigator="true" popupIcon="#{resource['images:menu.png']}"
									locale="es" style="width:300px" popupIconOnly="true" mask="true" />
						<!-- ssicc:calendar id="fFin" value="#{mAlias.formProceso.fechaFinProcesoDate}"/ -->
					</h:panelGrid>
	       		</p:fieldset>
       			<ssicc:labelBlank/>	
       			<p:fieldset legend="#{i18n['procesoSTOLevantamientoErroresValidacionForm.seccionDocumento']}">
	       			<h:panelGrid columns="1">       			
		       			<ssicc:selectOneRadio id="flagSeccion" value="#{mAlias.formProceso.indicadorDocumento}" >
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorDocumento.Cabecera']}" itemValue="#{mAlias.stoTipoDocumentoCabecera}"  />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorDocumento.Detalle']}" itemValue="#{mAlias.stoTipoDocumentoDetalle}" />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorDocumento.Todos']}" itemValue="#{mAlias.stoTipoDocumentoTodos}"/>  
						</ssicc:selectOneRadio>
					</h:panelGrid>	
	       		</p:fieldset>
	       		<p:fieldset legend="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorGestionable']}">
	       			<h:panelGrid columns="1">       			
		       			<ssicc:selectOneRadio id="flagGestion" value="#{mAlias.formProceso.indicadorGestionable}">
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorGestionable.Si']}" itemValue="#{mAlias.stoTipoGestionableSi}" />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorGestionable.No']}" itemValue="#{mAlias.stoTipoGestionableNo}" />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorGestionable.Todos']}" itemValue="#{mAlias.stoTipoGestionableTodos}" />  
						</ssicc:selectOneRadio>
					</h:panelGrid>	
	       		</p:fieldset>
	       		<ssicc:labelBlank/>	
	       		<p:fieldset legend="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorAprobado']}">
       				<h:panelGrid columns="1">       			
		       			<ssicc:selectOneRadio id="flagAproba" value="#{mAlias.formProceso.indicadorAprobado}">
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorAprobado.Si']}" itemValue="#{mAlias.stoTipoAprobadoSi}" />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorAprobado.No']}" itemValue="#{mAlias.stoTipoAprobadoNo}" />
							<f:selectItem itemLabel="#{i18n['procesoSTOLevantamientoErroresValidacionForm.indicadorAprobado.Todos']}" itemValue="#{mAlias.stoTipoAprobadoTodos}" />  
						</ssicc:selectOneRadio>
					</h:panelGrid>	
       			</p:fieldset>
       			<h:panelGrid columns="5" >
					<!-- Origen -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.codigoOrigen']}"/>
					<ssicc:selectMenu id="cOrigen" value="#{mAlias.formProceso.codigoOrigen}">
						<f:selectItems itemValue="" itemLabel=""/>				
						<f:selectItems value="#{mAlias.stoOrigenesList}" var="lista"
										itemLabel="#{lista.label}" itemValue="#{lista.value}" />
					</ssicc:selectMenu>	
					
					<ssicc:labelBlank/>
					<!-- Cod. Zona Arribo -->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.codigoZonaArribo']}"/>
					<ssicc:selectMenu id="cZonaArribo" value="#{mAlias.formProceso.codigoZonaArribo}">									
						<f:selectItems value="#{mAlias.stoZonaArriboList}" var="lista"
										itemLabel="#{lista.label}" itemValue="#{lista.value}" />
					</ssicc:selectMenu>	
					
					<!-- Nro Documento-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.numDocumento']}" />
					<!--  ssicc:inputText value="#{mAlias.formProceso.numDocumento}" maxlength="10" size="10"	 esNumerico="true"/-->
					<h:inputText idForm=":principalForm"
								id="numDocumento"
								value="#{mAlias.formProceso.numDocumento}" 
								styleClass="#{component.valid ? 'cls-inputfield' : 'ui-state-error'}"
								size="10" 
								maxlength="10" 
								onkeypress="if (event.keyCode == 13) {
												buscar_command();
	  										 	return false;
	  										 }
								else {return soloNumero(event);}">
					</h:inputText>
					
					<ssicc:labelBlank/>	
					<!-- Nro Doc Identidad-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.documentoIdentidad']}" />
					<ssicc:inputText value="#{mAlias.formProceso.documentoIdentidad}" maxlength="20" size="20"
									onkeypress="if (event.keyCode == 13) {
													buscar_command();
	  										 		return false;
	  										 	}
												else {return soloNumero(event);}"/>
							
					<!-- Consultora-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.codigoCliente']}" />	
					<ssicc:inputText value="#{mAlias.formProceso.codigoCliente}" maxlength="#{mAlias.longitudCampoClientes*30}"  size="#{mAlias.longitudCampoClientes*3}"
									onchange="this.value =formatClientes(this.value,#{mAlias.longitudCampoClientes});" 
									onkeypress="if (event.keyCode == 13) {
												this.value =formatClientes(this.value,#{mAlias.longitudCampoClientes});
												buscar_command();
	  										 	return false;
	  										 }"/>			
					<p:remoteCommand name="buscar_command" id="#{cc.clientId}_command"
								actionListener="#{procesoSTOLevantamientoErroresValidacionAction.busquedaPrincipal}"
								onstart="PF('idblockEspereBody').block();"	
			     			    oncomplete="PF('idblockEspereBody').unblock(); "	
								update=":principalForm:messagesPrincipalForm :principalForm:panelCriterioBase 
										:principalForm:toolbar_principal :principalForm:panelAdicionalProceso" />
					<ssicc:labelBlank/>
				</h:panelGrid>
       			<ssicc:labelBlank/>	
	       		<h:panelGrid columns="5" >
	       			<!-- Nro Lote-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.numeroLote']}" />
					<ssicc:inputText value="#{mAlias.formProceso.numeroLote}" maxlength="8" size="10"
									onchange="this.value =completarCaracteres(this.value,this.maxLength,'0');" 
									onkeypress="if (event.keyCode == 13) {
													this.value =completarCaracteres(this.value,this.maxLength,'0');
													buscar_command();
	  										 		return false;
	  										 	}
	  											else {return soloNumero(event);}"/>
					
					<ssicc:labelBlank/>	
	       			<!-- Nro Doc Int-->
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.numeroDocumento']}" />
					<ssicc:inputText value="#{mAlias.formProceso.numeroDocumento}" maxlength="10" size="10"	 
									onkeypress="if (event.keyCode == 13) {
													buscar_command();
	  										 		return false;
	  										 	}
	  											else {return soloNumero(event);}"/>
				</h:panelGrid>
				<ssicc:labelBlank/>
       			<ssicc:labelBlank/>
				<h:panelGrid columns="2" >	
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.regionList']}" />
       		 	</h:panelGrid>	
			 	<h:panelGrid columns="2" >	
					<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.zonaList']}"/>
       		 	</h:panelGrid>	
				<ssicc:labelBlank/>
				 <!-- Region -->
				<ssicc:selectManyMenu id="cRegion" value="#{mAlias.formProceso.regionList}"
      									accionListener="#{procesoSTOLevantamientoErroresValidacionAction.loadZonas}" 
      									update=":principalForm:cZona:selectMany">
					<f:selectItem itemLabel="Todos" itemValue=""/>
       				<f:selectItems value="#{mAlias.siccRegionList}" var="lista"  
       					   			itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
				</ssicc:selectManyMenu>  
            	<!-- Zona-->
       			<ssicc:selectManyMenu id="cZona" value="#{mAlias.formProceso.zonaList}">      		
       				<f:selectItems value="#{mAlias.siccZonaList}" var="lista"
       					    		itemLabel="#{lista.label}" itemValue="#{lista.value}"/>
      			</ssicc:selectManyMenu>	
      			<ssicc:labelBlank/>		
      			<!-- Carga de archivo -->	       		
	       		<h:panelGrid id="idUploadFile" columns="3" style="text-align: center">
				<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.clienteFile']}" />
				<h:panelGroup>
					<h:form prependId="true" id="formCargaArchivo" enctype="multipart/form-data">
					<p:fileUpload widgetVar="upload" fileUploadListener="#{mAlias.handleFileUpload}" mode="advanced"
							update=":principalForm:mensajesGrowl :principalForm:toolbar_principal :principalForm:panelToolBar
							:principalForm:panelCriterioBase :principalForm:idArchivoCliente"							
							multiple="false" allowTypes="/(\.|\/)(txt|TXT)$/"
							invalidFileMessage="Debe ingresar un archivo con extension .txt"
							dragDropSupport="true" label="Buscar archivo"
							uploadLabel="Cargar" cancelLabel="Cancelar" auto="true" 
							process="@this">
					</p:fileUpload>					
					</h:form> 							
				</h:panelGroup>
				<p:commandButton actionListener="#{procesoSTOLevantamientoErroresValidacionAction.limpiaCargaArchivos}" id="btLimpiar" 
					 					update=":principalForm:idArchivoCliente :principalForm:idUploadFile"  icon="ui-icon-close" 
					 					title="#{i18n['button.reset']}" rendered="#{not empty mAlias.stoLevantamientoErroresCLientesList}"/>	
				</h:panelGrid>
				<!--  ssicc:label id="idAtachment" value="#{mAlias.attachment}" /-->
				<ssicc:labelBlank/>	
				<ssicc:labelBlank/>	
			</h:panelGrid>
			
			<h:panelGrid id="idArchivoCliente" columns="2" style="padding-left:100px;font-weight: bold;" width="45%;">							
				<!-- Grilla de Codigos Consultora -->
				<h:outputText value="#{mAlias.formProceso.codigosErradosFile}" rendered="#{not empty mAlias.stoLevantamientoErroresCLientesList}" style="color: #FE2E2E"/>
				<br />				
				
				<!-- Codigos Consultora -->	
				<h:panelGroup style="text-align: right;">
				<p:dataTable var="lista"  value="#{mAlias.stoLevantamientoErroresCLientesList}" emptyMessage="El archivo esta vacio" paginator="true" rows="5"
					 rowKey="#{lista}" rowIndexVar="rowIndex" rowsPerPageTemplate="5,10,15,20"
		     		 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
	                 currentPageReportTemplate="{totalRecords} registros cargados"
		     		 paginatorPosition="top"  rendered="#{not empty mAlias.stoLevantamientoErroresCLientesList}" >
				    
				    <!-- Exportar -->
					     <f:facet name="{Exporters}">
					            <h:commandLink>
					                <p:graphicImage value="#{resource['images:excelForm.png']}"
									                width="26"
									                height="24" title="#{msg['botonExcel.tooltip']}" styleClass="clsImagen" 
							               			style="vertical-align:middle"/>  
					                <p:dataExporter type="xls" target="dataPrincipal" fileName="dataBusqueda" postProcessor="#{mDataExporterBean.postProcessXLS}"/>
					            </h:commandLink> 
					    </f:facet>
			      		<p:column width="140" exportable="true" rendered="false" headerText="#{i18n['stoLevantamientoErroresClientesList.indicadorValido']}" style="text-align: right;">			
							<h:outputText value="#{i18n['stoLevantamientoErroresClientesList.noValido']}" rendered="#{lista.indicadorValido eq 0}"/>
							<h:outputText value="#{i18n['stoLevantamientoErroresClientesList.valido']}"  rendered="#{lista.indicadorValido eq 1}"/>
						</p:column>
					  <p:column headerText="#{i18n['stoLevantamientoErroresClientesList.codigoCliente']}">					
							<h:outputText value="#{lista.codigoCliente}" rendered="#{lista.indicadorValido eq 0}" style="color: red;"/>
							<h:outputText value="#{lista.codigoCliente}" rendered="#{lista.indicadorValido eq 1}" />
					  </p:column>				
				</p:dataTable>
					  	
				</h:panelGroup>
				<br />				
				
				<!-- Resumen  -->	
				<h:panelGroup style="text-align: right;" >				 
		  	 	<ssicc:dataTable value="#{mAlias.stoResumenClientesList}" mostrarNroFila="false" exportable="false"
							mostrarTituloPanel="false" selection="false" toggleable="false" seleccionable="false"
							 rows="5" paginator="false"  rendered="#{not empty mAlias.stoResumenClientesList}">			        
					  <p:column headerText="#{i18n['stoResumenClientesList.recibidos']}">					
							<h:outputText value="#{lista.recibidos}" />						
					  </p:column>
					  <p:column headerText="#{i18n['stoResumenClientesList.noEncontradas']}">					
							<h:outputText value="#{lista.noEncontradas}" />						
					  </p:column>
					  <p:column headerText="#{i18n['stoResumenClientesList.sto']}">					
							<h:outputText value="#{lista.sto}" />						
					  </p:column>					
					  <p:column headerText="#{i18n['stoResumenClientesList.gp1']}">					
							<h:outputText value="#{lista.gp1}" />						
					  </p:column>
					   <p:column headerText="#{i18n['stoResumenClientesList.gp2']}">					
							<h:outputText value="#{lista.gp2}" />						
					  </p:column>
					   <p:column headerText="#{i18n['stoResumenClientesList.gp3']}">					
							<h:outputText value="#{lista.gp3}" />						
					  </p:column>	
					   <p:column headerText="#{i18n['stoResumenClientesList.gp4']}">					
							<h:outputText value="#{lista.gp4}" />						
					  </p:column>
					   <p:column headerText="#{i18n['stoResumenClientesList.gp5']}">					
							<h:outputText value="#{lista.gp5}" />						
					  </p:column>	
					   <p:column headerText="#{i18n['stoResumenClientesList.total']}">					
							<h:outputText value="#{lista.total}" />						
					  </p:column>	
		  	 </ssicc:dataTable> 	
				</h:panelGroup>
				</h:panelGrid>					
	    </h:panelGrid>
	    
  </ui:define> 

<ui:define name="body_adicional_proceso"> 

<h:panelGrid id="busquedaPrincipal" >
<!-- Motivo Rechazo -->
		<h:panelGrid id="grillaRechazo" columns="3">
		<!-- ACCION -->		
		<ssicc:selectMenu id="cAccion" value="#{mAlias.formProceso.accion}"
		                  style="vertical-align:middle"
						  accionListener="#{procesoSTOLevantamientoErroresValidacionAction.loadMotivosRechazo}" 
    					  update=":principalForm:grillaRechazo" 
    					  rendered="#{mAlias.mostrarAccion}">						
			<f:selectItems value="#{mAlias.stoAccionesGestionList}" var="lista"
							itemLabel="#{lista.label}" itemValue="#{lista.value}"  />
		</ssicc:selectMenu>
		
		<!-- Procesar-->	
		<ssicc:linkExecuteProcesoAjax manage="#{mAlias}" rendered="#{mAlias.mostrarAccion}"
									update=":principalForm:panelAdicionalProceso"/>
									
		 <h:panelGroup id="panel_motivoRechazo" rendered="#{mAlias.mostrarMotivoRechazo}" >
		   <h:panelGrid columns="2"> 
				<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.motivoRechazo']}"/>
				<ssicc:selectMenu id="cMotivoRechazo" value="#{mAlias.formProceso.motivoRechazo}">				
					<f:selectItems value="#{mAlias.stoMotivosRechazoList}" var="lista"
								   itemLabel="#{lista.label}" itemValue="#{lista.value}" />
				</ssicc:selectMenu>	
				
				<ssicc:label key="#{i18n['procesoSTOLevantamientoErroresValidacionForm.observaciones']}"/>
				<p:inputTextarea value="#{mAlias.formProceso.observaciones}" rows="3" cols="48" maxlength="200" style="width:300px; height:50px;" />
								
			</h:panelGrid>
		    </h:panelGroup>
		</h:panelGrid>
		
		
			
 <p:dataTable id="dataPrincipal" value="#{mAlias.nuevaListaModel}" var="lista" 
					 selection="#{mAlias.registroSeleccionadoObject}" widgetVar="busquedaVar"
					 emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}" paginator="true" rows="25"
					 rowKey="#{lista}" rowIndexVar="rowIndex" rowsPerPageTemplate="5,10,25,50,100"
		     		 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
	                 currentPageReportTemplate="{totalRecords} registros encontrados"
		     		 paginatorPosition="top" style="margin-bottom:20px"  rendered="#{not empty mAlias.nuevaListaModel}">	
	
   	<!-- Exportar -->
     <f:facet name="{Exporters}">
            &nbsp;&nbsp;&nbsp;&nbsp;
            <h:commandLink>
                <p:graphicImage value="#{resource['images:excelForm.png']}"
				                width="26"
				                height="24" title="#{msg['botonExcel.tooltip']}" styleClass="clsImagen" 
		               			style="vertical-align:middle"/>  
                <p:dataExporter type="xls" target="dataPrincipal" fileName="dataBusqueda" postProcessor="#{mDataExporterBean.postProcessXLS}"/>
            </h:commandLink> 
    </f:facet>
    
   
    	<p:column selectionMode="multiple" style="width:10px;" exportable="false"/> 
    	<p:ajax event="page" update=":principalForm:panelEventoClick" />
    	
    	<p:column width="40" sortBy="#{lista.codigoCliente}"  rendered="#{mAlias.codigoPais=='VEL' or mAlias.codigoPais=='VEE'}" exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoCliente']}" />
			</f:facet>
				<p:commandLink style="font-weight:bold;color: #355A8F;text-decoration: underline;" rendered="#{lista.descripcionOrigen=='OCR'}" 
								onclick="openDocumentoPopupNumeroDocumentoOCR('0-#{lista.codigoCliente}');">
			    	<h:outputText value="#{lista.codigoCliente}" />			    			            	             
	           </p:commandLink>		           
				<h:outputText value="#{lista.codigoCliente}" rendered="#{lista.descripcionOrigen!='OCR'}" />
		</p:column>
		<p:column width="40" sortBy="#{lista.codigoCliente}"  exportable="#{mAlias.codigoPais=='VEL' or mAlias.codigoPais=='VEE'}" 
					 style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoCliente']}" />
			</f:facet>
		    <h:outputText value="#{lista.codigoCliente}"  />
		</p:column>
		<p:column width="50" sortBy="#{lista.tipoDocumento}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.tipoDocumento']}" />
			</f:facet>
				<h:outputText value="#{lista.tipoDocumento}" />
		</p:column>
		<p:column width="40" sortBy="#{lista.lote}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.lote']}" />
			</f:facet>
				<h:outputText value="#{lista.lote}" />
		</p:column>			
		<p:column width="70" sortBy="#{lista.numeroDocumento}" exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numeroDocumento']}" />
			</f:facet>				
				<p:commandLink actionListener="#{procesoSTOLevantamientoErroresValidacionAction.modificarPopup}"
							   style="font-weight:bold;color: #355A8F;text-decoration: underline;" 
							   oncomplete="handleComplete(xhr, status, args)">
			    	<h:outputText value="#{lista.numeroDocumento}" /> 
			    	<f:param name="parametroFila" value="#{rowIndex}" />	            	             
	           </p:commandLink>	
		</p:column>	
		<p:column sortBy="#{lista.numeroDocumento}" exportable="true" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numeroDocumento']}" />
			</f:facet>	
			<h:outputText value="#{lista.numeroDocumento}" /> 	
		</p:column>	
		<p:column width="65" sortBy="#{lista.numDocu}" exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numDocu']}" />
			</f:facet>			
				<p:commandLink style="font-weight:bold;color: #355A8F;text-decoration: underline;" rendered="#{lista.descripcionOrigen=='OCR'}"
								onclick="openDocumentoPopupNumeroDocumentoOCR('#{lista.numDocu}-#{lista.codigoCliente}');">
			    	<h:outputText value="#{lista.numDocu}"/> 			    			            	             
	           </p:commandLink>		           
	           <h:outputText value="#{lista.numDocu}" rendered="#{lista.descripcionOrigen!='OCR'}"/>
		</p:column>	
		<p:column sortBy="#{lista.numDocu}" exportable="true" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numDocu']}" />
			</f:facet>	
			<h:outputText value="#{lista.numDocu}" />
		</p:column>	
					
		<p:column width="75" sortBy="#{lista.codigoCliente}"   rendered="#{mAlias.codigoPais!='VEL' and mAlias.codigoPais!='VEE'}" 
					style="text-align:center;" exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoCliente']}" />
			</f:facet>
				<p:commandLink style="font-weight:bold;color: #355A8F;text-decoration: underline;" rendered="#{lista.descripcionOrigen=='OCR'}" 
								onclick="openDocumentoPopupNumeroDocumentoOCR('0-#{lista.codigoCliente}');">
			    	<h:outputText value="#{lista.codigoCliente}" />			    			            	             
	           </p:commandLink>		           
	           <h:outputText value="#{lista.codigoCliente}" rendered="#{lista.descripcionOrigen!='OCR'}" />
		</p:column>	
		
		<p:column sortBy="#{lista.codigoCliente}"  exportable="#{mAlias.codigoPais!='VEL' and mAlias.codigoPais!='VEE'}" 
					style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoCliente']}" />
			</f:facet>
			 <h:outputText value="#{lista.codigoCliente}"/>
		</p:column>	
			
		<p:column width="60" sortBy="#{lista.nombreCliente}"  exportable="false"
				rendered="#{mAlias.formProceso.tipoDocumento=='OCC' or mAlias.formProceso.tipoDocumento=='SCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.nombreCliente']}" />
			</f:facet>
				<h:outputText value="#{lista.nombreCliente}" />
		</p:column>	
		<p:column width="70" sortBy="#{lista.nombreCliente}"  exportable="true" style="display: none;" >
			<f:facet name="header">
				<h:outputText  value="#{i18n['stoLevantamientoErroresValidacionList.nombreCliente']}" />
			</f:facet>
				<h:outputText value="#{lista.nombreCliente}" />
		</p:column>				
		<p:column width="43" sortBy="#{lista.numDocuIden}"  exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numDocuIden']}" />
			</f:facet>
				<h:outputText value="#{lista.numDocuIden}" />
		</p:column>
		<p:column width="50" sortBy="#{lista.numDocuIden}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC' or mAlias.formProceso.tipoDocumento=='SCC'}"
					exportable="true" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.numDocuIden']}" />
			</f:facet>
				<h:outputText value="#{lista.numDocuIden}" />
		</p:column>		
		
		<p:column width="50" sortBy="#{lista.descripcionRegion}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.descripcionRegion']}" />
			</f:facet>
				<h:outputText value="#{lista.descripcionRegion}" />
		</p:column>
		<p:column sortBy="#{lista.codigoZonaActual}"  exportable="#{mAlias.formProceso.tipoDocumento=='SAD'}" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoZonaActual']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoZonaActual}" />
		</p:column>		
		<p:column width="20" sortBy="#{lista.codigoZona}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoZona']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoZona}" />
		</p:column>
		<p:column width="30" sortBy="#{lista.seccion}" exportable="true" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.seccion']}" />
			</f:facet>
				<h:outputText value="#{lista.seccion}" />
		</p:column>
		<p:column width="30" sortBy="#{lista.codSeccion}" exportable="true" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codSeccion']}" />
			</f:facet>
				<h:outputText value="#{lista.codSeccion}" />
		</p:column>
		
		<p:column width="25" sortBy="#{lista.totalEstimado}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.totalEstimado']}" />
			</f:facet>
				<h:outputText value="#{lista.totalEstimado}" />
		</p:column>
		<p:column width="20" sortBy="#{lista.totalPedido}"  
					exportable="#{mAlias.formProceso.tipoDocumento=='OCC'}" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.totalPedido']}" />
			</f:facet>
				<h:outputText value="#{lista.totalPedido}" />
		</p:column>		
		<p:column width="25" sortBy="#{lista.saldo}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.saldo']}" />
			</f:facet>
				<h:outputText value="#{lista.saldo}" />
		</p:column>		
		<p:column width="30" sortBy="#{lista.descripcionOrigen}"  rendered="#{mAlias.formProceso.tipoDocumento!='SIM'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.descripcionOrigen']}" />
			</f:facet>
				<h:outputText value="#{lista.descripcionOrigen}" />
		</p:column>
		<p:column width="40" sortBy="#{lista.descripcionOrigenDetalle}" 
					exportable="#{mAlias.formProceso.tipoDocumento=='SPVC'}" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.descripcionOrigenDetalle']}" />
			</f:facet>
				<h:outputText value="#{lista.descripcionOrigenDetalle}" />
		</p:column>		
		<p:column width="60" sortBy="#{lista.montoMeta}"  rendered="#{mAlias.formProceso.tipoDocumento=='SIM'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.montoMeta']}" />
			</f:facet>
				<h:outputText value="#{lista.montoMeta}" />
		</p:column>		
		<p:column width="40" sortBy="#{lista.validacion}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.validacion']}" />
			</f:facet>
				<h:outputText value="#{lista.validacion}" />
		</p:column>		
				
		<p:column width="55" sortBy="#{lista.mensaje}" exportable="false">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.detalle']}" />
			</f:facet>
			<h:panelGroup>
			<p:graphicImage id="imgInfoMsje" value="#{resource['images:icon_info.gif']}" rendered="#{lista.mensaje!=null}" 
							width="16" height="16" styleClass="clsImagenLink" style="vertical-align:left">
			
				<p:overlayPanel id="muestraMsje" for="imgInfoMsje" showEffect="blind" hideEffect="explode" 
                               dismissable="true" showCloseIcon="true" dynamic="true" appendToBody="true"
                               styleClass="cls_notificationbar" >
                <h:panelGrid columns="1">
                <h:outputText value="#{lista.detalle}" style="font-weight:bold;"/>               
				<br />
				<h:outputText value="#{lista.mensaje}" rendered="#{lista.mensaje!=null}" />
				</h:panelGrid>  
			 </p:overlayPanel>
			 </p:graphicImage> 
			 <h:outputText value="#{lista.detalle}" rendered="#{lista.mensaje!=null}" 
			 				style="color:blue;font-weight:bold;padding-left:5px;"/> 
			 <h:outputText value="#{lista.detalle}" rendered="#{lista.mensaje==null}" style="font-size: 8.5px;"/>
			</h:panelGroup>
			
		</p:column>
		<p:column sortBy="#{lista.mensaje}" style="display: none;" exportable="true">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.detalle']}" />
			</f:facet>				
				<h:outputText value="#{lista.detalle}" />
		</p:column>
		
		<p:column width="50" sortBy="#{lista.motivo}"  rendered="#{mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.motivo']}" />
			</f:facet>
				<h:outputText value="#{lista.motivo}" style="font-size: 8.5px;"/>
		</p:column>	
		<p:column width="25" sortBy="#{lista.codVenta}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codVenta']}" />
			</f:facet>
				<h:outputText value="#{lista.codVenta}" />
		</p:column>		
		<p:column sortBy="#{lista.codigoRechazo}"  exportable="#{mAlias.formProceso.tipoDocumento=='OCC'}" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoRechazo']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoRechazo}" />
		</p:column>
		<p:column sortBy="#{lista.descripcionRechazo}" exportable="#{mAlias.formProceso.tipoDocumento=='OCC'}" style="display: none;">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.descripcionRechazo']}" />
			</f:facet>
				<h:outputText value="#{lista.descripcionRechazo}" />
		</p:column>
		<p:column width="20" sortBy="#{lista.indGestionable}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.indGestionable']}" />
			</f:facet>
				<h:outputText value="#{lista.indGestionable}" />
		</p:column>	
		<p:column width="21" sortBy="#{lista.indAprobado}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.indAprobado']}" />
			</f:facet>
				<h:outputText value="#{lista.indAprobado}" />
		</p:column>		
		<p:column width="20" sortBy="#{lista.indGestionRechazo}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.indGestionRechazo']}" />
			</f:facet>
				<h:outputText value="#{lista.indGestionRechazo}" />
		</p:column>	
		<p:column width="40" sortBy="#{lista.fecha}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.fecha']}" />
			</f:facet>
				<h:outputText value="#{lista.fecha}" />
		</p:column>	
		<p:column width="40" sortBy="#{lista.fechaModificacion}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.fechaModificacion']}" />
			</f:facet>
				<h:outputText value="#{lista.fechaModificacion}" />
		</p:column>
		<p:column width="30" sortBy="#{lista.codigoOperacion}"  rendered="#{mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoOperacion']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoOperacion}" />
		</p:column>	
		<p:column width="30" sortBy="#{lista.documentoReferencia}"  rendered="#{mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.documentoReferencia']}" />
			</f:facet>
				<h:outputText value="#{lista.documentoReferencia}" />
		</p:column>	
		<p:column width="30" sortBy="#{lista.periodoReferencia}"  rendered="#{mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.periodoReferencia']}" />
			</f:facet>
				<h:outputText value="#{lista.periodoReferencia}" />
		</p:column>	
		<p:column width="30" sortBy="#{lista.codigoPeriodo}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoPeriodo']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoPeriodo}" />
		</p:column>		
		<p:column  sortBy="#{lista.tipClasi}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.tipClasi']}" />
			</f:facet>
				<h:outputText value="#{lista.tipClasi}" />
		</p:column>
		<p:column width="50" sortBy="#{lista.ped1}"  style="display: none;"	exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped1']}" />
			</f:facet>
				<h:outputText value="#{lista.ped1}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.ped2}"  style="display: none;"
					exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped2']}" />
			</f:facet>
				<h:outputText value="#{lista.ped2}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.ped3}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped3']}" />
			</f:facet>
				<h:outputText value="#{lista.ped3}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.ped4}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped4']}" />
			</f:facet>
				<h:outputText value="#{lista.ped4}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.ped5}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped5']}" />
			</f:facet>
				<h:outputText value="#{lista.ped5}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.ped6}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped6']}" />
			</f:facet>
				<h:outputText value="#{lista.ped6}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.ped7}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped7']}" />
			</f:facet>
				<h:outputText value="#{lista.ped7}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.ped8}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.ped8']}" />
			</f:facet>
				<h:outputText value="#{lista.ped8}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr1}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr1']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr1}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr2}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr2']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr2}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr3}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr3']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr3}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr4}" style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr4']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr4}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr5}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr5']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr5}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr6}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr6']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr6}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr7}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr7']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr7}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.cdr8}"  style="display: none;" exportable="#{mAlias.formProceso.indPedCdr=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.cdr8']}" />
			</f:facet>
				<h:outputText value="#{lista.cdr8}" />
		</p:column>
		<p:column width="60" sortBy="#{lista.telefono1}"  style="display: none;" exportable="true">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.telefono1']}" />
			</f:facet>
				<h:outputText value="#{lista.telefono1}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.telefono2}"  style="display: none;" exportable="true">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.telefono2']}" />
			</f:facet>
				<h:outputText value="#{lista.telefono2}" />
		</p:column>	
		<p:column width="50" sortBy="#{lista.estatus}"  style="display: none;" exportable="true">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.estatus']}" />
			</f:facet>
				<h:outputText value="#{lista.estatus}" />
		</p:column>
		<p:column width="50" sortBy="#{lista.unidadesDevuelve}" style="display: none;"
					exportable="#{mAlias.formProceso.tipoDocumento=='SPVD' or mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.unidadesDevuelve']}" />
			</f:facet>
				<h:outputText value="#{lista.unidadesDevuelve}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.unidadesEnvia}"  style="display: none;"
					exportable="#{mAlias.formProceso.tipoDocumento=='SPVD' or mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.unidadesEnvia']}" />
			</f:facet>
				<h:outputText value="#{lista.unidadesEnvia}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.precioCatalogo}"  style="display: none;"
					exportable="#{mAlias.formProceso.tipoDocumento=='SPVD' or mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.precioCatalogo']}" />
			</f:facet>
				<h:outputText value="#{lista.precioCatalogo}" />
		</p:column>	
		<p:column width="60" sortBy="#{lista.precioContable}"  style="display: none;"
					exportable="#{mAlias.formProceso.tipoDocumento=='SPVD' or mAlias.formProceso.tipoDocumento=='SPVC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.precioContable']}" />
			</f:facet>
				<h:outputText value="#{lista.precioContable}" />
		</p:column>		
		<p:column width="25" sortBy="#{lista.codigoZonaArribo}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.codigoZonaArribo']}" />
			</f:facet>
				<h:outputText value="#{lista.codigoZonaArribo}" />
		</p:column>			
		<p:column width="32" sortBy="#{lista.indDocumentoIdentidad}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.indDocumentoIdentidad']}" />
			</f:facet>
				<h:outputText value="#{lista.indDocumentoIdentidad}" />
		</p:column>		
		<p:column width="40" sortBy="#{lista.indicadorPROL}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.indicadorProl']}" />
			</f:facet>
				<h:outputText value="#{lista.indicadorPROL}" />
		</p:column>	
		<p:column sortBy="#{lista.fechaIngreso}" style="display: none;" exportable="true">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.fechaIngreso']}" />
			</f:facet>
				<h:outputText value="#{lista.fechaIngreso}" />
		</p:column>
		<p:column width="20" sortBy="#{lista.rechazo}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.rechazo']}" />
			</f:facet>
				<h:outputText value="#{lista.rechazo}" />
		</p:column>
		<p:column sortBy="#{lista.montoPedido}"  style="display: none;" exportable="#{mAlias.formProceso.tipoDocumento=='OCC'}" >
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.montoPedido']}" />
			</f:facet>
				<h:outputText value="#{lista.montoPedido}" />
		</p:column>			
		<p:column width="37" sortBy="#{lista.campanyaPrimerPedido}"  rendered="#{mAlias.formProceso.tipoDocumento=='OCC'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.campanyaPrimerPedido']}" />
			</f:facet>
				<h:outputText value="#{lista.campanyaPrimerPedido}" />
		</p:column>
		<p:column sortBy="#{lista.porcentajeDesviacion}"   style="display: none;"
				 exportable="#{mAlias.formProceso.indActPorcentajeDesviacion=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.porcentajeDesviacion']}" />
			</f:facet>
				<h:outputText value="#{lista.porcentajeDesviacion}" />
		</p:column>
		<p:column width="40" sortBy="#{lista.promedioPedido}"   style="display: none;"
				 exportable="#{mAlias.formProceso.indActPromedioPedido=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.promedioPedido']}" />
			</f:facet>
				<h:outputText value="#{lista.promedioPedido}" />
		</p:column>
		<p:column width="40" sortBy="#{lista.montoReal}"   style="display: none;"
				 exportable="#{mAlias.formProceso.indActMontoReal=='1'}">
			<f:facet name="header">
				<h:outputText value="#{i18n['stoLevantamientoErroresValidacionList.montoReal']}" />
			</f:facet>
				<h:outputText value="#{lista.montoReal}" />
		</p:column>    
	
</p:dataTable>

 
 

<h:outputScript>
    function handleComplete(xhr, status, args) {
		var ventanaPopup = args.ventanaPopup;
		if (ventanaPopup == ''  ) return ;
		var nombrePopup = ventanaPopup.substring (0, ventanaPopup.length - 3); 
		var specs = "dependent=yes,status=0,scrollbars=1,toolbar=0,menubar=0,location=0,directories=0,resizable=0,width=1300 height=600";
		openCentered(ventanaPopup, nombrePopup, specs, 1300, 600);  
			
	}
	
	function clickFind() {
		var id = 'botonBusqueda:linkAjax' ;					
		var link = document.getElementById(id);
		
		if(link != null) {
			link.click();	
			
		}				
	}
    
	function openDocumentoPopupNumeroDocumentoOCR(param) {						
					
		var urlOCR           = '<h:outputText value="#{mAlias.urlOCR}" />';
		var paisOCR          = '<h:outputText value="#{mAlias.paisOCR}" />';
		var marcaOCR         = '<h:outputText value="#{mAlias.marcaOCR}" />';
		var tipoDocumentoSTO = '<h:outputText value="#{mAlias.tipoDocumentoSTO}" />';
		var varImpreso 		 = param.split('-')[0];
		var varCliente 		 = param.split('-')[1];
		
		if(varImpreso=='0')
		{
			var url = urlOCR+'?Pais='+paisOCR+'&amp;Marca='+marcaOCR+'&amp;Tipodoc='+tipoDocumentoSTO+'&amp;Cedula='+varCliente;
		}else
		{
			var url = urlOCR+'?Pais='+paisOCR+'&amp;Marca='+marcaOCR+'&amp;Tipodoc='+tipoDocumentoSTO+'&amp;Impreso='+varImpreso+'&amp;Cedula='+varCliente;
		}
			
		var specs = 'location=no,menubar=no,resizable=no,toolbar=no,scrollbars=yes'; 
		openCentered(url, varCliente, specs, 800, 600);    
    	  
	}
		
	function openCentered (url, name, specs, width, height) {
	    	var w = screen.availWidth;
	   		var h = screen.availHeight;
	    	var x = Math.round((w - width) / 2);
	   		var y = Math.round((h - height) / 2);  
	    
	    	var newSpecs = 'left=' + x + ',top=' + y + ',width=' + width + ',height=' + height;	
	
	    	if(specs != null &amp;&amp; specs.trim() != "") {    
	        	newSpecs = newSpecs + ',' + specs;
	    	}    
	    	window.open(url, name, newSpecs);
	 }  
    
    function formatClientes(stringClientes,	maxLength){		
		var newStringClientes = '';		
		var fragmentoTexto = stringClientes.split(',');	
		
		for (i=0;i&lt;fragmentoTexto.length;i++){
			if (i&gt;0){
				newStringClientes = newStringClientes + ',' +completarCaracteres(fragmentoTexto[i], maxLength,  '0');
			}
			else newStringClientes = newStringClientes +completarCaracteres(fragmentoTexto[i], maxLength,  '0');
		} 		
		return newStringClientes;
	}
	
	function completarCaracteres(valor, longitud, caracter){
				var valorAux = new String("");
		
				if (valor.length != 0) {
					var faltante = parseInt(longitud) - valor.length;
					var valorAux = new String("");
			
				if (faltante &gt;= 0) {
					for (var i = 0; i &lt; faltante; i++) {
					valorAux = valorAux + caracter;
					}
					valorAux = valorAux + valor;
				}
				else {
			
					var faltante = valor.length - longitud;
					valorAux = valor.substr(faltante, longitud);
				}
		}
		
		return valorAux;
	}
       
		function completarCodigoCliente(stringClientes,	maxLength){			
		
		var codigoCliente = document.getElementById("codigoClienteBuscar:input");
		var newStringClientes = '';		
		var fragmentoTexto = stringClientes.split(',');	
		
		for (i=0;i&lt;fragmentoTexto.length;i++){
			if (i&gt;0){
				newStringClientes = newStringClientes + ',' +completarCaracteres(fragmentoTexto[i], maxLength,  '0');
			}
			else newStringClientes = newStringClientes +completarCaracteres(fragmentoTexto[i], maxLength,  '0');
		} 		
		return ;	    
				   
					codigoCliente.value = newStringClientes;
				}
	</h:outputScript>

</h:panelGrid>
				

<h:panelGroup id="panelEventoClick" >
	  <h:outputScript>
		$(document).ready(
		    function() {
		        $("tr td").click(function(event) {
		            if (!$(this).find("div").hasClass("ui-chkbox") || $(this).find("div").find("div").hasClass("ui-state-disabled")) {
		                event.stopPropagation();
		        }
		    });
		});
	</h:outputScript>

</h:panelGroup>



</ui:define>

             
</ui:composition>
</body>
</html>