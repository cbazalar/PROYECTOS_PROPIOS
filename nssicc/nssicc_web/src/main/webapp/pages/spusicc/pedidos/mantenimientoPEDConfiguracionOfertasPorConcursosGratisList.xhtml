<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>

	<p:fieldset>
		<h:panelGrid columns="2">
			<ssicc:label
				key="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.rangoInferior']}"
				required="true" />
			<ssicc:label value="#{mAlias.formGratis.rangoInferior}"
				required="true" />
			<ssicc:label
				key="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.rangoSuperior']}"
				required="true" />
			<ssicc:label value="#{mAlias.formGratis.rangoSuperior}"
				required="true" />
			<c:if test="${not empty mAlias.formGratis.precioUnitario}">
				<ssicc:label
					key="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.precioUnitario']}"
					required="true" />
				<ssicc:label value="#{mAlias.formGratis.precioUnitario}"
					required="true" />
			</c:if>
		</h:panelGrid>
	</p:fieldset>

	<!-- ########################## BODY_ADICIONAL ################################# -->
	<p:panel toggleable="true" toggleSpeed="300">

		<f:facet name="header">
			<ssicc:cabeceraFieldset
				value="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.regalos']}"
				icon="#{resource['images:buscar_on.png']}" />
		</f:facet>

		<f:facet name="actions">

			<h:panelGrid id="panelBotones">
				<p:toolbar>
					<f:facet name="left">

						<ssicc:linkAjax value="Insertar" title=""
							icon="#{resource['images:nuevoForm2.png']}"
							width="30"
							height="30"
							accion="#{mantenimientoPEDConfiguracionOfertasPorConcursosSearchAction.confirmar}"
							process="@this :principalForm:datosEntrada" parametroAccion="INSERTAR_GRATIS"
							parametroVentana="confirmDialogInsertarGratis"
							update=":principalForm:messagesPrincipalForm :principalForm:datosEntrada" />
						<c:if test="${not empty mAlias.pedOfertasPorConcursosRegalosList}">
							<ssicc:linkAjax value="Eliminar" title=""
								icon="#{resource['images:eliminarForm3.png']}"
								width="30"
								height="30"
								accion="#{mantenimientoCOMPorcentajeComisionSearchAction.confirmar}"
								process=":principalForm:panelGratis @this"
								parametroAccion="ELIMINAR_GRATIS"
								parametroVentana="confirmDialogEliminarGratis"
								update=":principalForm:messagesPrincipalForm :principalForm:datosEntrada :principalForm:txtCuv :principalForm:txtUnidades" />
						</c:if>
					</f:facet>
				</p:toolbar>
			</h:panelGrid>
		</f:facet>

		<h:panelGrid id="datosEntrada" columns="4">
			<ssicc:label
				key="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.cuv']}"
				required="true" />

			<ssicc:inputText id="txtCuv" value="#{mAlias.formGratis.cuv}" size="10"
				maxlength="6" esNumerico="true"/>

			<ssicc:label
				key="#{i18n['mantenimientoPEDConfiguracionOfertasPorConcursosGratisForm.unidades']}"
				required="true" />
			<ssicc:inputText  id="txtUnidades" value="#{mAlias.formGratis.unidades}" size="10"
				maxlength="6" esNumerico="true" />

		</h:panelGrid>
		<br />
		<br />
		<br />
		<h:panelGrid>

			<p:dataTable value="#{mAlias.comDetalleTableModelGratis}" var="lista"
				id="panelGratis" selection="#{mAlias.beanRegistroDetalleGratis}"
				selectionMode="single"
				emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}">

				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.cuv']}" />
					</f:facet>
					<h:outputText value="#{lista.cuv}" />
					<h:inputHidden value="#{lista.oidGratis}" />
				</p:column>
				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.codigoSap']}" />
					</f:facet>
					<h:outputText value="#{lista.codigoSap}" />
				</p:column>
				<p:column width="100">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.descripcionProducto']}" />
					</f:facet>
					<h:outputText value="#{lista.descripcionProducto}" />
				</p:column>
				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.numeroPaginaCatalogo']}" />
					</f:facet>
					<h:outputText value="#{lista.numeroPaginaCatalogo}" />
				</p:column>
				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.codigoTipoOferta']}" />
					</f:facet>
					<h:outputText value="#{lista.codigoTipoOferta}" />
				</p:column>
				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.precioUnitario']}" />
					</f:facet>
					<h:outputText value="#{lista.precioUnitario}" />
				</p:column>
				<p:column width="60">
					<f:facet name="header">
						<h:outputText
							value="#{i18n['pedOfertasPorConcursosRegalosList.unidades']}" />
					</f:facet>
					<h:outputText value="#{lista.unidades}" />
				</p:column>
			</p:dataTable>

		</h:panelGrid>
	</p:panel>

	<ssicc:confirmDialogConfirmar id="confirmDialogInsertarGratis"
		manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
		accion="#{mantenimientoPEDConfiguracionOfertasPorConcursosSearchAction.agregargratis}"
		update=":principalForm:messagesPrincipalForm :principalForm:panelGratis :principalForm:panelBotones :principalForm:datosEntrada :principalForm:txtCuv :principalForm:txtUnidades" />

	<ssicc:confirmDialogConfirmar id="confirmDialogEliminarGratis"
		manage="#{mAlias}" mensaje="#{i18n['confirm.delete.message']}"
		accion="#{mantenimientoPEDConfiguracionOfertasPorConcursosSearchAction.eliminargratis}"
		update=":principalForm:messagesPrincipalForm :principalForm:panelGratis :principalForm:panelBotones :principalForm:txtCuv :principalForm:txtUnidades" />


</body>
</html>