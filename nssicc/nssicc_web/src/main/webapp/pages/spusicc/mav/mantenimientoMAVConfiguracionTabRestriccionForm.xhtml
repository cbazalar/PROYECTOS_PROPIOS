<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<h:panelGrid id="seccionRestriccion" columns="1">
		<h:panelGrid columns="2" rendered="#{mAlias.editableMantenimiento}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.restriccion']}" />
		    <h:panelGroup id="panelCodigoRestriccion" >
				<ssicc:selectMenu id="codigoRestriccion"
					value="#{mAlias.formMantenimiento.codigoRestriccion}"
					process="@this"
					accionListener="#{mantenimientoMAVConfiguracionSearchAction.jsRestriccion}"
					disabled ="#{not mAlias.activarComboRestriccion}"
					update=":principalForm:tabGeneral:seccionRestriccion">
					<f:selectItems value="#{mAlias.mavRestriccionList}" var="lista"
						itemLabel="#{lista.label}" itemValue="#{lista.value}" />
				</ssicc:selectMenu>
			</h:panelGroup>
		</h:panelGrid>
		
		<h:panelGrid columns="2" rendered="#{mAlias.mostrarRestriccionSimple}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" />
			<ssicc:inputText id="condicionSimpleRestUnidades"
				value="#{mAlias.formMantenimiento.condicionSimpleRestUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" />	

		</h:panelGrid>
		
		<h:panelGrid columns="5" rendered="#{mAlias.mostrarRestriccionUnico}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion1S']}" />
			<ssicc:inputText id="condicionRest1S"
				value="#{mAlias.formMantenimiento.condicionRest1S}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				size="10"
				maxlength="10" />	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.comentario1S']}" />
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" 
				rendered="#{mAlias.mostrarThUnicoUnidadesRest}" />
			<ssicc:inputText id="condicionUnicoRestUnidades"
				value="#{mAlias.formMantenimiento.condicionUnicoRestUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" 
				rendered="#{mAlias.mostrarTdUnicoUnidadesRest}" />	
		</h:panelGrid>
		
		<h:panelGrid columns="6" rendered="#{mAlias.mostrarRestriccionDoble}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion1']}" />
			<ssicc:inputText id="condicionRest1"
				value="#{mAlias.formMantenimiento.condicionRest1}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true"
				size="10"
				maxlength="10" />	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion2']}" />
			<ssicc:inputText id="condicionRest2"
				value="#{mAlias.formMantenimiento.condicionRest2}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true"
				size="10"
				maxlength="10" />
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" 
				rendered="#{mAlias.mostrarThDobleUnidadesRest}" />
			<ssicc:inputText id="condicionDobleRestUnidades"
				value="#{mAlias.formMantenimiento.condicionDobleRestUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" 
				rendered="#{mAlias.mostrarTdDobleUnidadesRest}" />	
		</h:panelGrid>	
		
		<h:panelGrid columns="10" rendered="#{mAlias.mostrarRestriccionMixto}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionMonto']}"
				rendered="#{mAlias.mostrarTdMixtoMonto1Rest}" />
			<ssicc:inputText id="condicionRestMonto"
					value="#{mAlias.formMantenimiento.condicionRestMonto}"
					deshabilitado="#{!mAlias.editableMantenimiento}" 
					onkeypress="return jsEsNumeroDecimal(event);"
					onchange="formatearNumeroWithTope(this,2,10000000000);" 
					size="10"
					maxlength="10"
					rendered="#{mAlias.mostrarTdMixtoMonto2Rest}" />
						
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionMarca']}"
				rendered="#{mAlias.mostrarTdMixtoMarca1Rest}" />
			<ssicc:selectMenu id="condicionRestMarca"
				value="#{mAlias.formMantenimiento.condicionRestMarca}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoMarca2Rest}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incMarcaProductoList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>		
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionNegocio']}"
				rendered="#{mAlias.mostrarTdMixtoNegocio1Rest}" />
			<ssicc:selectMenu id="condicionRestNegocio"
				value="#{mAlias.formMantenimiento.condicionRestNegocio}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoNegocio2Rest}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incNegocioList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidadNegocio']}" 
				rendered="#{mAlias.mostrarTdMixtoUnidadNegocio1Rest}" />
			<ssicc:selectMenu id="condicionRestUnidadNegocio"
				value="#{mAlias.formMantenimiento.condicionRestUnidadNegocio}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoUnidadNegocio2Rest}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incUnidadNegocioList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionCatalogo']}"
				rendered="#{mAlias.mostrarTdMixtoCatalogo1Rest}" />
			<ssicc:selectMenu id="condicionRestCatalogo"
				value="#{mAlias.formMantenimiento.condicionRestCatalogo}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoCatalogo2Rest}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.recCodigoCatalogoList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionPeriodoInicio']}" />
			<ssicc:campaignCalendar2 id="condicionRestPeriodoInicio"
					manage="#{mAlias}" deshabilitado="#{!mAlias.editableMantenimiento}"
					value="#{mAlias.formMantenimiento.condicionRestPeriodoInicio}" />
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionPeriodoFin']}" />
			<ssicc:campaignCalendar2 id="condicionRestPeriodoFin"
					manage="#{mAlias}" deshabilitado="#{!mAlias.editableMantenimiento}"
					value="#{mAlias.formMantenimiento.condicionRestPeriodoFin}" />			
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}"
				rendered="#{mAlias.mostrarThMixtoUnidadesRest}" />
			<ssicc:inputText id="condicionRestUnidades"
				value="#{mAlias.formMantenimiento.condicionRestUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6"
				rendered="#{mAlias.mostrarTdMixtoUnidadesRest}" />	
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionTipoVenta']}" />
			<ssicc:selectMenu id="condicionRestTipoVenta"
				value="#{mAlias.formMantenimiento.condicionRestTipoVenta}"
				disabled="#{!mAlias.editableMantenimiento}">
				<f:selectItems value="#{mAlias.mavCodigoTipoVentaList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>			
			
		</h:panelGrid>			
	</h:panelGrid>
	
	<h:panelGrid columns="2">
		<h:panelGrid id="panelRestriccion" width="80%">
			<p:dataTable value="#{mAlias.dataTableRestriccion}"
				var="lista" selection="#{mAlias.beanRegistroRestriccion}"
				selectionMode="single"
				emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}">
				<p:column width="60%" rendered="#{lista.indicadorAccion!='2'}">
					<f:facet name="header">
						<h:outputText
							value="Descripcion" />
					</f:facet>
					<h:outputText value="#{lista.descripcion}" />
				</p:column>
				<p:column width="40%" rendered="#{lista.indicadorAccion!='2'}">
					<f:facet name="header">
						<h:outputText
							value="CondiciÃ³n" />
					</f:facet>
					<h:outputText value="#{lista.condicion}" rendered="#{lista.tipoConsideracionLista!='L'}"/>
				</p:column>
			</p:dataTable>

		</h:panelGrid>

		<h:panelGrid columns="3" rendered="#{mAlias.editableMantenimiento and (mAlias.formMantenimiento.indicadorRestriccion=='1')}" >
			<ssicc:linkAjax title="Insertar"
				value="InsertarRestriccion"
				icon="#{resource['images:nuevoForm2.png']}"
							width="30"
							height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.insertRestriccion('insertRestriccion')}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:dialogPopup :principalForm:messagesPrincipalForm"
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />
						
			<ssicc:linkAjax title="Editar"
				icon="#{resource['images:editarForm.png']}"
				width="30"
				height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.editRestriccion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:dialogPopup :principalForm:messagesPrincipalForm" 
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />

			<ssicc:linkAjax title="Eliminar"
				icon="#{resource['images:eliminarForm3.png']}"
							width="30"
							height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.deleteRestriccion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral" />
								
		</h:panelGrid>
		
		<h:panelGrid columns="1" rendered="#{mAlias.editableMantenimiento and (mAlias.formMantenimiento.indicadorRestriccion=='0')}" >
			<ssicc:linkAjax title="Actualizar"
				icon="#{resource['images:save24_n.gif']}"
				accion="#{mantenimientoMAVConfiguracionSearchAction.saveRestriccion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:messagesPrincipalForm" />
			<ssicc:linkAjax title="Cancelar"
				icon="#{resource['images:back24_s.gif']}"
				accion="#{mantenimientoMAVConfiguracionSearchAction.refreshRest}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral" />
		</h:panelGrid>
		
		<h:panelGrid columns="1" rendered="#{!mAlias.editableMantenimiento}" >
			<ssicc:linkAjax title="Consultar"
				icon="#{resource['images:buscarForm3.png']}"
				width="30"
				height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.editRestriccion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral" 
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />		
		</h:panelGrid>
	</h:panelGrid>
</body>
</html>