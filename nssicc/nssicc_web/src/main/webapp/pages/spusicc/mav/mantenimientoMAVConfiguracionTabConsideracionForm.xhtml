<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<h:panelGrid id="seccionConsideracion" columns="1">
		<h:panelGrid columns="2" rendered="#{mAlias.editableMantenimiento}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.consideracion']}" />
			<ssicc:selectMenu id="codigoConsideracion"
				value="#{mAlias.formMantenimiento.codigoConsideracion}"
				process="@this"
				accionListener="#{mantenimientoMAVConfiguracionSearchAction.jsCondicion}"
				update=":principalForm:tabGeneral:seccionConsideracion"
				disabled="#{mAlias.formMantenimiento.indicadorConsideracion=='0'}">
				<f:selectItems value="#{mAlias.mavConsideracionList}" var="lista"
					itemLabel="#{lista.label}" itemValue="#{lista.value}" />
			</ssicc:selectMenu>
		</h:panelGrid>
		
		<h:panelGrid columns="2" rendered="#{mAlias.mostrarConsideracionSimple}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" />
			<ssicc:inputText id="condicionSimpleUnidades"
				value="#{mAlias.formMantenimiento.condicionSimpleUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" />	

		</h:panelGrid>
		
		<h:panelGrid columns="5" rendered="#{mAlias.mostrarConsideracionUnico}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion1S']}" />
			<ssicc:inputText id="condicion1S"
				value="#{mAlias.formMantenimiento.condicion1S}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				size="10"
				maxlength="10" />	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.comentario1S']}" />
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" 
				rendered="#{mAlias.mostrarThUnicoUnidades}" />
			<ssicc:inputText id="condicionUnicoUnidades"
				value="#{mAlias.formMantenimiento.condicionUnicoUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" 
				rendered="#{mAlias.mostrarTdUnicoUnidades}" />	
		</h:panelGrid>
		
		<h:panelGrid columns="6" rendered="#{mAlias.mostrarConsideracionDoble}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion1']}" />
			<ssicc:inputText id="condicion1"
				value="#{mAlias.formMantenimiento.condicion1}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true"
				size="10"
				maxlength="10" />	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicion2']}" />
			<ssicc:inputText id="condicion2"
				value="#{mAlias.formMantenimiento.condicion2}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true"
				size="10"
				maxlength="10" />
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}" 
				rendered="#{mAlias.mostrarThDobleUnidades}" />
			<ssicc:inputText id="condicionDobleUnidades"
				value="#{mAlias.formMantenimiento.condicionDobleUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6" 
				rendered="#{mAlias.mostrarTdDobleUnidades}" />	
		</h:panelGrid>	
		
		<h:panelGrid columns="10" rendered="#{mAlias.mostrarConsideracionMixto}">
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionMonto']}"
				rendered="#{mAlias.mostrarTdMixtoMonto1}" />
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.montoFinanciadoDesde']}"
				rendered="#{mAlias.mostrarTdMontoFinanciadoDesde}" />	
			<ssicc:inputText id="condicionMonto"
					value="#{mAlias.formMantenimiento.condicionMonto}"
					deshabilitado="#{!mAlias.editableMantenimiento}" 
					onkeypress="return jsEsNumeroDecimal(event);"
					onchange="formatearNumeroWithTope(this,2,10000000000);" 
					size="10"
					maxlength="10"
					rendered="#{mAlias.mostrarTdMixtoMonto2}" />
						
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionMarca']}"
				rendered="#{mAlias.mostrarTdMixtoMarca1}" />
			<ssicc:selectMenu id="condicionMarca"
				value="#{mAlias.formMantenimiento.condicionMarca}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoMarca2}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incMarcaProductoList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>		
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionNegocio']}"
				rendered="#{mAlias.mostrarTdMixtoNegocio1}" />
			<ssicc:selectMenu id="condicionNegocio"
				value="#{mAlias.formMantenimiento.condicionNegocio}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoNegocio2}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incNegocioList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidadNegocio']}" 
				rendered="#{mAlias.mostrarTdMixtoUnidadNegocio1}" />
			<ssicc:selectMenu id="condicionUnidadNegocio"
				value="#{mAlias.formMantenimiento.condicionUnidadNegocio}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoUnidadNegocio2}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.incUnidadNegocioList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionCatalogo']}"
				rendered="#{mAlias.mostrarTdMixtoCatalogo1}" />
			<ssicc:selectMenu id="condicionCatalogo"
				value="#{mAlias.formMantenimiento.condicionCatalogo}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoCatalogo2}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItems value="#{mAlias.recCodigoCatalogoList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>	
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionPeriodoInicio']}"
				rendered="#{mAlias.mostrarTdMixtoPeriodoInicio1}" />
			<ssicc:campaignCalendar2 id="condicionPeriodoInicio"
					manage="#{mAlias}" deshabilitado="#{!mAlias.editableMantenimiento}"
					value="#{mAlias.formMantenimiento.condicionPeriodoInicio}"
					rendered="#{mAlias.mostrarTdMixtoPeriodoInicio2}" />
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionPeriodoFin']}"
				rendered="#{mAlias.mostrarTdMixtoPeriodoFin1}" />
			<ssicc:campaignCalendar2 id="condicionPeriodoFin"
					manage="#{mAlias}" deshabilitado="#{!mAlias.editableMantenimiento}"
					value="#{mAlias.formMantenimiento.condicionPeriodoFin}"
					rendered="#{mAlias.mostrarTdMixtoPeriodoFin2}" />			
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionUnidades']}"
				rendered="#{mAlias.mostrarThMixtoUnidades}" />
			<ssicc:inputText id="condicionUnidades"
				value="#{mAlias.formMantenimiento.condicionUnidades}"
				deshabilitado="#{!mAlias.editableMantenimiento}" 
				esNumerico="true" 
				size="8"
				maxlength="6"
				rendered="#{mAlias.mostrarTdMixtoUnidades}" />	
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionTipoVenta']}"
				rendered="#{mAlias.mostrarThMixtoTipoVenta}" />
			<ssicc:selectMenu id="condicionTipoVenta"
				value="#{mAlias.formMantenimiento.condicionTipoVenta}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoTipoVenta2}">
				<f:selectItems value="#{mAlias.mavCodigoTipoVentaList}"
					var="lista" itemLabel="#{lista.descripcion}"
					itemValue="#{lista.codigo}" />
			</ssicc:selectMenu>			
			
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.montoFinanciadoHasta']}"
				rendered="#{mAlias.mostrarTdMontoFinanciadoHasta1}" />
			<ssicc:inputText id="condicionMonto2"
					value="#{mAlias.formMantenimiento.condicionMonto2}"
					deshabilitado="#{!mAlias.editableMantenimiento}" 
					onkeypress="return jsEsNumeroDecimal(event);"
					onchange="formatearNumeroWithTope(this,2,10000000000);" 
					size="10"
					maxlength="10"
					rendered="#{mAlias.mostrarTdMontoFinanciadoHasta2}" />
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.periodoFinanciada']}"
				rendered="#{mAlias.mostrarTdPeriodoFinanciado1}" />
			<ssicc:campaignCalendar2 id="condicionPeriodoFinanciado"
					manage="#{mAlias}" deshabilitado="#{!mAlias.editableMantenimiento}"
					value="#{mAlias.formMantenimiento.condicionPeriodoFinanciado}"
					rendered="#{mAlias.mostrarTdPeriodoFinanciado2}" />	
					
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionFormula']}"
				rendered="#{mAlias.mostrarThMixtoFormula}" />	
				
			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionVariableVentas']}"
				rendered="#{mAlias.mostrarThMixtoVariableVentas}" />	
			<ssicc:selectMenu id="condicionFormula"
				value="#{mAlias.formMantenimiento.condicionFormula}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoFormula}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItem itemLabel="Activas Finales" itemValue="AF" />
				<f:selectItem itemLabel="Ingresos" itemValue="IN" />
				<f:selectItem itemLabel="Reingresos" itemValue="RE" />
			</ssicc:selectMenu>					

			<ssicc:label
				key="#{i18n['mantenimientoMAVConfiguracionForm.condicionNroPeriodosFV']}"
				rendered="#{mAlias.mostrarThMixtoNroPeriodosFV}" />	
			<ssicc:selectMenu id="condicionNroPeriodosFV"
				value="#{mAlias.formMantenimiento.condicionNroPeriodosFV}"
				disabled="#{!mAlias.editableMantenimiento}"
				rendered="#{mAlias.mostrarTdMixtoNroPeriodosFV}">
				<f:selectItem itemLabel="" itemValue="" />
				<f:selectItem itemLabel="+3" itemValue="+3" />
				<f:selectItem itemLabel="+2" itemValue="+2" />
				<f:selectItem itemLabel="+1" itemValue="+1" />
				<f:selectItem itemLabel="-1" itemValue="-1" />
				<f:selectItem itemLabel="-2" itemValue="-2" />
				<f:selectItem itemLabel="-3" itemValue="-3" />
			</ssicc:selectMenu>	
												
		</h:panelGrid>		
		
	</h:panelGrid>
	<h:panelGrid columns="2">
		<h:panelGrid id="panelConsideracion" width="80%">
			<p:dataTable value="#{mAlias.dataTableConsideracion}"
				var="lista" selection="#{mAlias.beanRegistroConsideracion}"
				selectionMode="single"
				emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}">
				<p:column width="60%" rendered="#{lista.indicadorAccion!='2'}">
					<f:facet name="header">
						<h:outputText
							value="Descripcion" />
					</f:facet>
					<h:outputText value="#{lista.descripcion}" />
				</p:column>
				<p:column width="40%" rendered="#{lista.indicadorAccion!='2'}">
					<f:facet name="header">
						<h:outputText
							value="Condición" />
					</f:facet>
					<h:outputText value="#{lista.condicion}" rendered="#{lista.tipoConsideracionLista!='L'}"/>
				</p:column>
			</p:dataTable>

		</h:panelGrid>

		<h:panelGrid columns="3" rendered="#{mAlias.editableMantenimiento and (mAlias.formMantenimiento.indicadorConsideracion=='1')}" >
			<ssicc:linkAjax title="Insertar"
				value="InsertarConsideracion"
				icon="#{resource['images:nuevoForm2.png']}"
							width="30"
							height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.insertConsideracion('insertConsideracion')}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:dialogPopup :principalForm:seccionVentanaPopup :principalForm:messagesPrincipalForm"
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />
								
			<ssicc:linkAjax title="Editar"
				icon="#{resource['images:editarForm.png']}"
				width="30"
				height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.editConsideracion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:dialogPopup :principalForm:seccionVentanaPopup :principalForm:messagesPrincipalForm" 
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />
				
			<ssicc:linkAjax title="Eliminar"
				icon="#{resource['images:eliminarForm3.png']}"
							width="30"
							height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.deleteConsideracion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral" />
		</h:panelGrid>
		
		<h:panelGrid columns="1" rendered="#{mAlias.editableMantenimiento and (mAlias.formMantenimiento.indicadorConsideracion=='0')}" >
			<ssicc:linkAjax title="Actualizar"
				icon="#{resource['images:save24_n.gif']}"
				accion="#{mantenimientoMAVConfiguracionSearchAction.saveConsideracion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:messagesPrincipalForm" />
			<ssicc:linkAjax title="Cancelar"
				icon="#{resource['images:back24_s.gif']}"
				accion="#{mantenimientoMAVConfiguracionSearchAction.refreshConsi}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral" />
		</h:panelGrid>
				
		<h:panelGrid columns="1" rendered="#{!mAlias.editableMantenimiento}" >
			<ssicc:linkAjax title="Consultar"
				icon="#{resource['images:buscarForm3.png']}"
				width="30"
				height="30"
				accion="#{mantenimientoMAVConfiguracionSearchAction.editConsideracion}"
				process=":principalForm:tabGeneral"
				update=":principalForm:tabGeneral :principalForm:dialogPopup :principalForm:seccionVentanaPopup" 
				oncomplete="ejecutarPopup('#{facesContext.externalContext.requestContextPath}')" />
		</h:panelGrid>
	</h:panelGrid>
</body>
</html>