<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<ui:composition template="/templates/templateMantenimientoForm.xhtml">
		<ui:param name="mAlias"
			value="#{mantenimientoMENPatronMensajeSearchAction}" />

		<ui:define name="titulo_Pantalla">
			<h:outputText
				value="#{i18n['mantenimientoMENPatronMensajeForm.title']}"
				styleClass="clsEncabezadoPantalla" />
		</ui:define>
		<ui:define name="body_toolbar_adicionales">
			<ssicc:linkAjax icon="#{resource['images:salirForm.png']}" width="30"
				height="30" value="#{msg['botonSalir.titulo']}"
				title="#{msg['botonSalir.tooltip']}" process="@this"
				accion="#{mantenimientoMENPatronMensajeSearchAction.confirmar}"
				parametroAccion="SALIR" parametroVentana="confirmDialogSalir"
				update=":principalForm:messagesPrincipalForm" />
		</ui:define>

		<ui:define name="body_criterio_mantenimiento">

			<h:panelGrid columns="2" style="margin-top:-10px !important;	width:100%">
				<!-- ################# BLOQUE PARA BUSCAR DOCUMENTO ################ -->
				<h:panelGrid 
				    styleClass="ui-fieldset ui-widget ui-widget-content ui-corner-all ui-hidden-container"
				    style="padding:0 !important"
					id="bloqueBuscar" >
					<h:panelGrid columns="2">
						<ssicc:label
							key="#{i18n['mantenimientoCOMBonosSearchForm.codigoPais']}"
							required="true" />
						<ssicc:label
							value="#{mPantallaPrincipalBean.currentUser.pais.descripcion}"
							required="true" />

						<!-- ##### Campaña ##### -->
						<ssicc:label
							key="#{i18n['mantenimientoMENPatronMensajeForm.campanhaProceso']}"
							required="true" />
						<ssicc:campaignCalendar2 id="campanhaProceso" manage="#{mAlias}"
							value="#{mAlias.formMantenimiento.campanhaProceso}"
							deshabilitado="#{mAlias.bloqueBuscarDisabled}" required="true" />

						<!-- ####### Documento ###### -->
						<ssicc:label
							key="#{i18n['mantenimientoMENPatronMensajeSearchForm.codigoDocumento']}"
							required="true" />
						<ssicc:selectMenu id="codigoDocumento"
							value="#{mAlias.formMantenimiento.codigoDocumento}"
							required="true" disabled="#{mAlias.bloqueBuscarDisabled}">
							<f:selectItem itemLabel="" itemValue="" />
							<f:selectItems value="#{mAlias.msgMensajeDocumentoList}"
								var="lista" itemLabel="#{lista.descripcion}"
								itemValue="#{lista.codigo}" />
						</ssicc:selectMenu>

						<!-- ####### Descripcion Patron ###### -->
						<ssicc:label
							key="#{i18n['mantenimientoMENPatronMensajeForm.descripcionPatron']}"
							required="true" />
						<ssicc:inputTextArea
							value="#{mAlias.formMantenimiento.descripcionPatron}" rows="3"
							deshabilitado="#{mAlias.descripcionPatronBoolean}" />
						<h:panelGrid />
						<h:panelGrid columns="2" id="botones">
							<ssicc:linkAjax title="#{msg['botonBuscar.tooltip']}"
								icon="#{resource['images:search24_n.gif']}"
								accion="#{mantenimientoMENPatronMensajeSearchAction.findMensajePatron}"
								process=":principalForm:bloqueBuscar"
								update=":principalForm:bloqueBuscar :principalForm:idPanel :principalForm:bloqueMensaje :principalForm:toolbar_principal"
								rendered="#{mAlias.botonBuscar}" />

							<ssicc:linkAjax icon="/resources/images/undo24_h.gif"
								title="Limpiar"
								accion="#{mantenimientoMENPatronMensajeSearchAction.confirmar}"
								process=":principalForm:bloqueBuscar" parametroAccion="LIMPIAR"
								parametroVentana="confirmDialogLimpiar"
								update=":principalForm:messagesPrincipalForm"
								rendered="#{mAlias.botonLimpiar}" />

						</h:panelGrid>
					</h:panelGrid>
					<h:panelGrid id="idPanel" width="310px">

						<p:dataTable toggleable="true" scrollable="true"
							scrollHeight="500" value="#{mAlias.dataTableModelMensaje}"
							var="lista" paginator="false" style="height:550px"
							selection="#{mAlias.beanSeleccionadoMensajePatron}"
							selectionMode="single" rowIndexVar="rowIndex" 
							emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}">
							<p:column width="200">
								<f:facet name="header">
									<h:outputText value="Sección" />
								</f:facet>
								<h:outputText value="#{lista.descripcionSeccion}"
									style="font-size:10px" />
							</p:column>
							<p:column width="50" style="padding:0px">
								<f:facet name="header">
									<h:outputText value="Código" />
								</f:facet>
								<p:commandLink value="#{lista.codigoMensaje}"
									styleClass="clsLink" style="font-size:10px"
									actionListener="#{mantenimientoMENPatronMensajeSearchAction.editMensajePatron}"
									update=":principalForm:bloqueMensaje 
									        :principalForm:tabGeneral 
									        :principalForm:botones 
									        :principalForm:nombreArchivoImg" 
									onclick="PF('idblockEspereBody').block();"
									oncomplete="mostrarEditor();jsVariables('','1');
									            PF('idblockEspereBody').unblock();">
									<f:param value="#{rowIndex}" name="index" />
								</p:commandLink>

							</p:column>
							<p:column width="40">
								<f:facet name="header">
									<h:outputText value="Eliminar" />
								</f:facet>
								<ssicc:linkAjax icon="/resources/images/delete24_s.gif"
									title="Eliminar"
									accion="#{mantenimientoMENPatronMensajeSearchAction.confirmar}"
									process="@this :principalForm:bloqueBuscar"
									parametroAccion="ELIMINAR;#{rowIndex}"
									parametroVentana="confirmDialogEliminar"
									update=":principalForm:messagesPrincipalForm" width="15"
									height="15">
								</ssicc:linkAjax>
							</p:column>
						</p:dataTable>
						<!-- 
						<h:inputHidden value="#{mAlias.nombreImagenFondo}" 
								id="nombreImagenFondoImg" />
						 -->
						<h:inputHidden value="#{mAlias.formMantenimiento.nombreArchivo}" 
								id="nombreArchivoImg" />
					</h:panelGrid>
				</h:panelGrid>

				<h:panelGrid style="margin-top:-40px !important; 	width:100%" >
					<!-- ################# BLOQUE PARA HACER UN NUEVO MENSAJE ################ -->
					<h:panelGrid
						styleClass="ui-fieldset ui-widget ui-widget-content ui-corner-all ui-hidden-container"
						style="padding:0 !important;	width:100%"
						id="bloqueMensaje"  > 
						<h:panelGrid columns="3" style="width:100%">
							<!-- ####### Tipo ###### -->
							<h:panelGrid columns="1">
								<ssicc:label
									key="#{i18n['mantenimientoMENPatronMensajeForm.tipoMensaje']}"
									esRight="false" />
								<ssicc:selectOneRadio id="tipoMensaje"
									value="#{mAlias.formMantenimiento.tipoMensaje}"
									disabled="#{mAlias.bloqueNuevoMensaje}"
									accionListener="#{mantenimientoMENPatronMensajeSearchAction.cambiarListConsideracion}"
									update=":principalForm:tabGeneral:codigoConsideracion:select"
									onchange="jsVariables(this,'0')">
									<f:selectItem
										itemLabel="#{i18n['mantenimientoMENPatronMensajeForm.tipoMensaje.fijo']}"
										itemValue="2" />
									<f:selectItem
										itemLabel="#{i18n['mantenimientoMENPatronMensajeForm.tipoMensaje.variable']}"
										itemValue="1" />
								</ssicc:selectOneRadio>
							</h:panelGrid>

							<!-- ####### Modulo ###### -->
							<h:panelGrid columns="1">
								<ssicc:label
									key="#{i18n['mantenimientoMENPatronMensajeForm.codigoModulo']}"
									required="true" esRight="false" />
								<ssicc:selectMenu id="codigoModulo"
									value="#{mAlias.formMantenimiento.codigoModulo}"
									accionListener="#{mantenimientoMENPatronMensajeSearchAction.generarCodigoMensaje}"
									update=":principalForm:idCodigoMensaje"
									disabled="#{mAlias.bloqueNuevoMensaje}">
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{mAlias.msgModuloList}" var="lista"
										itemLabel="#{lista.descripcion2}" itemValue="#{lista.codigo}" />
								</ssicc:selectMenu>
							</h:panelGrid>

							<!-- ####### Codigo ###### -->
							<h:panelGrid columns="1">
								<ssicc:label
									key="#{i18n['mantenimientoMENPatronMensajeForm.codigoMensaje']}"
									required="true" esRight="false" />
								<h:panelGrid columns="2" id="idCodigoMensaje">
									<ssicc:inputText
										value="#{mAlias.formMantenimiento.codigoMensaje}" size="12" 
										maxlength="12" deshabilitado="#{mAlias.codigoMensajeDisabled}" />
									<ssicc:selectBooleanCheckbox
										value="#{mAlias.indicadorManualBoolean}"
										process=":principalForm:idCodigoMensaje @this"
										accionListener="#{mantenimientoMENPatronMensajeSearchAction.habilitarCodigoMensaje}"
										update=":principalForm:idCodigoMensaje"
										disabled="#{mAlias.bloqueNuevoMensaje}"
										itemLabel="#{i18n['mantenimientoMENPatronMensajeForm.indicadorManual']}" />
								</h:panelGrid>
							</h:panelGrid>

							<!-- ####### Seccion ###### -->
							<h:panelGrid columns="1">
								<ssicc:label
									key="#{i18n['mantenimientoMENPatronMensajeForm.codigoSeccion']}"
									required="true" esRight="false" />
								<ssicc:selectMenu id="codigoSeccion"
									value="#{mAlias.formMantenimiento.codigoSeccion}"
									disabled="#{mAlias.bloqueNuevoMensaje}"
									accionListener="#{mantenimientoMENPatronMensajeSearchAction.jsCorrelativo}"
									process="@this" update=":principalForm:idCorrelativo">
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{mAlias.msgSeccionList}" var="lista"
										itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}" />
								</ssicc:selectMenu>
							</h:panelGrid>
							
							
							<!-- ####### Descripcion ###### -->
							<h:panelGrid columns="1">
								<ssicc:label
									key="#{i18n['mantenimientoMENPatronMensajeForm.descripcionMensaje']}"
									required="true" esRight="false" />
								<ssicc:inputTextArea rows="3" cols="51" id="descripcionMensaje"
									deshabilitado="#{mAlias.descripcionMensajeBoolean}"
									value="#{mAlias.formMantenimiento.descripcionMensaje}" />
                            </h:panelGrid>
                            
                            <h:panelGrid columns="2" id="panelbotonInsertarGrabar">
								<ssicc:linkAjax title="#{msg['botonNuevo.tooltip']}"
									icon="#{resource['images:nuevoForm2.png']}" width="30"
									height="30"
									accion="#{mantenimientoMENPatronMensajeSearchAction.validarBotones}"
									oncomplete="mostrarEditor()" parametroAccion="NUEVO_MENSAJE"
									update=":principalForm:bloqueMensaje 
									        :principalForm:bloqueBuscar 
									        :principalForm:tabGeneral
									        :principalForm:nombreArchivoImg"
									rendered="#{mAlias.botonNuevoMensaje}" />
								<ssicc:linkAjax title="Guardar Mensaje"
									onstart="insertarMensaje()"
									icon="#{resource['images:saveForm.png']}" width="34" height="34"
									accion="#{mantenimientoMENPatronMensajeSearchAction.validarSaveMensaje}"
									process=":principalForm:bloqueBuscar :principalForm:bloqueMensaje"
									update=":principalForm:mensajesGrowl :principalForm:idCamposRequeridos 
											:principalForm:tabGeneral"
									oncomplete="saveMensaje();"
									rendered="#{mAlias.botonGrabarMensaje}" />
							</h:panelGrid>
							
						</h:panelGrid>
						
						<h:panelGrid>
							<ui:include src="mantenimientoMENPatronEditorForm.xhtml" />
							<h:inputHidden value="#{mAlias.formMantenimiento.textoMensaje}"
								id="textoMensaje" />
							<h:inputHidden value="#{mAlias.formMantenimiento.textoHtml}"
								id="textoHtml" />
							<h:panelGrid id="idCamposRequeridos">
								<h:inputHidden value="#{mAlias.camposRequeridos}"
									id="camposRequeridos" />
							</h:panelGrid>
							<h:inputHidden value="#{mAlias.formMantenimiento.tipoMensaje}"
								id="idTipoMensaje" />
						</h:panelGrid>
					</h:panelGrid>
					<h:panelGrid style="width:100%">
						<!-- ################# BLOQUE PARA INSERTAR CONSIDERACION Y RESTRICCION ################ -->
						<p:tabView id="tabGeneral">
							<p:ajax event="tabChange"
								listener="#{mantenimientoMENPatronMensajeSearchAction.tipoConsideracionRestriccion}" />
							<!-- ################# CONSIDERACION ################ -->
							<p:tab id="tabConsideracion"
								title="#{i18n['mantenimientoMENPatronMensajeForm.leyendaConsideracion']}">
								<ui:include
									src="mantenimientoMENPatronTabConsideracionForm.xhtml" />
							</p:tab>

							<!-- ################# RESTRICCION ################ -->
							<p:tab id="tabRestriccion"
								title="#{i18n['mantenimientoMENPatronMensajeForm.leyendaRestriccion']}">
								<ui:include src="mantenimientoMENPatronTabRestriccionForm.xhtml" />
							</p:tab>
						</p:tabView>
					</h:panelGrid>
				</h:panelGrid>
			</h:panelGrid>
			
		
			  <script type='text/javascript' src='#{facesContext.externalContext.requestContextPath}/resources/js/gradiente/gradiente.js'></script>
			 <script type='text/javascript' src='#{facesContext.externalContext.requestContextPath}/resources/js/jquery/encoder2.js'></script>
			<h:outputScript>

 var cmd = "";
 var tab=false;
 var vab="";
 var bbol=false;    	  
 var bital=false;
 var bsub=false;
 var bcolor=false;
 var btam=false;
 var bEditor=false;
 var ruta="";
 var textEditor=document.getElementById("textEditor");
 var path = '<h:outputText value="#{mAlias.path}" />'
  
  
 function jsVariables(valor,accion){
        <!-- accion:1- EDITAR -->
		var tipoMensaje = valor.value;
		var tipoMensajeEdit=document.getElementById("idTipoMensaje").value;
		if(accion=="0"){
		document.getElementById("idTipoMensaje").value=tipoMensaje;
		   if(tipoMensaje=="1"){
			 //variable
			 document.getElementById('idDiv4').style.display='';
		 }else{
			 //fijo
			 document.getElementById('idDiv4').style.display='none';
		 } 
		}else{
		document.getElementById("idTipoMensaje").value=tipoMensajeEdit;
		 if(tipoMensajeEdit=="1"){
			 //variable
			 document.getElementById('idDiv4').style.display='';
		 }else{
			 //fijo
			 document.getElementById('idDiv4').style.display='none';
		 } 
		
		}
		
 }
 
 function SetMsg(msg) {
    var msg = '&lt;body&gt;&lt;/body&gt;';
    
    document.getElementById("textEditor").contentDocument.designMode = "on";
    document.getElementById("textEditor").focus();
    document.getElementById("textEditor").contentDocument.execCommand("FontName","","Helvetica");
    document.getElementById("textEditor").contentDocument.write(msg); 

   if(document.getElementById("textEditor").attachEvent){
  	   document.getElementById("textEditor").attachEvent("onkeyup", handleKeyUp);
  	   document.getElementById("textEditor").attachEvent("onkeypress", handleKeyPress);
  	   document.getElementById("textEditor").attachEvent("onkeydown", handleKeyDown);
  	   document.getElementById("textEditor").attachEvent("onclick", handleClick);
  	   document.getElementById("textEditor").attachEvent("onfocus", handleFocus);
  	   document.attachEvent("onclick", handleOnClickDocu); 
   }else{
 
  	  getIFrameDocument("textEditor").addEventListener("keyup", handleKeyUp, true);
  	  getIFrameDocument("textEditor").addEventListener("onkeypress", handleKeyPress, true);
  	  getIFrameDocument("textEditor").addEventListener("keydown", handleKeyDown, true);
  	  getIFrameDocument("textEditor").addEventListener("click", handleClick, true);
  	  getIFrameDocument("textEditor").addEventListener("onfocus", handleFocus, true);
  	  document.addEventListener("click", handleOnClickDocu,true); 
   }	  
 } 
   
   function getIFrameDocument(aID) {
        if (document.getElementById(aID).contentDocument) {

            return document.getElementById(aID).contentDocument;
        } else {
            return document.getElementById(aID).contentWindow.document;//document.frames[aID].document;
        }
    }
    
 
	function handleFocus(e){
		//var txt = getIFrameDocument("textEditor").body.innerHTML;
	  	//document.forms[0].textoMensaje.value = getIFrameDocument("textEditor").body.innerHTML;	
	  	//alert(txt);
	}
	
	function handleKeyPress(e){
		bEditor=true;
		if(e.keyCode==60 || e.keyCode==62 ) return false;
				  
					 if(keyCtrl){
						 
						 if (!confirm('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.paste.editor.information']}" />')) {
					
							    document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;
							    keyCtrl=false;	
						       	return false;
						 }
						 keyCtrl=false;
						 textoSinFormato = document.getElementById("textEditor").body.innerText;
						 document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;	
									  	 
					  }
	
    } 
    
    function handleOnClickDocu(e){
    	
    		bEditor=false;
    	
    }
    
   
    function disableCtrlKeyCombination(e)
    {
            var forbiddenKeys = new Array('v');
            var key;
            var isCtrl;
                    key = e.keyCode;     //firefox
                    if(e.ctrlKey)
                            isCtrl = true;
                    else
                            isCtrl = false;
          
            if(isCtrl)
            {
              for(i=0; i &lt; forbiddenKeys.length; i++)
                    {
                            if(forbiddenKeys[i].toLowerCase() == String.fromCharCode(key).toLowerCase())
                            {

                                    return false;
                            }
                    }
            }
            return true;
    } 
    
    
  
    var keyCtrl=false;
    function handleKeyDown(e){

    	var descripcionMensaje = document.getElementById("descripcionMensaje:inputtextarea");
    	var flagDesabilidato = descripcionMensaje.disabled;
    	
		if(flagDesabilidato)
      		return false;
    	
    	  bEditor=true;  
    	  if(!disableCtrlKeyCombination(e)){
			 //eliminar etiquetas
		  	  keyCtrl = true;			
			  textoSinFormato = document.getElementById("textEditor").contentDocument.body.innerHTML;	  
			}	
			
			if(e.keyCode==60 || e.keyCode==62 ) {
				  
					 if(bEditor){
						 
						 if (!confirm('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.paste.editor.information']}" />')) {
					
							    document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;
							    keyCtrl=false;	
						       	return false;
						 }
						 keyCtrl=false;
						 textoSinFormato = document.getElementById("textEditor").body.innerText;
						 document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;	
									  	 
					  }			
    	  	
			}	
			
			if(e.keyCode==9){
			   document.getElementById("correlativo:input").focus();
	           document.getElementById("textEditor").blur();
			   return false;
			}
			
						
    	  	
					
    }	
    
     
    function handleClick(e){
    		bEditor=true;
    		document.getElementById("textoMensaje").value = document.getElementById("textEditor").contentDocument.body.innerHTML;	
    }
    
    function handleKeyUp(e)
	{
	<!-- if(e.keyCode==9){
	   document.getElementById("correlativo:input").focus();
	   document.getElementById("textEditor").blur();
	   var aa = document.getElementById("textEditor").contentDocument.body.innerHTML;
	   var res = aa.substring(0, aa.length-61);
	   document.getElementById("textEditor").contentDocument.body.innerHTML=res;
	} -->
		  bEditor=true;
		  var txt = getIFrameDocument("textEditor").body.innerHTML;
		  //alert('hola '+ e.keyCode + ' - '+String.fromCharCode( e.keyCode ));
		  if(e.keyCode == 13 || e.keyCode === 10){
		  
		  	//alert(txt);
		  	var ind=txt.lastIndexOf("&lt;P&gt;&nbsp;&lt;/P&gt;");
		  	//alert(ind);
		  	//if(ind==-1)
		  	//ind=txt.lastIndexOf("&lt;p&gt;&nbsp;&lt;/p&gt;");
		  	
		  	if(ind != -1)  {
		  	 txt =txt.substr(0,ind);
		  	 txt=txt.replace(/(&lt;p>)/gi,"&lt;div&gt;");
		  	 txt=txt.replace(/(&lt;\/p>)/gi,"&lt;/div&gt;");					  	
		  	 txt+="&lt;div&gt;";
		  	 document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
		    }else{
		    <!-- 	txt=txt.replace(/(&lt;p&gt;)/gi,"&lt;div&gt;");
		  	    txt=txt.replace(/(&lt;\/p&gt;)/gi,"&lt;/div&gt;");						
		  	    //txt+="&lt;div&gt;";								  	  
		  	    getIFrameDocument("textEditor").body.innerHTML = txt; -->
		    }

		  	tam = txt.length;
		  	var ind=txt.lastIndexOf("&lt;div&gt;&nbsp;&lt;/div&gt;");
		  	var ind2 = txt.lastIndexOf("&lt;div&gt;&lt;/div&gt;"); 
		  	//alert(tam + ' ' + ind);
		  	if(ind!=-1 &amp;&amp; ind+17==tam ){					  		 
		  	   txt = txt.substring(0,ind)+"&lt;DIV&gt;&lt;/DIV&gt;";
		  	}   
		  	<!-- getIFrameDocument("textEditor").body.innerHTML = txt; -->
		  }
			 if(keyCtrl){
					//eliminar etiquetas
				 
				 //alert(txt);
				 if (!confirm('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.paste.editor.information']}" />')) {
					    document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;
					    keyCtrl=false;	
				       	return false;
				 }
				 keyCtrl=false;
				 textoSinFormato = getIFrameDocument("textEditor").body.innerText;
				 document.getElementById("textEditor").contentDocument.body.innerHTML=textoSinFormato;	
				 	  			  	 
			  }
		  document.getElementById("textoHtml").value = getIFrameDocument("textEditor").body.innerHTML;
	}

    var isDesignMode = true;
    
     function jsBx(){
    		if(document.getElementById('bx').checked){
    			//bxFila
    			document.getElementById('bxFila').style.display=""; 
    		}else{
    			document.getElementById('bxFila').style.display="none"; 
    		}
    }
      
    function jsMarcar(){
    	var cont=0;
    	var txt="";
    	var receptor = document.getElementById('variables');
 
    	for(i=0 ; i&lt;receptor.length;i++){
			if(receptor[i].selected){
                 cont++;
				 if(cont &gt; 1) break; 
		    }
	    }
			  
		if(cont &gt; 1){
			//alert('Debe seleccionar una sola variable');
			//alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.variable.editor.information']}" />');
			  	return;
		}
			  
	    for(i=0 ; i &lt; receptor.length;i++){
			 //alert(receptor[i].selected);
			if(receptor[i].selected){
				//alert(receptor[i].value);
				 txt = receptor[i].value	;
				  break;
			}
		}
		document.getElementById('textEditor').focus();	 
	    fontEdit('VarMsg',txt);	 	
    }
  
     function insertTable(){
             var valorImagenFondo = document.getElementById('nombreArchivoImg').value;	
             if (valorImagenFondo != '') {
                alert('No se puede insertar Tabla si se ha insertado previamente una Imagen de Fondo');
                return;
             }
    	     if (document.getElementById('itable').src.toString().indexOf('over') != -1){
                    document.getElementById('itable').src = path+'/images/inserttable.gif';
                    document.getElementById('fila').style.display="none";
                    document.getElementById('columna').style.display="none";
                    document.getElementById('go').style.display="none";                        
                    document.getElementById('bx').style.display="none";                        

                  }
                else{
                    document.getElementById('itable').src = path+'/images/inserttable.over.gif';
                    document.getElementById('fila').style.display="";
                    document.getElementById('columna').style.display="";
                    document.getElementById('go').style.display="";
                    document.getElementById('bx').style.display="";                        
                  }
    }
         
    function fontEdit(command, y) 
    {
      //si e spara editar
      switch (command){ 
            case 'bold':
                if (document.getElementById('bold').src.toString().indexOf("over") != -1){ 
                    document.getElementById('bold').src = path+"/images/bold.gif";
                }
                else{  
                    document.getElementById('bold').src = path+"/images/bold.over.gif";
                }
                bbol=true;
                bital=false;
                bsub=false;
                break;
                
            case 'italic':
                if (document.getElementById('italic').src.toString().indexOf('over') != -1)
                    document.getElementById('italic').src = path+'/images/italic.gif';
                else
                    document.getElementById('italic').src = path+'/images/italic.over.gif';
                bbol=false;
                bital=true;
                bsub=false;                        
                break;
                
            case 'underline':
                if (document.getElementById('underline').src.toString().indexOf('over') != -1)
                    document.getElementById('underline').src = path+'/images/underline.gif';
                else
                    document.getElementById('underline').src = path+'/images/underline.over.gif';
                bbol=false;
                bital=false;
                bsub=true;                        
                break;
                
            case 'justifyleft':
                if (document.getElementById('justifyleft').src.toString().indexOf('over') != -1)
                    document.getElementById('justifyleft').src = path+'/images/justifyleft.gif';
                else
                    document.getElementById('justifyleft').src = path+'/images/justifyleft.over.gif';
                break;
                
            case 'justifycenter':
                if (document.getElementById('justifycenter').src.toString().indexOf('over') != -1)
                    document.getElementById('justifycenter').src = path+'/images/justifycenter.gif';
                else
                    document.getElementById('justifycenter').src = path+'/images/justifycenter.over.gif';
                break;
                
            case 'justifyright':
                if (document.getElementById('justifyright').src.toString().indexOf('over') != -1)
                    document.getElementById('justifyright').src = path+'/images/justifyright.gif';
                else
                    document.getElementById('justifyright').src = path+'/images/justifyright.over.gif';
                break;
                
            case 'insertorderedlist':
                if (document.getElementById('insertorderedlist').src.toString().indexOf('over') != -1)
                    document.getElementById('insertorderedlist').src = path+'/images/numberedlist.gif';
                else
                    document.getElementById('insertorderedlist').src = path+'/images/numberedlist.over.gif';
                break;
                
            case 'insertunorderedlist':
                if (document.getElementById('insertunorderedlist').src.toString().indexOf('over') != -1)
                    document.getElementById('insertunorderedlist').src = path+'/images/bulletedlist.gif';
                else
                    document.getElementById('insertunorderedlist').src = path+'/images/bulletedlist.over.gif';
                break;
            case 'outdent':
                if (document.getElementById('outdent').src.toString().indexOf('over') != -1)
                    document.getElementById('outdent').src = path+'/images/outdent.gif';
                else
                    document.getElementById('outdent').src = path+'/images/outdent.over.gif';
                break;
            case 'indent':
                if (document.getElementById('indent').src.toString().indexOf('over') != -1)
                    document.getElementById('indent').src = path+'/images/indent.gif';
                else
                    document.getElementById('indent').src = path+'/images/indent.over.gif';
                break;
            case 'table':
                bEditor=true;//por corregir                    
                break;                    
            case 'ForeColor':
                 bcolor=true;
               	 document.getElementById('color').value = "Sector";
               break;    
            case 'fontsize':
            		btam=true;
            		document.getElementById('size').value = "3"; 
            		break;   
            case 'img':
            	  if(y==''){
            	  	//alert('debe ingresar una imagen');
            	  	//alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.imagen.editor.information']}" />');
            	  	return;
            	  }		
            	  
            case 'default':
                if(y == 'x') return;
                break;
        }
        //alert(command+ ' - '+y);
		
        if(command != 'VarMsg' &amp;&amp; command != 'table' &amp;&amp; command != 'img' &amp;&amp; command != 'imgTemp' &amp;&amp; command != 'cargarImagenFondo') {     
        	 cmd=command;
    	     vab=y;        	
        	 document.getElementById("textEditor").contentDocument.execCommand(command, "", y);  	     
        }else{
            
        	document.getElementById("textEditor").focus();
        	//debe anhadirlo 
        	var range = getIFrameDocument("textEditor");
            //alert(range);
			<!-- parElement = range.parentElement();  -->
        	var tline="";
        	var linea="";
        	//range.text = y;
        	var bxFila=0;
        	var arrBx= new Array();
        	if(bEditor){   
        		if(command == 'table'){
        		  
        		  	f = eval(document.getElementById('fila').value);
        		  	col = eval(document.getElementById('columna').value);
        		  	
            		  	if(document.forms[0].bx.checked){
            		  		 bbx = true;
            		  		 bxFila = document.getElementById('bxFila').value;//1,2,4 (ahora se enviara en ese formato)
            		  		 arrBx=bxFila.split(",");
            		  		 for(i=0;i&lt;arrBx.length;i++){
		            		  	 if(arrBx[i] == 0 || arrBx[i] >f){
		            		  		msg1='<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.bx.editor.information1']}" />';
		            		  		msg2='<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.bx.editor.information2']}" />';
		            		  		cadena = msg1+" "+i+" "+msg2+" "+f;
		            		    	//alert("error en posicion "+ i+" la fila que se aplique bx debe estar entre 1 y "+f);
		            		    	//alert(cadena);
		            		    	return;
		            		     } 	
	            		    }
            		  	}
            		    else {
            		 
            		    	bbx =false;		
            		    }
        		    	

        		  	//alert(f +' '+ col);
        		  	tline="&lt;table border='1px'&gt;";
        		  	//alert('a: ' + tline);
        		  	
        		  	for(i=0;i&lt;f;i++){
        		  		//alert(i)
        		  		idx="fila"+i;
        		  		inicioLinea=false;
        		  		//alert(idx)
        		  		
            		  		for(k=0;k&lt;arrBx.length &amp;&amp; bbx;k++){
	            		  		if(i==(arrBx[k]-1) &amp;&amp; !inicioLinea){
	            		  		  linea+="&lt;tr style=background-color:#CCCCCC;&gt;";
	            		  		  inicioLinea=true;
	            		  		}
            		  	  }
        		  	  
        		  	   if(!inicioLinea) linea+="&lt;tr&gt;";
        		  	   
        		  		for(j=0;j&lt;col;j++){
        		  			linea+="&lt;td&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/td&gt;";
        		  		}
        		  		linea+="&lt;/tr&gt;";
        		  	}
        		  	
        		  	tline+=linea +"&lt;/table&gt;";
        		  	//alert('b: ' + tline);
        		  	
        		  	//alert(tline);
        		  	//range.text = tline;
        		  	//alert(range.text);
        		  	//alert(getIFrameDocument("textEditor").body.innerHTML)
        		  	txt = document.getElementById("textEditor").contentDocument.body.innerHTML;
        		  		//alert(txt);
        		  	<!-- txt=formatear(txt); -->
        		  	//alert(txt);
        		  	//var ind=txt.lastIndexOf("&lt;div&gt;&nbsp;&lt;/div&gt;");				  	
				    	  	txt+="&lt;div&gt;"+tline+"&lt;/div&gt;";
							    	  	//txt+=tline;
							    document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
							    	
					//alert('c: ' + txt);		    
        		  	
        		  }
        		  if(command == 'VarMsg'){
        		  	<!-- txt = range.createTextNode(y);
                    range.body.appendChild(txt) -->
                    var ind = range.getSelection().focusNode.parentElement.nodeName;
        		    var valorActual = range.getSelection().focusNode.nodeValue;
        		    if(ind=='TR'){
        		      var range2 = getIFrameDocument("textEditor").getSelection();
        		      txt = range.createTextNode(y);
        		      range2.focusNode.appendChild(txt);
        		    }else if(ind=='TD'){
        		      range.getSelection().focusNode.nodeValue=valorActual+y;
        		    }else{
        		  	  txt = range.createTextNode(y);
                      range.body.appendChild(txt);
                    }
        		  }
        		  
        		 
        	}else{
        		  if(command == 'imgTemp'){
        		    ruta= path +"/images/";
        		    imagen  =  document.getElementById("nombreArchivoImg").value;
        		    tline= '&lt;img id=&quot;'+y+'&quot; src=&quot;'+ruta+imagen+'&quot;&gt;&lt;/img&gt;';
        			txt = document.getElementById("textEditor").contentDocument.body.innerHTML;   
        		  	//alert('a ' +txt);
        		  	<!-- txt=formatear(txt);   -->		  		
        		  	var ind=txt.lastIndexOf("&lt;DIV&gt;&nbsp;&lt;/DIV&gt;");

							  	if(ind != -1)  {
							  	 //preguntamos si es el ultimo tab
							  	 if(ind + 17 != txt.length) {
							  	 	  txt+="&lt;div&gt;"+tline+"&lt;/div&gt;";
							    	  document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
							    	  document.getElementById("textEditor").focus();							    	  
							    	  return;
							  	 }
							  	 	
							  	 txt =txt.substr(0,ind);
							  	 txt+="&lt;div&gt;"+tline+"&lt;/div&gt;";
							  	 
							  	 document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
							  	 
							  	 
							    }else{
							    	ind=txt.lastIndexOf("&lt;P>&nbsp;&lt;/P&gt;");
							    	if(ind != -1){
							    			txt =txt.substr(0,ind);
							  	 			txt+="&lt;div&gt;"+tline+"&lt;/div&gt;";
							  	 			document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
							    	}else{
							    	  	txt+="&lt;div&gt;"+tline+"&lt;/div&gt;";
							    	    document.getElementById("textEditor").contentDocument.body.innerHTML = txt;
							    	}
							    	
							    }
							    
							    document.getElementById("textEditor").focus(); 
							    return; 
        		 }
        		 if(command == 'cargarImagenFondo') {
            	    ruta= path + "/images/";
        		    imagen  =  document.getElementById("nombreArchivoImg").value;
        		    imagenFondo = 'url("' + ruta + imagen + '")';
 					$('#textEditor').css('background-image', imagenFondo);
 					$('#textEditor').css('background-repeat', 'no-repeat');
        		 }
        		 document.getElementById("textEditor").focus(); 	           		
        		 //alert("Debe posecionarse dentro del area de mensaje para poder insertar una variable o tabla");
        		 //alert('<h:outputText	value="#{i18n['mantenimientoMENPatronMensaje.area.editor.information']}" />');
        		 return;
        		
        	}
            			
		}	
         document.getElementById("textEditor").focus();
         document.getElementById('textoMensaje').value = document.getElementById("textEditor").contentDocument.body.innerHTML; 
    }
 
     function ChangeMode() {
    	   //alert(getIFrameDocument("textEditor").body.innerHTML );
        if (isDesignMode == true) {
            isDesignMode = false;
            document.getElementById('mode').src = path+'/images/mode.html.gif';
            document.getElementById('mode').title = 'HTML View';
            Encoder.EncodeType = "entity";
            var encoded = Encoder.parseSSiCCTxt(document.getElementById("textEditor").contentDocument.body.innerHTML);
            document.getElementById("textEditor").contentDocument.body.innerHTML = encoded;
        }
        else {
            isDesignMode = true;
            document.getElementById('mode').src = path+'/images/mode.design.gif';
            document.getElementById('mode').title = 'Design View';
            var decoded = Encoder.parseSSiCCHtml(getIFrameDocument("textEditor").body.innerText);
            document.getElementById("textEditor").contentDocument.body.innerHTML = decoded;
        }
        
        //alert(getIFrameDocument("textEditor").getElementById('fila0'))
    }
    
   
    function fontSelEdit(cmd,y){
    	    document.getElementById("textEditor").focus();
        	//debe anhadirlo 
        	var ran = getIFrameDocument("textEditor").selection.createRange();
        	
        	//alert(ran.type);
        	ran.execCommand(cmd, false, y)
        	
    }



    function mostrarEditor()
    {
   
		var mensajeHtmlIni=document.getElementById("textoHtml").value;
        var mensajeIni=""             
    	//textEditor.focus();
        if(getIFrameDocument("textEditor").body != null)
        	mensajeHtmlIni = document.getElementById("textEditor").contentDocument.body.innerHTML;

		if(mensajeHtmlIni == ''){	
			mensajeIni= document.getElementById('textoMensaje').value;
            Encoder.EncodeType = "entity";
            //alert(mensaje);
            
            mensajeHtmlIni = Encoder.parseSSiCCHtml(mensajeIni);//Encoder.parseSSiCCHtml(mensaje);
           	
            //alert('uhmmm '+mensaje);
            SetMsg('mensaje');//sirve para que se cree el body
            //alert(mensaje)      
            document.getElementById("textEditor").contentDocument.body.innerHTML=mensajeHtmlIni;
            
          }
          else{
            mensajeIni = mensajeHtmlIni;
            SetMsg('mensaje');//sirve para que se cree el body
            document.getElementById("textEditor").contentDocument.body.innerHTML=mensajeIni;
            
          }   
          //alert('22: ' + mensajeHtmlIni);
          fontEdit('cargarImagenFondo','filaCargar');
    }
   
    function formatoBx(evento){
    	 key = evento.keyCode;
    	return (key &gt;= 49 &amp;&amp; key &lt;= 57) || (key == 44);
    }  
                                      

</h:outputScript>
			<h:outputScript>
	function insertarMensaje(){
		var mensajeHtml =document.getElementById("textEditor").contentDocument.body.innerHTML;	
		Encoder.EncodeType = "entity";   
		//alert("ingreso insertarMensaje") ;
		//alert("mensajeHtml: " + mensajeHtml) ;
		
 		mensaje = Encoder.parseSSiCCTxt(mensajeHtml);
		document.getElementById('textoMensaje').value=mensaje;
		document.getElementById('textoHtml').value=mensajeHtml;  
		
		//alert("mensaje: " + mensaje) ;
		//alert("mensajeHtml: " + mensajeHtml) ;
		//alert("fin insertarMensaje") ;
			
			   	 	    
	}
	
function saveMensaje() {

		//VALIDAR SI ES MENSAJE VALIDO
		//SI TINE SECTOR FIJO Y TABLA , OBLIGATORIO SECCION VARIABLE
		var mensajeHtml =document.getElementById("textEditor").contentDocument.body.innerHTML;
		var aux = mensajeHtml.substring(0);
		var nombreArchivoImg = document.getElementById("nombreArchivoImg");
	
		if (nombreArchivoImg.value != '' ) {
		    var camposRequeridos = document.getElementById('camposRequeridos').value;
		    if(camposRequeridos=='NO') {
			    PF('confirmDialogGuardarmensaje_confirmationDialogConfirmar').show();
	            return true; 
	        }
		}
		
		//validacion para tablas
 		var haysector=false;
 		var bGrabar=true;
 		var index1=0;
 		var index2=0;
 		var index3=0;
 		var index4=0;
		

		while(aux.length &gt; 0){
			var cadena ="";
	 		index2 = aux.indexOf("&lt;table");
	 		index4 = aux.indexOf("&lt;/table&gt;");
			if(index2 == -1)break; 
			cadena = mensajeHtml.substring(index2,index4);
	 		index1 = cadena.indexOf('&lt;font color=&quot;#0000ff&quot;');
	 		
	 		index3 = cadena.indexOf('&lt;font color=&quot;#ff0000&quot;');

	        if(index1!= -1  &amp;&amp; index2!= -1){
	            //debe haber campo variable obligatorio            
	            if(index3 == -1){
	            	alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.sector.variable.requerido']}" />');
					bGrabar=false;
					return false;
	            }	
	            
	        }

	        if(index3!= -1  &amp;&amp; index2!= -1){
	            //debe haber campo variable obligatorio            
	            if(index1 == -1){
	              alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.sector.fijo.requerido']}" />');
					bGrabar=false;
	        		return false;
	            }	
	            
	        }

		     haysector=true;
		     aux= aux.substring(index4+8);
		    	
		}
		
		//validacion para sector fijo y variable
		aux = mensajeHtml.substring(0);
		//alert('2 '+aux)
		if(aux.length &gt; 0 &amp;&amp; !haysector){
	 		index1 = aux.indexOf('&lt;font color=&quot;#0000ff&quot;');
	 		index3 = aux.indexOf('&lt;font color=&quot;#ff0000&quot;');
			
		    if(index1!= -1){
	            //debe haber campo variable obligatorio            
	            if(index3 == -1){
	            alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.sector.variable.requerido']}" />');
					bGrabar=false;
	        		return false;
	            }	
	            
	        }

			
	        if(index3!= -1 ){
	            //debe haber campo variable obligatorio            
	            if(index1 == -1){
	            alert('<h:outputText
					value="#{i18n['mantenimientoMENPatronMensaje.sector.fijo.requerido']}" />');
					bGrabar=false;
	        		return false;
	            }	
	            
	        }		   
		     		    	
		}			
		
 		

		//Encoder.EncodeType = "entity";    
 		//mensaje = Encoder.parseSSiCCTxt(mensajeHtml);
		//SI ES XML VALIDO
		//document.getElementById('textoMensaje').value=mensaje;
		//document.getElementById('textoHtml').value=mensajeHtml;  		
		   	 	    
	    var camposRequeridos = document.getElementById('camposRequeridos').value;
	    if(camposRequeridos=='NO')
            PF('confirmDialogGuardarmensaje_confirmationDialogConfirmar').show();
         return true;  
}

</h:outputScript>
</ui:define>
		<ui:define name="body_adicional_mantenimiento">
		
		    <!-- ####### Codigo Correlativo ###### -->
			<h:panelGrid columns="1" id="idCorrelativo" >
			  <h:panelGrid columns="1" rendered="false">
				<ssicc:label
					key="#{i18n['mantenimientoMENPatronMensajeForm.correlativo']}"
					required="true" esRight="false" />
				<ssicc:inputText value="#{mAlias.formMantenimiento.correlativo}"
					size="4" maxlength="4" readonly="true" id="correlativo"
					deshabilitado="#{mAlias.bloqueNuevoMensaje}" />
			  </h:panelGrid>
			</h:panelGrid>	
		    
			<ssicc:confirmDialogConfirmar id="confirmDialogLimpiar"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.limpiarPatron']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.clearMensajePatron}"
				update=":principalForm:bloqueBuscar :principalForm:idPanel" />
			<ssicc:confirmDialogConfirmar id="confirmDialogEliminar"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.delete.information']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.deleteMensajePatron}"
				update=":principalForm:bloqueBuscar :principalForm:idPanel" />
			<ssicc:confirmDialogConfirmar id="confirmDialogGuardarmensaje"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.saveMensaje}"
				update=":principalForm:bloqueMensaje :principalForm:bloqueBuscar :principalForm:tabGeneral" />
			<ssicc:confirmDialogConfirmar id="confirmDialogSalir"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.regresar']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.salirpagina}" />
			<ssicc:confirmDialogConfirmar id="confirmDialogSalirUpload"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.mensaje.popup.guardar']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.insertarArchivo}"
				update=":principalForm:tabGeneral:panelConsideracion :principalForm:dialogPopup" />
			<ssicc:confirmDialogConfirmar id="confirmDialogSalirUpload2"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.mensaje.popup.guardar']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.insertarLista}"
				update=":principalForm:tabGeneral:panelConsideracion :principalForm:dialogPopup" />
			<ssicc:confirmDialogConfirmar id="confirmDialogEliminarConsideracion"
				manage="#{mAlias}"
				mensaje="#{i18n['mantenimientoMENPatronMensajeForm.delete.information']}"
				accion="#{mantenimientoMENPatronMensajeSearchAction.deleteConsideracion}"
				update=":principalForm:tabGeneral:panelConsideracion" />

			<h:panelGrid id="dialogPopup">
				<p:dialog id="idClasificacion"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.clasificacion']}"
					widgetVar="viewClasificacionesCliente"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.clasificacion']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeClasificacionesPopup.xhtml" />
				</p:dialog>
				<p:dialog id="idUnidad"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.unidad']}"
					widgetVar="viewUnidadAdministrativa"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.unidad']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeUnidadPopup.xhtml" />
				</p:dialog>
				<p:dialog id="idCodigoVenta"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.codigoVenta']}"
					widgetVar="viewCodigoVenta"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.codigoVenta']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeCodigoVentaPopup.xhtml" />
				</p:dialog>
				<p:dialog id="idCodigoCuvFaltante"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.codigoCuvFaltante']}"
					widgetVar="viewCodigoCuvFaltante"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.codigoCuvFaltante']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeCodigoCuvFaltantePopup.xhtml" />
				</p:dialog>
				<p:dialog id="idEstatus"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.status']}"
					widgetVar="viewEstatusCliente"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.status']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeEstatusPopup.xhtml" />
				</p:dialog>
				<p:dialog id="idLista"
					title="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.consultoras']}"
					widgetVar="viewListaConsultora"
					header="#{i18n['mantenimientoMENPatronMensajeForm.title.popup.consultoras']}"
					modal="false" height="350" width="700">
					<ui:include
						src="/pages/spusicc/men/mantenimientoMENPatronMensajeListaPopup.xhtml" />
				</p:dialog>
				<ssicc:confirmDialogConfirmar id="confirmDialogGrabarPopup"
					manage="#{mAlias}"
					mensaje="#{i18n['mantenimientoMENPatronMensajeForm.mensaje.popup.guardar']}"
					accion="#{mantenimientoMENPatronMensajeSearchAction.insertConsideracion}"
					update=":principalForm:tabGeneral:panelConsideracion :principalForm:dialogPopup" />
				<ssicc:confirmDialogConfirmar id="confirmDialogGrabarPopup2"
					manage="#{mAlias}"
					mensaje="#{i18n['mantenimientoMENPatronMensajeForm.mensaje.popup.guardar']}"
					accion="#{mantenimientoMENPatronMensajeSearchAction.savePopup}"
					update=":principalForm:tabGeneral:panelConsideracion :principalForm:dialogPopup" />
			</h:panelGrid>
			
			<h:outputStylesheet  >
			   .ui-fileupload-buttonbar {
				    margin: 0px 0px 0px 0px !important;
				    padding: 0px 0px 0px 0px !important;
				    border: none;
				}
				.ui-fileupload {
				    position: relative !important;
				    margin: 0px 0px 0px 0px !important;
				    padding: 0px 0px 0px 0px !important;
				    display: inline-block;
				    border: none;
				}
				.ui-fileupload-content {
				    display: none;  
				}
			
			</h:outputStylesheet>

		</ui:define>

	</ui:composition>
</body>
</html>