<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<ui:composition template="/templates/templatePopupEmergenteDetalle.xhtml">
		<ui:param name="mAlias" value="#{consultaFLXConsultoraAction}" />
		
		<ui:define name="titulo_Pantalla">
			<h:outputText value="#{i18n['consultaFLXConsultoraForm.title']}" styleClass="clsEncabezadoPantalla" />
		</ui:define>
		
		  <ui:define name="body_encabezado_detalle">
		  
		  	<p:fieldset id="panelDatosGenerales" toggleable="true"
				toggleSpeed="300">
	
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="#{msg['consultaFLXConsultoraForm.datosCabecera']}" 
											icon="#{resource['images:signature.png']}" />
				</f:facet>
				
					<!--Seccion Datos Generales-->
					<h:panelGrid columns="4" width="100%">
						<ssicc:label key="#{i18n['consultaFLXConsultoraForm.codigoPais']}" subtitle="true"/>
						<ssicc:label value="#{mAlias.mPantallaPrincipalBean.currentCountry.descripcion}"/>
						<ssicc:label value="  "/>
						<ssicc:label value="  "/>
						
						<ssicc:label key="#{i18n['consultaFLXConsultoraForm.codConsultora']}" subtitle="true"/>
						<ssicc:label value="#{mAlias.formBusqueda.codConsultora}"/>
						<ssicc:label key="#{i18n['consultaFLXConsultoraForm.nomConsultora']}" subtitle="true"/>
						<ssicc:label value="#{mAlias.formBusqueda.nomConsultora}"/>
						
						<ssicc:label key="#{i18n['consultaFLXConsultoraForm.desRegZonTerri']}" subtitle="true"/>
						<ssicc:label value="#{mAlias.formBusqueda.desRegZonTerri}"/>
						<ssicc:label value="  "/>
						<ssicc:label value="  "/>												
					</h:panelGrid>
			</p:fieldset>
			
			<p:spacer height="20"/>
			
			<p:fieldset id="panelDatosFlexiPagos" toggleable="true"
				toggleSpeed="300">
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="#{i18n['consultaFLXConsultoraForm.datosFlexipago']}" 
												icon="#{resource['images:signature.png']}" />
				</f:facet>
				<h:panelGrid columns="6" width="100%">
				
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.estadoConsultora']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.estadoConsultora}"/> 
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.calificacion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.calificacion}"/>
					<ssicc:label key="#{i18n['consultaHIPCuentaCorrientesForm.montoMinimo']}" subtitle="true"/>
					<h:panelGroup>
						<ssicc:label value="#{mAlias.formBusqueda.periodo}"/>
						&nbsp;
						<ssicc:label value="#{mAlias.formBusqueda.montoMinimo}"/>
					</h:panelGroup>
					
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.fechaActivacion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.fechaActivacion}"/> 
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.numeroContrato']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.numeroContrato}"/>
					<ssicc:label key="#{i18n['consultaHIPCuentaCorrientesForm.montoMinimo']}" subtitle="true"/>
					<h:panelGroup>
						<ssicc:label value="#{mAlias.formBusqueda.periodoSiguiente}"/>
						&nbsp;
						<ssicc:label value="#{mAlias.formBusqueda.montoMinimoSiguiente}"/>
					</h:panelGroup>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.campaniaActivacion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.periodoActivacion}"/> 
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.estadoContrato']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.estadoContrato}"/>
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.pagoTotalSiguientePedido']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.pagoTotalSiguientePedido}"/>
					
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.primerPeriodo']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.primerPeriodo}"/> 
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.motivoRechazo']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.motivoRechazo}"/>
					<ssicc:label value="  "/>
					<ssicc:label value="  "/>												
					
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.ultimoPeriodo']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.ultimoPeriodo}"/> 
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.fechaRechazo']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.fechaRechazo}"/>
					<ssicc:label value="  "/>
					<ssicc:label value="  "/>												
					
				</h:panelGrid>
			</p:fieldset>
		</ui:define>
				
		<ui:define name="body_datatable_detalle">
		
			<p:fieldset id="panelDatosFlxConsuDetalleList" toggleable="true"
				toggleSpeed="300">
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="#{i18n['consultaFLXConsultoraForm.datosDetalleConsultora']}" 
												icon="#{resource['images:signature.png']}" />
				</f:facet>			
			
	  			<ssicc:dataTable id="dataTableFlxConsuDetalleList" 
			          toggleable = "false"
			          draggable = "false"
			          draggableColumns = "true"
			          value="#{mAlias.flxConsuDetalleList}"
			          fileExport="FlxConsuDetalleList"
			          exportable="false"
			          scrollable="true"
			          scrollWidth="1000"
			          resizableColumns="true"
			          mostrarTituloPanel="false">
		
					<!--cabecera del dataTable-->
					<f:facet name="header">
						<h:outputText value="#{i18n['flxConsuDetalleList.titulo']}" />
					</f:facet>
					
					<p:column width="50">  
			            <f:facet name="header">
			               <ssicc:label value="#{i18n['flxConsuDetalleList.codigoPeriodo']}"/>
			            </f:facet>
		            	<h:outputText value="#{lista.codigoPeriodo}" />  
			        </p:column>  
			        
			        <p:column width="50">  
			            <f:facet name="header">
			               <ssicc:label value="#{i18n['flxConsuDetalleList.lineaCredito']}"/>
			            </f:facet>
		            	<h:outputText value="#{lista.lineaCredito}" />  
			        </p:column>  
			        
			        <p:column width="50">  
			            <f:facet name="header">
			               <ssicc:label value="#{i18n['flxConsuDetalleList.pedidoBase']}"/>
			            </f:facet>
		            	<h:outputText value="#{lista.pedidoBase}" />  
			        </p:column>  
			        
			        <p:column width="50">  
			            <f:facet name="header">
			               <ssicc:label value="#{i18n['flxConsuDetalleList.indicadorHabilitado']}"/>
			            </f:facet>
		       			<h:outputText value="NO" rendered="#{lista.indicadorHabilitado == 0}" /> 
		       			<h:outputText value="SI" rendered="#{lista.indicadorHabilitado == 1}" /> 
			        </p:column>
			        
			        <p:column width="50">  
			            <f:facet name="header">
			               <ssicc:label value="#{i18n['flxConsuDetalleList.indicadorActivo']}"/>
			            </f:facet>
		       			<h:outputText value="NO" rendered="#{lista.indicadorActivo == 0}" /> 
		       			<h:outputText value="SI" rendered="#{lista.indicadorActivo == 1}" /> 
			        </p:column>  
			          
				</ssicc:dataTable>
			
			</p:fieldset>
										
		</ui:define>
		
		<ui:define name="body_adicional_detalle">
		
			<p:spacer height="20"/>
			
			<p:fieldset id="panelAdicional" toggleable="true" toggleSpeed="300">
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="Paquete Documentario y Reporte de Saldos" 
											icon="#{resource['images:signature.png']}" />
				</f:facet>
				<h:panelGrid columns="2" width="100%">
					<ssicc:label value="Periodo"></ssicc:label>
					<ssicc:campaignCalendar2 id="idFechaNac" value="#{mAlias.formBusqueda.periodoActual}"/>
				</h:panelGrid>
				<br/>
				<ssicc:linkAjax value="PDF"
					            icon="#{resource['images:pdfForm2.png']}"
                                width="26"
                                height="26"
					            idForm=":principalFormPopUp"
					            accion="#{consultaFLXConsultoraAction.ejecutarReporte}"  
					            update=":principalFormPopUp:panelReportePDFMedia" 
					            mostrarMensajePrincipal="false"
					            mostrarTexto="true"
					            process="@this"/>

			    <h:panelGroup id="panelReportePDFMedia">    	
				    <c:if test="#{mAlias.reporteFLXDetalladoSaldosConsultoras2Action.viewReporteMedia}">
		  				<c:if test="#{not empty mAlias.reporteFLXDetalladoSaldosConsultoras2Action.outfileMedia}">
							 <p:media id="idPdfMedia" value="#{mAlias.reporteFLXDetalladoSaldosConsultoras2Action.outfileMedia}" width="100%" height="700"/>
						</c:if>
					</c:if>
				</h:panelGroup>
				
			</p:fieldset>			
			
			<p:spacer height="20"/>
			
			<p:fieldset id="panelGestionarConsultoraFlexipago" toggleable="true" toggleSpeed="300">
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="#{i18n['consultaFLXConsultoraForm.gestionarConsultoraFlexipago']}"  icon="#{resource['images:signature.png']}" />
				</f:facet>
				
				<h:panelGrid columns="2" width="100%">
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.codigoPais']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.mPantallaPrincipalBean.currentCountry.descripcion}"/>
					
					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.codigoCliente']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.codigoCliente} #{mAlias.formBusqueda.nombreConsultora}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.lineaCredito']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.lineaCred}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.pedidoBase']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.pedidoBase}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.campanyaComunicacion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.campanyaComunicacion}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.codigoCampanyaFacturacion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.codigoCampanyaFacturacion}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.email']}" subtitle="true"/>
					<ssicc:inputText value="#{mAlias.formBusqueda.mail}" size="50" maxlength="50"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.celular']}" subtitle="true"/>
					<ssicc:inputText value="#{mAlias.formBusqueda.celular}" size="20" maxlength="15" esNumerico="true"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.fechaNacimiento']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.fechaNacimiento}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.direccion']}" subtitle="true"/>
					<ssicc:label value="#{mAlias.formBusqueda.direccion}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.flagEstatus']}" subtitle="true"/>
					<ssicc:label value="Inactiva" rendered="#{mAlias.formBusqueda.flagEstatus == '0'}"/>
					<ssicc:label value="Activa" rendered="#{mAlias.formBusqueda.flagEstatus == '1'}"/>
					<ssicc:label value="Cancelada" rendered="#{mAlias.formBusqueda.flagEstatus == '2'}"/>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.motivo']}" subtitle="true"/>
					<ssicc:selectMenu value="#{mAlias.formBusqueda.codigoMotivo}">							
						<f:selectItem itemLabel="" itemValue=""/>
						<f:selectItems value="#{mAlias.flxMotivoList}" var="lista" itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}"/>
					</ssicc:selectMenu>

					<ssicc:label key="#{i18n['consultaFLXConsultoraForm.msg.modificado']}" subtitle="true" rendered="#{not empty mAlias.formBusqueda.ultimaModificacionActivar}"/>
					<ssicc:label value="#{mAlias.formBusqueda.ultimaModificacionActivar}" rendered="#{not empty mAlias.formBusqueda.ultimaModificacionActivar}"/>

					<ssicc:labelBlank/>
					<p:spacer height="20"/>
					
					<ssicc:labelBlank/>
					<h:panelGroup>
						<ssicc:linkAjax 
							            icon="#{resource['images:unlock_cust_24_n.png']}" 
							            width="34"
							            height="34"
							            title="#{i18n['mantenimientoFLXConsultoraProcesoMasivoForm.tipoProceso.activar']}"
							            idForm=":principalFormPopUp"
							            partialSubmit="false"
	                                    actualizarForm="true" 
							            accion="#{consultaFLXConsultoraAction.activar}"  
							            update=":principalFormPopUp:panelGestionarConsultoraFlexipago :principalFormPopUp:mensajesGrowl" 
							            process="@this"
							            rendered="#{mAlias.formBusqueda.flagEstatus == '0'}"/>
		
						<ssicc:linkAjax 
							            icon="#{resource['images:lock_cust_24_n.png']}" 
							            width="34"
							            height="34"
							            title="#{i18n['mantenimientoFLXConsultoraProcesoMasivoForm.tipoProceso.desactivar']}"
							            idForm=":principalFormPopUp"
							            partialSubmit="false"
	                                    actualizarForm="true" 
							            accion="#{consultaFLXConsultoraAction.desactivar}"  
							            update=":principalFormPopUp:panelGestionarConsultoraFlexipago :principalFormPopUp:mensajesGrowl" 
							            process="@this"
							            rendered="#{mAlias.formBusqueda.flagEstatus == '1'}"/>
		
						<ssicc:linkAjax 
							            icon="/resources/images/saveForm.png" 
							            width="34"
							            height="34"
							            title="#{i18n['button.save']}"
							            idForm=":principalFormPopUp"
							            partialSubmit="true"
	                                    actualizarForm="true"  
							            accion="#{consultaFLXConsultoraAction.guardar}"  
							            update=":principalFormPopUp:panelGestionarConsultoraFlexipago :principalFormPopUp:mensajesGrowl" 
							            process="@this"/>
					</h:panelGroup>
					
				</h:panelGrid>
				
			</p:fieldset>
			
			<p:spacer height="20"/>
			
		</ui:define>
		
	</ui:composition>
</body>
</html>