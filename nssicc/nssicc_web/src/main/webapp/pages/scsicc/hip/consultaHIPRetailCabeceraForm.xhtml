<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<ui:composition template="/templates/templatePopupEmergenteDetalle.xhtml">
		<ui:param name="mAlias" value="#{consultaHIPRetailAction}" />
		
		<ui:define name="titulo_Pantalla">
			<h:outputText value="#{i18n['consultaHIPRetailForm.cabecera.title']}" styleClass="clsEncabezadoPantalla" />
		</ui:define>
		
		  <ui:define name="body_encabezado_detalle">
		  
		  	<p:fieldset id="panelDatosGenerales" toggleable="true"
				toggleSpeed="300">
	
				<f:facet name="legend">
					<ssicc:cabeceraFieldset value="#{i18n['consultaHIPRetailForm.cabecera.heading']}" 
											icon="#{resource['images:signature.png']}" />
				</f:facet>
				
					<!--Seccion Datos Generales-->
					<h:panelGrid columns="2" width="100%">
						<ssicc:label key="#{i18n['consultaHIPMetasForm.codConsultora']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPMetasForm.nomConsultora']}" subtitle="true"/>
						
						<ssicc:label value="#{mAlias.formBusqueda.codConsultora}"/>
						<ssicc:label value="#{mAlias.formBusqueda.nomConsultora}"/>
						
						<ssicc:label key="#{i18n['consultaHIPMetasForm.desRegZonTerri']}" subtitle="true"/>
						<ssicc:labelBlank/>
						
						<ssicc:label value="#{mAlias.formBusqueda.desRegZonTerri}"/>
						<ssicc:labelBlank/>
					</h:panelGrid>
					
					<p:spacer height="10"/>
					
					<h:panelGrid columns="6" width="100%">
						<ssicc:label key="#{i18n['consultaHIPRetailForm.periodoProceso']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPRetailForm.totalUnidades']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPRetailForm.totalVenta']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPRetailForm.unidadesDevolucion']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPRetailForm.ventaDevolucion']}" subtitle="true"/>
						<ssicc:label key="#{i18n['consultaHIPRetailForm.estado']}" subtitle="true"/>
						
						<ssicc:label value="#{mAlias.formBusqueda.periodoProceso}"/>
						<ssicc:label value="#{mAlias.formBusqueda.totalUnidades}"/>
						<p:columnGroup>
							<p:outputLabel value="#{mAlias.formBusqueda.totalVenta}" rendered="#{mAlias.formBusqueda.indicadorBasparampais eq 1}">
								<f:convertNumber maxFractionDigits="0" pattern="###,###,###" currencySymbol="$" locale="en_US"/>
							</p:outputLabel>
							<p:outputLabel value="#{mAlias.formBusqueda.totalVenta}" rendered="#{mAlias.formBusqueda.indicadorBasparampais eq 0}"/>
						</p:columnGroup>
						<ssicc:label value="#{mAlias.formBusqueda.unidadesDevolucion}"/>
						<ssicc:label value="#{mAlias.formBusqueda.ventaDevolucion}"/>
						<ssicc:label value="#{mAlias.formBusqueda.estado}"/>
					</h:panelGrid>
			</p:fieldset>
		</ui:define>
		
		<ui:define name="body_datatable_detalle">
			
			<ssicc:dataTable id="dataTableHipRetailCabeceraList" 
		          toggleable = "false"
		          draggable = "false"
		          draggableColumns = "true"
		          value="#{mAlias.datatableCabeceraList}"
		          fileExport="HipRetailCabeceraList"
		          exportable="false"
		          width="98%"
		          resizableColumns="true"
		          mostrarTituloPanel="false"
			      seleccionable = "true"
			      selection = "#{mAlias.beanRegistroSeleccionado}">
		          
		        
		    <p:column width="50" sortBy="#{lista.periodoRetail}" style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.periodoRetail']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.periodoRetail}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.fechaRetail}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.fechaRetail']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.fechaRetail}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.subAcceso}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.subAcceso']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.subAcceso}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.local}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.local']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.local}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.tipoDocumento}" style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.tipoDocumento']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.tipoDocumento}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.numeroDocumento}" style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.numeroDocumento']}" />
	            </f:facet>
	            
	            <p:commandLink 
				     	styleClass="clsBotonLinkDetallePopUp"
				     	actionListener="#{mAlias.verDetalle}" 
				     	process="@this"
				     	partialSubmit="true"
				     	onclick="PF('idblockEspereBody').block();" 	
				     	oncomplete="PF('idblockEspereBody').unblock();
				     	     ejecutarPopup('#{facesContext.externalContext.requestContextPath}/pages/scsicc/hip/consultaHIPRetailDetalleForm.xhtml', 
				     	                   '/pages/scsicc/hip/consultaHIPRetailDetalleForm.xhtml', '1000','500','100','30')"
				     	>     
				     	
						<h:outputText value="#{lista.numeroDocumento}" styleClass="clsLabelLinkPopup"/>		      	
			            
			            <f:param name="accion" value="DETALLERETAIL" />
			            <f:param name="parametro" value="#{rowIndex}" />
            		       
					</p:commandLink> 

	        </p:column>
	        <p:column width="50" sortBy="#{lista.fechaProceso}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.fechaProceso']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.fechaProceso}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.transaccion}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.transaccion']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.transaccion}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.totalUnidades}"  style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.totalUnidades']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.totalUnidades}"/>  
	        </p:column>
	        <p:column width="50" sortBy="#{lista.totalVenta}" style="text-align:center">  
	            <f:facet name="header">
	              <p:outputLabel value="#{i18n['hipRetailCabeceraList.totalVenta']}" />
	            </f:facet>
	            <p:outputLabel value="#{lista.totalVenta}" rendered="#{mAlias.formBusqueda.indicadorBasparampais eq 1}">
					<f:convertNumber maxFractionDigits="0" pattern="###,###,###" currencySymbol="$" locale="en_US"/>
				</p:outputLabel>
	            <p:outputLabel value="#{lista.totalVenta}" rendered="#{mAlias.formBusqueda.indicadorBasparampais eq 0}"/>  
	        </p:column>       	
	
		          
			</ssicc:dataTable>
			
			<br/>
			
			<script type="text/javascript" >
		        function ejecutarPopup(paginaPopup, nombrePagina,width,height,top,left) {
		        	var nombrePopup = nombrePagina.substring (0, nombrePagina.length - 3); 
		        	var win  = window.open(paginaPopup ,nombrePopup,
				        "dependent=yes,status=0,scrollbars=1,toolbar=0,menubar=0,location=0,directories=0,resizable=0,width="+width+" height="+height+",top="+top+",left="+left);
	            	return true;
				}
	
			</script>	
			
		</ui:define>		
		
	</ui:composition>
</body>
</html>