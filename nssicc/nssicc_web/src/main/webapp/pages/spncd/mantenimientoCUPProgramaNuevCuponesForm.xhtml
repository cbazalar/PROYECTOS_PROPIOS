<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ssicc="http://java.sun.com/jsf/composite/componentes/ssicc">

<body>
	<ui:composition template="/templates/templateMantenimientoForm.xhtml">
		<ui:param name="mAlias"
			value="#{mantenimientoCUPProgramaNuevCuponesSearchAction}" />

		<ui:define name="titulo_Pantalla">
			<h:outputText
				value="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.nuevo.title']}"
				styleClass="clsEncabezadoPantalla" />
		</ui:define>

		<ui:define name="body_criterio_mantenimiento">

			<h:panelGrid columns="8">
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoPais']}"
					required="true" />
				<ssicc:label
					value="#{mPantallaPrincipalBean.currentUser.pais.descripcion}"
					required="true" />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<!-- ######################## LISTA MARCA ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoMarca']}"
					required="true" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectMenu id="codigoMarca"
							value="#{mAlias.formMantenimiento.codigoMarca}" disabled="true">
							<f:selectItems value="#{mAlias.siccMarcaList}" var="lista"
								itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}" />
						</ssicc:selectMenu>
					</c:when>
					<c:otherwise>
						<ssicc:label value="${mAlias.formMantenimiento.codigoMarca}" />
					</c:otherwise>
				</c:choose>

				<!-- ######################## LISTA CANAL ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoCanal']}"
					required="true" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectMenu id="codigoCanal"
							value="#{mAlias.formMantenimiento.codigoCanal}" disabled="true">
							<f:selectItems value="#{mAlias.siccCanalList}" var="lista"
								itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}" />
						</ssicc:selectMenu>
					</c:when>
					<c:otherwise>
						<ssicc:label value="${mAlias.formMantenimiento.codigoCanal}" />
					</c:otherwise>
				</c:choose>
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<!-- ######################## PROGRAMA ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoPrograma']}" />
				<ssicc:label value="${mAlias.formMantenimiento.codigoPrograma}"
					required="true" />

				<!-- ######################## PREMIOS ELECTIVOS ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorPremioElectivo']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorPremioElectivo"
							value="#{mAlias.indicadorPremioElectivo}" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorPremioElectivo == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>


				<!-- ######################## REGALO PEDIDOS ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorRegaloPedido']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorRegaloPedido"
							value="#{mAlias.indicadorRegaloPedido}" process="@this"
							accionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.loadCampoRegaloPedidos}"
							update=":principalForm:labelmonto :principalForm:inputmonto
					:principalForm:labelindicadorpremio :principalForm:inputindicadorpremio" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorRegaloPedido == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>
				<ssicc:labelBlank />
				<ssicc:labelBlank />


				<!-- ######################## CONSTANCIA CUPON ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorConstanciaCupon']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorConstanciaCupon"
							value="#{mAlias.indicadorConstanciaCupon}" />
					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorConstanciaCupon == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>


				<!-- ######################## CONSTANCIA DESPACHO AUTOMATICO ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorConstanciaPremio']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorConstanciaPremio"
							value="#{mAlias.indicadorConstanciaPremio}" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorConstanciaPremio == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>

				<!-- ######################## CUPON REUTILIZABLE ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorCuponReutilizable']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorCuponReutilizable"
							value="#{mAlias.indicadorCuponReutilizable}" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorCuponReutilizable == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>

				<!-- ######################## MONTO MINIMO ######################### -->
				<h:panelGroup id="labelmonto">
					<ssicc:label
						key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.montoMinimo']}"
						required="true" />
				</h:panelGroup>
				<h:panelGroup id="inputmonto">
				   <c:choose>		
					   <c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
							<ssicc:inputText id="montoMinimo"
								value="#{mAlias.formMantenimiento.montoMinimo}" esNumerico="true"
								maxlength="10"
								size="10" />
						</c:when>
						<c:otherwise>
							<ssicc:label value="#{mAlias.formMantenimiento.montoMinimo}" />
						</c:otherwise>
					</c:choose>
					
				</h:panelGroup>


				<!-- ######################## Despacho Cupones desde 1er Pedido: ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorCupon']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorCupon"
							value="#{mAlias.indicadorCupon}" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorCupon == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>


				<!-- ######################## Constancia Premio Electivo:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorConstanciaPremioElectivo']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox
							id="indicadorConstanciaPremioElectivo"
							value="#{mAlias.indicadorConstanciaPremioElectivo}" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorConstanciaPremioElectivo == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>


				<!-- ########################  Indicador Premio Incentivos:  ######################### -->
				<h:panelGroup id="labelindicadorpremio">
					<ssicc:label
						key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorPremioIncentivo']}"
						rendered="#{mAlias.indicadorRegaloPedido}" />
				</h:panelGroup>
				<h:panelGroup id="inputindicadorpremio">
					<ssicc:selectBooleanCheckbox id="indicadorPremioIncentivo"
						value="#{mAlias.indicadorPremioIncentivo}"
						rendered="#{mAlias.indicadorRegaloPedido}" />
				</h:panelGroup>
				<ssicc:labelBlank />
				<ssicc:labelBlank />

				<!-- ########################  Programa Opcional:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorProgramaObligatorio']}" />


				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<h:panelGroup>
							<ssicc:selectOneRadio id="indicadorProgramaObligatorio"
								value="#{mAlias.formMantenimiento.indicadorProgramaObligatorio}">
								<f:selectItem
									itemLabel="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorProgramaObligatorio.Si']}"
									itemValue="1" />
								<f:selectItem
									itemLabel="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorProgramaObligatorio.No']}"
									itemValue="0" />
							</ssicc:selectOneRadio>
						</h:panelGroup>

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorProgramaObligatorio == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>


				<ssicc:labelBlank />
				<ssicc:labelBlank />

				<!-- ########################  Premio Web:   ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorPremioWeb']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:selectBooleanCheckbox id="indicadorPremioWeb"
							value="#{mAlias.indicadorPremioWeb}" process="@this"
							accionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.loadCampoPremioWeb}"
							update=":principalForm:labelnumeropedidos :principalForm:inputnumeropedidos :principalForm:inputnumeropedidos1
					:principalForm:labeltipopedido :principalForm:selecttipopedido  
					:principalForm:labelpedidomixto :principalForm:checkboxpedidomixto" />

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorPremioWeb == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>
				<ssicc:labelBlank />
				<ssicc:labelBlank />

				<!-- ########################  Generar Mensajes:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorGeneraMensaje']}" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<h:panelGroup>
							<ssicc:selectOneRadio id="indicadorGeneraMensaje"
								value="#{mAlias.formMantenimiento.indicadorGeneraMensaje}">
								<f:selectItem
									itemLabel="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorProgramaObligatorio.Si']}"
									itemValue="1" />
								<f:selectItem
									itemLabel="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorProgramaObligatorio.No']}"
									itemValue="0" />
							</ssicc:selectOneRadio>
						</h:panelGroup>

					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorGeneraMensaje == 0 ? 'NO' : 'SI'}" />
					</c:otherwise>
				</c:choose>

				<ssicc:labelBlank />
				<ssicc:labelBlank />

				<!-- ######################## Numero Pedidos:  ######################### -->
				<h:panelGroup id="labelnumeropedidos">
					<ssicc:label
						key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.numeroPedidos']}"
						rendered="#{mAlias.indicadorPremioWeb}" />
				</h:panelGroup>
				<h:panelGroup id="inputnumeropedidos" rendered="#{!mAlias.formMantenimiento.indicadorCampoEditable}">
					<ssicc:inputText id="numeroPedidos"
						value="#{mAlias.formMantenimiento.numeroPedidos}"
						esNumerico="true" rendered="#{mAlias.indicadorPremioWeb}"
						maxlength="2" size="2" />
				</h:panelGroup>
				<h:panelGroup id="inputnumeropedidos1" rendered="#{mAlias.formMantenimiento.indicadorCampoEditable}">
					<ssicc:label value="#{mAlias.formMantenimiento.numeroPedidos}"					  />
				</h:panelGroup>
				

				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<!-- ######################## Campaña Inicio:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.campanhaInicial']}"
					required="true" />

				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:campaignCalendarListener id="campanhaInicial"
							manage="#{mAlias}" required="true"
							value="#{mAlias.formMantenimiento.campanhaInicial}"
							actionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.loadRegionesByCampaniaInicial}"
							update=":principalForm:tabGeneral:regionList:selectMany :principalForm:tabGeneral:zonaList:selectMany :principalForm:tabGeneral:panel_region_zona_grilla" />

					</c:when>
					<c:otherwise>
						<ssicc:label value="${mAlias.formMantenimiento.campanhaInicial}" />
					</c:otherwise>
				</c:choose>



				<!-- ######################## Campaña Fin:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.campanhaFinal']}"
					required="true" />
					
				<c:if test= "#{mAlias.formMantenimiento.newRecord}">
					<ssicc:campaignCalendarListener id="campanhaFinal"
						manage="#{mAlias}"
						value="#{mAlias.formMantenimiento.campanhaFinal}" required="true"
						actionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.loadRegionesByCampaniaFin}"
						update=":principalForm:tabGeneral:regionList:selectMany :principalForm:tabGeneral:zonaList:selectMany :principalForm:tabGeneral:panel_region_zona_grilla" />
				</c:if>
				<c:if test= "#{not mAlias.formMantenimiento.newRecord}">
					<ssicc:campaignCalendar2 id="campanhaFinal"
						manage="#{mAlias}"
						value="#{mAlias.formMantenimiento.campanhaFinal}" required="true"
						 />
				</c:if>
				<!-- ######################## Tipo de Pedido: ######################### -->
				<h:panelGroup id="labeltipopedido">
					<ssicc:label
						key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.tipoPedido']}"
						rendered="#{mAlias.indicadorPremioWeb}" />
				</h:panelGroup>

				<h:panelGroup id="selecttipopedido">
					<c:choose>
						<c:when test="#{!mAlias.formMantenimiento.indicadorCampoEditable}">
							<ssicc:selectMenu id="tipoPedido" value="#{mAlias.formMantenimiento.tipoPedido}"
											rendered="#{mAlias.indicadorPremioWeb}" disabled="true">
								<f:selectItems value="#{mAlias.cupTipoPedidoList}" var="lista"
											itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}" />
							</ssicc:selectMenu>
						</c:when>
						<c:otherwise>
							<ssicc:label value="#{mAlias.formMantenimiento.tipoPedido}" />
						</c:otherwise>
					</c:choose>
				</h:panelGroup>

				<ssicc:labelBlank />
				<ssicc:labelBlank />
				<!-- ######################## Vigencia ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.numVigencia']}"
					required="true" />
					<h:panelGroup>
				<c:choose>				
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">						
					
						<p:outputPanel id="panelRadio">		
						<p:inputText id="numVigenciaTemporal" type="hidden" />	
        				<p:selectOneRadio id="indicadorVigencia" value="#{mAlias.formMantenimiento.indicadorVigencia}" layout="custom" 
        								process="@this" onchange="habilitarIndicadorVigencia(this.value, '1')" 								
        								 update=":principalForm:labelnumVigencia" >
            				<f:selectItem itemValue="#{mAlias.CUP_PROGRAMA_NUEVAS_VIGENCIA_POR_PROGRAMA}" />
            				<f:selectItem itemValue="#{mAlias.CUP_PROGRAMA_NUEVAS_VIGENCIA_POR_NIVELES}"/>
        				</p:selectOneRadio>
 
		        		<h:panelGrid columns="5" cellpadding="5">			        		
			            	<p:radioButton id="opt1" for="indicadorVigencia" itemIndex="0" />
			            	<h:outputLabel for="opt1" value="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorVigencia.porPrograma']}"/>
			            	<h:panelGroup id="labelnumVigencia">          	     			
				       		<h:inputText id="numVigencia" value="#{mAlias.formMantenimiento.numVigencia}" disabled="#{mAlias.formMantenimiento.indicadorVigencia=='N'}"
										 size="2"	maxlength="2" onkeypress="return jsEsNumero(event);"/> 
							</h:panelGroup>   
			 			   	<p:radioButton id="opt2" for="indicadorVigencia" itemIndex="1" />  
			 			    <h:outputLabel for="opt2" value="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorVigencia.porNiveles']}"/>         		
		        		</h:panelGrid>    	
    				</p:outputPanel> 
    				
					</c:when>
					<c:otherwise>
						<ssicc:label
							value="${mAlias.formMantenimiento.indicadorVigencia == mAlias.CUP_PROGRAMA_NUEVAS_VIGENCIA_POR_PROGRAMA ? 'Por Programa':'Por Niveles'}" />
					</c:otherwise>
				</c:choose>

				<c:choose>
					<c:when test="${mAlias.formMantenimiento.indicadorCampoEditable}">
						&nbsp;<ssicc:label value="${mAlias.formMantenimiento.numVigencia}" />
					</c:when>					
				</c:choose>
				</h:panelGroup>
				
				<h:panelGroup id="labelpedidomixto">
					<ssicc:label
						key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorPedidoMixto']}"
						rendered="#{mAlias.indicadorPremioWeb}" />
				</h:panelGroup>


				<h:panelGroup id="checkboxpedidomixto">
					<ssicc:selectBooleanCheckbox id="indicadorPedidoMixto"
						value="#{mAlias.indicadorPedidoMixto}" disabled="true"
						rendered="#{mAlias.indicadorPremioWeb and !mAlias.formMantenimiento.indicadorCampoEditable}" />
					<ssicc:label value="Si" 
					rendered="#{mAlias.formMantenimiento.indicadorPedidoMixto=='1' and mAlias.indicadorPremioWeb and mAlias.formMantenimiento.indicadorCampoEditable}" />
					<ssicc:label value="No" 
					rendered="#{mAlias.formMantenimiento.indicadorPedidoMixto!='1' and mAlias.indicadorPremioWeb and mAlias.formMantenimiento.indicadorCampoEditable}" />
				</h:panelGroup>

				<ssicc:labelBlank /><ssicc:labelBlank />
				<ssicc:labelBlank /><ssicc:labelBlank />
				
				<!-- ########################  Codigo Cupon Inicio:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoVentCupIni']}"
					required="true" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:inputText id="codigoVentCupIni"
							value="#{mAlias.formMantenimiento.codigoVentCupIni}"
							esNumerico="true" size="10" maxlength="6" required="true"/>

					</c:when>
					<c:otherwise>
						<ssicc:label value="${mAlias.formMantenimiento.codigoVentCupIni}" />
					</c:otherwise>
				</c:choose>



				<!-- ######################## Codigo Cupon Fin:  ######################### -->
				<ssicc:label
					key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoVentCupFin']}"
					required="true" />
				<c:choose>
					<c:when test="${!mAlias.formMantenimiento.indicadorCampoEditable}">
						<ssicc:inputText id="codigoVentCupFin"
							value="#{mAlias.formMantenimiento.codigoVentCupFin}"
							esNumerico="true" size="10" maxlength="6" required="true" />


					</c:when>
					<c:otherwise>
						<ssicc:label value="${mAlias.formMantenimiento.codigoVentCupFin}" />
					</c:otherwise>
				</c:choose>


			</h:panelGrid>
		</ui:define>


		<ui:define name="body_adicional_mantenimiento">
			<p:tabView id="tabGeneral">

				<p:tab id="tabUnidadesAdministrativas"
					title="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.leyendaUnidadesAdministrativas']}">

					<h:panelGrid id="panelUnidadesAdm" columns="4">
						<!-- ################# Opcion de todas las unidades ################# -->
						<ssicc:label key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.indicadorTodasUA']}" />
						<ssicc:selectBooleanCheckbox id="indicadorTodasUA" value="#{mAlias.indicadorTodasUA}" process="@this"
							disabled = "#{mAlias.formMantenimiento.indicadorCampoEditable}"						
							accionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.mostrarRegiones}"
							update=":principalForm:messagesPrincipalForm :principalForm:mensajesGrowl 
							:principalForm:tabGeneral:regionList:selectMany 
							:principalForm:tabGeneral:zonaList:selectMany 
							:principalForm:tabGeneral:panel_region_zona_grilla
							:principalForm:tabGeneral:botonesAdici" />
						<ssicc:labelBlank />
						<ssicc:labelBlank />

						<!-- ################# Lista Regiones ################# -->
						<ssicc:label
							key="#{i18n['mantenimientoFACCierreFacturacionForm.regions']}" />
						<ssicc:selectManyMenu id="regionList"
							value="#{mAlias.formMantenimiento.regionList}" process="@this"
							accionListener="#{mantenimientoCUPProgramaNuevCuponesSearchAction.loadZonasDisponibles}"
							update=":principalForm:tabGeneral:zonaList:selectMany">
							<f:selectItems value="#{mAlias.siccRegionList}" var="lista"
								itemLabel="#{lista.label}" itemValue="#{lista.value}" />
						</ssicc:selectManyMenu>

						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.zonasDisponibles']}" />
						<ssicc:selectManyMenu id="zonaList"
							value="#{mAlias.formMantenimiento.zonaList}">
							<f:selectItems value="#{mAlias.siccZonaList}" var="lista"
								itemLabel="#{lista.label}" itemValue="#{lista.value}" />
						</ssicc:selectManyMenu>

					</h:panelGrid>

					<h:panelGrid id="botonesAdici" 
					rendered="#{mAlias.ocultarInsertarRegion or mAlias.ocultarInsertarZona or not mAlias.formMantenimiento.indicadorCampoEditable}">
						<p:toolbar>
							<f:facet name="left" > 
								<ssicc:linkAjax value="#{i18n['button.carga.region']}" 
									title="#{i18n['button.carga.region']}"
									icon="#{resource['images:nuevoForm2.png']}"
									width="30"
									height="30"
									accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.confirmar}"
									process="@this :principalForm:tabGeneral:panelUnidadesAdm" 
									parametroAccion="INSERTAR_REGION"
									parametroVentana="confirmDialogInsertarRegion"
									update=":principalForm:messagesPrincipalForm"
									rendered="#{mAlias.ocultarInsertarRegion}" />
									
								<ssicc:linkAjax value="#{i18n['button.carga.zona']}" 
									title="#{i18n['button.carga.zona']}"
									icon="#{resource['images:nuevoForm2.png']}"
									width="30"
									height="30"
									accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.confirmar}"
									process="@this :principalForm:tabGeneral:panelUnidadesAdm" parametroAccion="INSERTAR_ZONA"
									parametroVentana="confirmDialogInsertarZona"
									update=":principalForm:messagesPrincipalForm" 
									rendered="#{mAlias.ocultarInsertarZona}"/>
								<ssicc:linkAjax value="Eliminar" title=""
									icon="#{resource['images:eliminarForm3.png']}"
									width="30"
									height="30"
									rendered = "#{not mAlias.formMantenimiento.indicadorCampoEditable}"
									accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.confirmar}"
									process=":principalForm:tabGeneral:panel_region_zona_grilla  @this"
									parametroAccion="ELIMINAR_REGION"
									parametroVentana="confirmDialogEliminarRegion" />
							</f:facet>
						</p:toolbar>
					</h:panelGrid>

					<h:panelGrid id="panel_region_zona_grilla">

						<p:dataTable titulo="#{msg['dataTable.resultadoBusqueda']}"
							value="#{mAlias.comDetalleTableModelRegion}" manage="#{mAlias}"
							seleccionable="true"
							emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}"
							selection="#{mAlias.beanRegistroDetalleRegion}" var="lista"
							selectionMode="single" rowKey="#{lista.descripcionRegion}">

							<p:column width="140">
								<f:facet name="header">
									<h:outputText
										value="#{i18n['incAmbitoList.descripcionRegion']}" />
								</f:facet>
								<h:outputText value="#{lista.descripcionRegion}" />
								<h:inputHidden value="#{lista.oidRegion}" />
							</p:column>
							<p:column width="140">
								<f:facet name="header">
									<h:outputText
										value="#{i18n['nvsUnidadAdministrativasList.descripcionZona']}" />
								</f:facet>
								<h:outputText value="#{lista.descripcionZona}" />
								<h:inputHidden value="#{lista.oidZona}" />
							</p:column>

						</p:dataTable>


					</h:panelGrid>

				</p:tab>


				<!-- TAB DESCUENTOS -->
				<p:tab
					title="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.leyendaDescuentos']}">

					<h:panelGrid id="panelDescuentos" columns="12">
						<!-- ####################  Lista Nivel Descuentos #################### -->
						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.nivelDescuentos']}"
							required="true" />
						<ssicc:selectMenu id="nivelDescuentos"
							value="#{mAlias.formMantenimiento.nivelDescuentos}">
							<f:selectItems value="#{mAlias.cupNivelList}" var="lista"
								itemLabel="#{lista.descripcion}" itemValue="#{lista.codigo}" />
						</ssicc:selectMenu>

						<!-- #################### Campaña Inicio - Fin ##################### -->
						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.campanhaInicioDescuentos']}"
							required="true" />
						<ssicc:campaignCalendar2 id="campanhaInicioDescuentos"
							manage="#{mAlias}"
							value="#{mAlias.formMantenimiento.campanhaInicioDescuentos}" />

						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.campanhaFinDescuentos']}" />
						<ssicc:campaignCalendar2 id="campanhaFinDescuentos"
							manage="#{mAlias}"
							value="#{mAlias.formMantenimiento.campanhaFinDescuentos}" />

						<!-- ################## Monto Venta Exigido ################## -->
						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.montoVentaExigidoDescuentos']}"
							required="true" />
						<ssicc:inputText
							value="#{mAlias.formMantenimiento.montoVentaExigidoDescuentos}"
							onkeypress="return jsEsNumeroDecimal(event);"
							onchange="formatearNumeroWithTope(this,2,10000);" />

						<!-- ################## Monto Descuento ################## -->
						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.montoDescuentos']}"
							required="true" />
						<ssicc:inputText
							value="#{mAlias.formMantenimiento.montoDescuentos}"
							onkeypress="return jsEsNumeroDecimal(event);"
							onchange="formatearNumeroWithTope(this,2,10000);" />

						<!-- ################## Codigo Venta ################## -->
						<ssicc:label
							key="#{i18n['mantenimientoCUPProgramaNuevCuponesForm.codigoVentaDescuentos']}" />
						<ssicc:inputText
							value="#{mAlias.formMantenimiento.codigoVentaDescuentos}"
							esNumerico="true" />
					</h:panelGrid>

					<h:panelGrid>
						<p:toolbar>
							<f:facet name="left">
								<ssicc:linkAjax value="Insertar"
									title="#{i18n['button.carga.descuento']}"
									icon="#{resource['images:nuevoForm2.png']}"
									width="30"
									height="30"
									accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.confirmar}"
									process=":principalForm:tabGeneral:panelDescuentos 
									         @this"
									parametroAccion="INSERTAR_DESCUENTO"
									parametroVentana="confirmDialogInsertarDescuento"
									update=":principalForm:messagesPrincipalForm" />

								<ssicc:linkAjax value="Eliminar"
									title="#{i18n['button.delete.descuento']}"
									icon="#{resource['images:eliminarForm3.png']}"
									width="30"
									height="30"
									accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.confirmar}"
									process=":principalForm:tabGeneral:panel_descuento_grilla  @this"
									parametroAccion="ELIMINAR_DESCUENTO"
									parametroVentana="confirmDialogEliminarDescuento"
									update=":principalForm:messagesPrincipalForm" />


							</f:facet>
						</p:toolbar>
					</h:panelGrid>

					<h:panelGrid id="panel_descuento_grilla">

						<p:dataTable value="#{mAlias.comDetalleTableModelDescuento}"
							manage="#{mAlias}" seleccionable="true"
							emptyMessage="#{msg['dataTable.noExistenRegistrosFiltro']}"
							selection="#{mAlias.beanRegistroDetalleDescuento}" var="lista"
							selectionMode="multiple" rowKey="#{lista.nivel}">
							<p:column width="100">
								<f:facet name="header">
									<h:outputText value="#{i18n['nvsDescuentosList.nivel']}" />
								</f:facet>
								<h:outputText value="#{lista.nivel}" />
							</p:column>
							<p:column width="100">
								<f:facet name="header">
									<h:outputText
										value="#{i18n['nvsDescuentosList.campanhaInicio']}" />
								</f:facet>
								<h:inputText value="#{lista.campanhaInicio}" />
							</p:column>
							<p:column width="100">
								<f:facet name="header">
									<h:outputText value="#{i18n['nvsDescuentosList.campanhaFin']}" />
								</f:facet>
								<h:inputText value="#{lista.campanhaFin}" />
							</p:column>
							<p:column width="100">
								<f:facet name="header">
									<h:outputText
										value="#{i18n['nvsDescuentosList.montoVentaExigencia']}" />
								</f:facet>
								<h:inputText value="#{lista.montoVentaExigencia}" />
							</p:column>
							<p:column width="100">
								<f:facet name="header">
									<h:outputText
										value="#{i18n['nvsDescuentosList.montoDescuento']}" />
								</f:facet>
								<h:inputText value="#{lista.montoDescuento}" />
							</p:column>
							<p:column width="100">
								<f:facet name="header">
									<h:outputText value="#{i18n['nvsDescuentosList.codigoVenta']}" />
								</f:facet>
								<h:inputText value="#{lista.codigoVenta}" />
							</p:column>
						</p:dataTable>

					</h:panelGrid>

				</p:tab>

			</p:tabView>

			<!--###########  CONFIRMAR REGIONES Y ZONAS   #############-->
			<ssicc:confirmDialogConfirmar id="confirmDialogInsertarRegion"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.insertaRegion}"
				update=":principalForm:messagesPrincipalForm :principalForm:tabGeneral:panel_region_zona_grilla :principalForm:tabGeneral:regionList:selectMany :principalForm:tabGeneral:zonaList:selectMany" />

			<ssicc:confirmDialogConfirmar id="confirmDialogInsertarZona"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.insertaZona}"
				update=":principalForm:messagesPrincipalForm :principalForm:tabGeneral:panel_region_zona_grilla :principalForm:tabGeneral:regionList:selectMany :principalForm:tabGeneral:zonaList:selectMany" />

			<ssicc:confirmDialogConfirmar id="confirmDialogEliminarRegion"
				manage="#{mAlias}" mensaje="#{i18n['confirm.delete.message']}"
				accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.borraUas}"
				update=":principalForm:messagesPrincipalForm :principalForm:tabGeneral:panel_region_zona_grilla :principalForm:tabGeneral:regionList:selectMany :principalForm:tabGeneral:zonaList:selectMany" />


			<!--###########  CONFIRMAR DESCUENTOS   #############-->
			<ssicc:confirmDialogConfirmar id="confirmDialogInsertarDescuento"
				manage="#{mAlias}" mensaje="#{i18n['confirm.save.information']}"
				accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.insertaDescuento}"
				update=":principalForm:messagesPrincipalForm :principalForm:mensajesGrowl :principalForm:tabGeneral:panel_descuento_grilla" />
			<ssicc:confirmDialogConfirmar id="confirmDialogEliminarDescuento"
				manage="#{mAlias}" mensaje="#{i18n['confirm.delete.message']}"
				accion="#{mantenimientoCUPProgramaNuevCuponesSearchAction.borraDes}"
				update=":principalForm:messagesPrincipalForm :principalForm:tabGeneral:panel_descuento_grilla" />
		
		
		<h:outputScript>
			function habilitarIndicadorVigencia(valor, focus){	
			var porPrograma = '<h:outputText value="#{mAlias.CUP_PROGRAMA_NUEVAS_VIGENCIA_POR_PROGRAMA}"/>';
			var porNiveles = '<h:outputText value="#{mAlias.CUP_PROGRAMA_NUEVAS_VIGENCIA_POR_NIVELES}"/>';	
			if(valor == porPrograma){			
			document.getElementById("numVigencia").disabled = false;			
			if(focus == '1'){				
				document.getElementById("numVigencia").value = document.getElementById("numVigenciaTemporal").value;
				document.getElementById("numVigencia").focus();
			}
			
			}else if(valor == porNiveles){
			document.getElementById("numVigenciaTemporal").value = document.getElementById("numVigencia").value;	
			document.getElementById("numVigencia").value = '';
			document.getElementById("numVigencia").disabled = true;
			}		
		}
		
		</h:outputScript>
		</ui:define>

	</ui:composition>
</body>
</html>