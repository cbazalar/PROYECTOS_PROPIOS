<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="RECReclamosMotDevoXLS"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="782"
		 pageHeight="595"
		 columnWidth="782"
		 columnSpacing="0"
		 leftMargin="0"
		 rightMargin="0"
		 topMargin="0"
		 bottomMargin="0"
		 whenNoDataType="AllSectionsNoDetail"
		 isTitleNewPage="false"
		 isSummaryNewPage="false"
		 resourceBundle="ReportResources"
		 whenResourceMissingType="Empty"
		 isIgnorePagination="true">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<queryString><![CDATA[SELECT REC_MOTIV_DEVOL.COD_MOTI_DEVO,
       DES_MOTV_DEVO AS DES_MOTI_DEVO,      
       SUM(NUM_GUIA) AS ATEN_RECL,
       SUM(NUM_UNID_RECL) AS CANT_DEVU,
       SUM(IMP_ABON) AS MONT_DEVU,
       temporal.UNID_FACT AS UNID_FACT ,
       temporal.MONT_FACT AS MONT_FACT,
       SUM(distinct NUM_PEDI)AS NUM_PEDI
FROM   REC_REPOR_OPERA_UNIDA_ADMIN,
       REC_MOTIV_DEVOL,
        (SELECT temp.mot_devo,
             SUM(distinct temp.VAL_PREC_FACT_TOTA_LOCA)  AS MONT_FACT ,   
             SUM(distinct temp.NUM_UNID_DEMA) AS UNID_FACT
       FROM  ( SELECT perd_oid_peri, 
                      prod_oid_prod,
                      NUM_UNID_DEMA,
                      VAL_PREC_FACT_TOTA_LOCA ,
                      MODV_OID_MOTI_DEVO AS mot_devo
                 FROM REC_REPOR_OPERA_UNIDA_ADMIN
              GROUP BY perd_oid_peri, 
                       prod_oid_prod,
                       NUM_UNID_DEMA,
                       VAL_PREC_FACT_TOTA_LOCA,
                       MODV_OID_MOTI_DEVO ) temp
              GROUP BY mot_devo) 
              temporal
WHERE  REC_MOTIV_DEVOL.OID_MOTI_DEVO = REC_REPOR_OPERA_UNIDA_ADMIN.MODV_OID_MOTI_DEVO
AND temporal.mot_devo =REC_REPOR_OPERA_UNIDA_ADMIN.MODV_OID_MOTI_DEVO
GROUP BY COD_MOTI_DEVO,DES_MOTV_DEVO, temporal.UNID_FACT , temporal.MONT_FACT
ORDER BY  MONT_DEVU DESC]]></queryString>

	<field name="COD_MOTI_DEVO" class="java.lang.String"/>
	<field name="DES_MOTI_DEVO" class="java.lang.String"/>
	<field name="ATEN_RECL" class="java.math.BigDecimal"/>
	<field name="CANT_DEVU" class="java.math.BigDecimal"/>
	<field name="MONT_DEVU" class="java.math.BigDecimal"/>
	<field name="UNID_FACT" class="java.math.BigDecimal"/>
	<field name="MONT_FACT" class="java.math.BigDecimal"/>
	<field name="NUM_PEDI" class="java.math.BigDecimal"/>

	<variable name="POR_UNIDADES" class="java.math.BigDecimal" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{UNID_FACT}.doubleValue() > 0
?
new BigDecimal(($F{CANT_DEVU}.doubleValue() /$F{UNID_FACT}.doubleValue())) 
: 
new BigDecimal(0.0)
]]></variableExpression>
	</variable>
	<variable name="POR_MONTO" class="java.math.BigDecimal" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{MONT_FACT}.doubleValue() > 0
?
new BigDecimal(($F{MONT_DEVU}.doubleValue() /$F{MONT_FACT}.doubleValue())) 
: 
new BigDecimal(0.0)
]]></variableExpression>
	</variable>
		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="24"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						mode="Opaque"
						x="0"
						y="0"
						width="83"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Motivo de 
Devolución]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="83"
						y="0"
						width="274"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Descripción del motivo]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="714"
						y="0"
						width="68"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Nro Guias]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="580"
						y="0"
						width="67"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Unidades Reclamadas]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="647"
						y="0"
						width="67"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Monto  Reclamado]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="357"
						y="0"
						width="81"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Unidades 
Facturadas]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="438"
						y="0"
						width="71"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Monto 
Facturado]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="509"
						y="0"
						width="71"
						height="24"
						forecolor="#000000"
						backcolor="#CCCCCC"
						key="staticText"/>
					<box>					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[N° Pedidos]]></text>
				</staticText>
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="12"  isSplitAllowed="false" >
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="83"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Center">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{COD_MOTI_DEVO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="83"
						y="0"
						width="274"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement>
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{DES_MOTI_DEVO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="714"
						y="0"
						width="68"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{ATEN_RECL}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="580"
						y="0"
						width="67"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{CANT_DEVU}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="647"
						y="0"
						width="67"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{MONT_DEVU}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="357"
						y="0"
						width="81"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{UNID_FACT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="438"
						y="0"
						width="71"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{MONT_FACT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="509"
						y="0"
						width="71"
						height="12"
						forecolor="#000000"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					<bottomPen lineWidth="1.0" lineColor="#999999"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
</box>
					<textElement textAlignment="Right">
						<font size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{NUM_PEDI}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
