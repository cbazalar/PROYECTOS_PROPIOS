<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
    PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="spusicc.cobranzas.mantenimientoCOBSQL">

    <typeAlias alias="baseGenericoCob"                         	      type="biz.belcorp.ssicc.dao.sisicc.model.Base"/>
	<typeAlias alias="etapaDeuda"                              		  type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.EtapaDeuda"/>
	<typeAlias alias="cobradorPais"                                   type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.CobradorPais"/>	
	<typeAlias alias="cobradorUnidadAdministrativa"                   type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.CobradorUnidadAdministrativa"/>
	<typeAlias alias="zonaNoCritica"            			          type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.ZonaNoCritica"/>
	<typeAlias alias="asignacionCarteraCobrador"                      type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.AsignacionCarteraCobrador"/>
	<typeAlias alias="asignacionCarteraSupervisor"                    type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.AsignacionCarteraSupervisor"/>
	<typeAlias alias="validacionAsignacionCartera"                    type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.ValidacionAsignacionCartera"/>
	<typeAlias alias="excepcionAsignacionCartera"                     type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.ExcepcionAsignacionCartera"/>
	<typeAlias alias="excepcionClasificacionCliente"           		  type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.ExcepcionClasificacionCliente"/>
	<typeAlias alias="unidadAdministrativaCronogramaCartera"          type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.UnidadAdministrativaCronogramaCartera"/>
	<typeAlias alias="parametrosGeneralesCob"          				  type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.ParametrosGeneralesCOB"/>
	<typeAlias alias="seccionNoCritica"          				      type="biz.belcorp.ssicc.dao.spusicc.cobranzas.model.SeccionNoCritica"/>	

	<resultMap id="baseResultCob"          class="baseGenericoCob">
    	<result property="codigo" 		   column="CODIGO" 	/>
    	<result property="descripcion" 	   column="DESCRIPCION"/>
    </resultMap>    
    
    <resultMap id="etapaDeudaResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"          			   column="VAL_DESC"/>		
		<result property="valorEdadInicial"      				       column="VAL_EDAD_INIC"/>
		<result property="valorEdadFinal"     				           column="VAL_EDAD_FINA"/>
		<result property="numeroDiasGestion"     	   				   column="NUM_DIAS_GEST"/>	
		<result property="numeroDiasVencimiento"     	   			   column="NUM_DIAS_VENC"/>
		<result property="numeroDiasEspera"     	   				   column="NUM_DIAS_ESPE"/>
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>		
    </resultMap>
    
    <resultMap id="etapaDeudaMantenimientoResult"      class="etapaDeuda">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"          			   column="VAL_DESC"/>		
		<result property="valorEdadInicial"      				       column="VAL_EDAD_INIC"/>
		<result property="valorEdadFinal"     				           column="VAL_EDAD_FINA"/>
		<result property="importeDesde"      				           column="IMP_DESD"/>
		<result property="importeHasta"     				           column="IMP_HAST"/>
		<result property="numeroSecuenciaEtapa"     				   column="NUM_SECU_ETAP"/>		
		<result property="numeroDiasGestion"     	   				   column="NUM_DIAS_GEST"/>	
		<result property="numeroDiasVencimiento"     	   			   column="NUM_DIAS_VENC"/>
		<result property="numeroDiasEspera"     	   				   column="NUM_DIAS_ESPE"/>
		<result property="codigoUsuarioSupervisor"     	   			   column="COD_USUA_SUPE"/>
		<result property="importeMinimoVisualizacion"     	   		   column="VAL_IMPO_MINI_VISU"/>
		<result property="indicadorTipoBalanceo"     	   			   column="IND_TIPO_BALA"/>
		<result property="indicadorEtapaFinal"     	   			       column="IND_ETAP_FINA"/>
		<result property="indicadorAsignacionEtapaAnterior"     	   column="IND_ASIG_MOVI_ETAP_ANTE"/>
		<result property="indicadorAsignacionEtapaPosterior"     	   column="IND_ASIG_MOVI_ETAP_POST"/>
		<result property="indicadorTelefono"     	   			       column="IND_TELF"/>				
		<result property="indicadorGeneracionLunes"     	   		   column="IND_GENE_LUNE"/>
		<result property="indicadorCierreQuincena"     	   			   column="NUM_DIAS_AJUS_CIER_15"/>
		<result property="indicadorCierreFinMes"     	   			   column="NUM_DIAS_AJUS_CIER_30"/>		
		<result property="indicadorGeneracionArchivo"     	   		   column="IND_GENE_ARCH"/>
		<result property="indicadorActivo"  						   column="IND_ACTI"/>						   				       
    </resultMap>
    	    	         
    <resultMap id="cobradorPaisMantenimientoResult"      class="cobradorPais">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>
		<result property="nombreCobrador"          				       column="VAL_NOMB_USUA_COBR"/>
		<result property="telefono"		          				       column="Val_num_tele"/>
		<result property="direccion"	          				       column="Val_dire"/>
		<result property="email"          	       					   column="VAL_MAIL"/>
		<result property="indicadorActividad"      				       column="IND_ACTI"/>
		<result property="indicadorSupervisor"     				       column="IND_SUPE"/>
		<result property="indicadorJefe"     	   				       column="IND_JEFE"/>
		<result property="direFTP"      				       		   column="VAL_DIRE_FTP"/>
		<result property="direReceFTP"      				       column="VAL_DIRE_RECE_FTP"/>
		<result property="servFTP"      				       		   column="VAL_SERV_FTP"/>
		<result property="puerFTP"      				       		   column="VAL_PUER_FTP"/>		
		<result property="usuarioFTP"     				       	       column="VAL_USUA_FTP"/>
		<result property="claveFTP"     	   				           column="VAL_CLAV_FTP"/>		 
		<result property="indicadorEmailProcesoAsignacion"     		   column="IND_MAIL_PROC_ASIG"/>
		<result property="indicadorEmailProcesoActualizacion"     	   column="IND_MAIL_PROC_ACTU"/>
    </resultMap>
	
	<resultMap id="cobradorPaisResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>
		<result property="nombreCobrador"          				       column="VAL_NOMB_USUA_COBR"/>		
		<result property="indicadorActividad"      				       column="IND_ACTI"/>
		<result property="indicadorSupervisor"     				       column="IND_SUPE"/>
		<result property="indicadorJefe"     	   				       column="IND_JEFE"/>		
    </resultMap>
    
    <resultMap id="cobradorUnidadAdministrativaMantenimientoResult"      class="cobradorUnidadAdministrativa">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>		
		<result property="codigoRegion"  		   					   column="COD_REGI"/>
		<result property="codigoZona"  		   					       column="COD_ZONA"/>
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>
		<result property="importePorcentajeAsignacion"  		   	   column="IMP_PORC_ASIG"/>
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>						
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="cobradorUnidadAdministrativaResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"              	       column="DES_ETAP_DEUD"/>		
		<result property="codigoRegion"  		   					   column="COD_REGI"/>
		<result property="codigoZona"  		   					       column="COD_ZONA"/>
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>
		<result property="nombreCobrador"  		   					   column="VAL_NOMB_USUA_COBR"/>
		<result property="importePorcentajeAsignacion"  		   	   column="IMP_PORC_ASIG"/>
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>								
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="zonaNoCriticaMantenimientoResult"      class="zonaNoCritica">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>		
		<result property="codigoRegion"  		   					   column="COD_REGI"/>
		<result property="codigoZona"  		   					       column="COD_ZONA"/>
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>							
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="zonaNoCriticaResult"      				class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"              	       column="DES_ETAP_DEUD"/>
		<result property="codigoRegion"  		   					   column="COD_REGI"/>
		<result property="codigoZona"  		   					       column="COD_ZONA"/>
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>									
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="asignacionCarteraCobradorMantenimientoResult"      class="asignacionCarteraCobrador">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>				
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>						
		<result property="importePorcentajeAsignacion"  		   	   column="IMP_PORC_ASIG"/>		
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="asignacionCarteraCobradorResult"      		class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>
		<result property="codigoEtapaDeuda"              	           column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"              	       column="DES_ETAP_DEUD"/>				
		<result property="codigoCobrador"  		   					   column="COD_USUA_COBR"/>
		<result property="nombreCobrador"  		   					   column="VAL_NOMB_USUA_COBR"/>
		<result property="importePorcentajeAsignacion"  		   	   column="IMP_PORC_ASIG"/>		
		<result property="indicadorActivo"  		   				   column="IND_ACTI"/>								
		<result property="observaciones"  		   					   column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="validacionAsignacionCarteraResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoTipoValidacion"          			   column="COD_TIPO_VALI"/>		
		<result property="numeroOrdenValidacion"      				   column="NUM_ORDE_VALI"/>
		<result property="valorNombrePrograma"     				       column="VAL_NOMB_PROG"/>
		<result property="valorMensajeValidacion"     	   			   column="VAL_MENS_VALI"/>			
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
    </resultMap>
    
    <resultMap id="validacionAsignacionCarteraMantenimientoResult"      class="validacionAsignacionCartera">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoTipoValidacion"          			   column="COD_TIPO_VALI"/>		
		<result property="numeroOrdenValidacion"      				   column="NUM_ORDE_VALI"/>
		<result property="valorNombrePrograma"     				       column="VAL_NOMB_PROG"/>
		<result property="valorMensajeValidacion"     	   			   column="VAL_MENS_VALI"/>			
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
    </resultMap>
    
    <resultMap id="excepcionAsignacionCarteraResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoTipoExcepcion"          			   column="COD_TIPO_EXCE"/>		
		<result property="numeroOrdenExcepcion"      				   column="NUM_ORDE_EXCE"/>
		<result property="valorNombrePrograma"     				       column="VAL_NOMB_PROG"/>
		<result property="valorMensajeExcepcion"     	   			   column="VAL_MENS_EXCE"/>			
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
    </resultMap>
    
    <resultMap id="excepcionAsignacionCarteraMantenimientoResult"      class="excepcionAsignacionCartera">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoTipoExcepcion"          			   column="COD_TIPO_EXCE"/>		
		<result property="numeroOrdenExcepcion"      				   column="NUM_ORDE_EXCE"/>
		<result property="valorNombrePrograma"     				       column="VAL_NOMB_PROG"/>
		<result property="valorMensajeExcepcion"     	   			   column="VAL_MENS_EXCE"/>			
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
    </resultMap>
    
        <resultMap id="excepcionClasificacionClienteResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"  		   			   column="DES_ETAP_DEUD"/>
		<result property="oidTipoCliente"          		   	           column="OID_TIPO_CLIE"/>
		<result property="descripcionTipoCliente"          		   	   column="DES_TIPO_CLIE"/>
		<result property="oidSubtipoCliente"          		   	       column="OID_SUBT_CLIE"/>
		<result property="descripcionSubtipoCliente"          		   column="DES_SUBT_CLIE"/>
		<result property="oidTipoClasificacionCliente"          	   column="OID_TIPO_CLAS_CLIE"/>		
		<result property="descripcionTipoClasificacionCliente"         column="DES_TIPO_CLAS_CLIE"/>
		<result property="oidClasificacionCliente" 					   column="OID_CLAS_CLIE"/>							
	    <result property="descripcionClasificacionCliente"             column="DES_CLAS_CLIE"/>
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>
    </resultMap>

    <resultMap id="excepcionClasificacionClienteMantenimientoResult"      class="excepcionClasificacionCliente">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="oidTipoCliente"          		               column="OID_TIPO_CLIE"/>
		<result property="oidSubtipoCliente"          		           column="OID_SUBT_CLIE"/>
		<result property="oidTipoClasificacionCliente"          	   column="OID_TIPO_CLAS_CLIE"/>							
		<result property="oidClasificacionCliente"          		   column="OID_CLAS_CLIE"/>
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>					
    </resultMap>
    
    <resultMap id="unidadAdministrativaCronogramaCarteraMantenimientoResult"      class="unidadAdministrativaCronogramaCartera">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoRegion"          		   			   column="COD_REGI"/>							
		<result property="codigoZona"          		   				   column="COD_ZONA"/>
		<result property="codigoPeriodoInicial"          		   	   column="COD_PERI_INIC"/>
		<result property="codigoPeriodoFinal"          		   	   	   column="COD_PERI_FINA"/>		
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>					
    </resultMap>
    
    <resultMap id="unidadAdministrativaCronogramaCarteraResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"  		   			   column="DES_ETAP_DEUD"/>
		<result property="codigoRegion"          		   	       	   column="COD_REGI"/>
		<result property="codigoZona"          		   	   			   column="COD_ZONA"/>		
		<result property="codigoPeriodoInicial"          		   	   column="COD_PERI_INIC"/>
		<result property="codigoPeriodoFinal"          		   	       column="COD_PERI_FINA"/>
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="asignacionCarteraSupervisorResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="descripcionEtapaDeuda"  		   			   column="DES_ETAP_DEUD"/>
		<result property="codigoRegion"          		   	       	   column="COD_REGI"/>
		<result property="codigoZona"          		   	   			   column="COD_ZONA"/>		
		<result property="codigoCobrador"          		   	   		   column="COD_USUA_COBR"/>
		<result property="nombreCobrador"          		   	           column="DES_USUA_COBR"/>
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>
    </resultMap>
    
    <resultMap id="asignacionCarteraSupervisorMantenimientoResult"      class="asignacionCarteraSupervisor">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoRegion"          		   			   column="COD_REGI"/>							
		<result property="codigoZona"          		   				   column="COD_ZONA"/>
		<result property="codigoCobrador"          		   	           column="COD_USUA_COBR"/>
		<result property="cantidadDeudoras"          		   	   	   column="VAL_CANT_DEUD"/>		
		<result property="indicadorActivo"     	   				       column="IND_ACTI"/>					
		<result property="observaciones"     	   				       column="VAL_OBSE"/>					
    </resultMap>
        
    <resultMap id="carteraAsignadaResult"      class="java.util.HashMap">
		<result property="codigoPais"              					   column="COD_PAIS"/>		
		<result property="codigoEtapaDeuda"  		   				   column="COD_ETAP_DEUD"/>
		<result property="codigoPeriodo"          			   		   column="COD_PERI"/>		
		<result property="codigoRegion"      				   		   column="COD_REGI"/>
		<result property="codigoZona"     				       		   column="COD_ZONA"/>
		<result property="codigoCartera"     	   			   		   column="COD_CART"/>									
		<result property="fechaAsignacion"     	   			   		   column="FEC_ASIG"/>
		<result property="fechaCierre"     	   			   		   	   column="FEC_CIER"/>
    </resultMap>
    
     <resultMap id="parametrosGeneralesCobResult"      	class="parametrosGeneralesCob">
		<result property="codigoParametro"              				    column="COD_PARA"/>		
		<result property="descripcionParametro"  		   				    column="DES_PARA"/>
		<result property="valorParametro"          		   			   		column="VAL_PARA"/>							
		<result property="observacionParametro"          		   			column="OBS_PARA"/>						
    </resultMap>
    
     <resultMap id="parametrosGeneralesCobResultList"      	class="java.util.HashMap">
		<result property="codigoParametro"              				    column="COD_PARA"/>		
		<result property="descripcionParametro"  		   				    column="DES_PARA"/>
		<result property="valorParametro"          		   			   		column="VAL_PARA"/>							
		<result property="observacionParametro"          		   			column="OBS_PARA"/>						
    </resultMap>
    
     <resultMap id="secccionNoCriticaResult"      		class="seccionNoCritica">
		<result property="codEtapaDeuda"              				column="COD_ETAP_DEUD"/>		
		<result property="codigoRegion"  		   				    column="COD_REGI"/>
		<result property="codigoZona"          		   			   	column="COD_ZONA"/>	
		<result property="codigoSeccion"          		   			column="COD_SECC"/>							
		<result property="indicaActivo"          		   			column="IND_ACTI"/>	
		<result property="observacion"          		   			column="VAL_OBSE"/>						
    </resultMap>
    
    <resultMap id="secccionNoCriticaResultList"      	class="java.util.HashMap">
		<result property="descriEtapaDeuda"              			column="VAL_DESC"/>		
		<result property="codigoRegion"  		   				    column="COD_REGI"/>
		<result property="codigoZona"          		   			   	column="COD_ZONA"/>	
		<result property="codigoSeccion"          		   			column="COD_SECC"/>							
		<result property="indicaActivo"          		   			column="IND_ACTI"/>	
		<result property="observacion"          		   			column="VAL_OBSE"/>						
    </resultMap>
    
    <select id="getEtapaDeudaList" parameterClass="etapaDeuda" resultMap="etapaDeudaResult">
       SELECT 
          COD_PAIS                              AS COD_PAIS,       
          COD_ETAP_DEUD							AS COD_ETAP_DEUD,
       	  VAL_DESC						        AS VAL_DESC,
       	  VAL_EDAD_INIC						    AS VAL_EDAD_INIC,
       	  VAL_EDAD_FINA				            AS VAL_EDAD_FINA,
       	  NUM_DIAS_GEST			                AS NUM_DIAS_GEST,
       	  NUM_DIAS_VENC					        AS NUM_DIAS_VENC,
          NUM_DIAS_ESPE					        AS NUM_DIAS_ESPE,
          DECODE(IND_ACTI,1,'Si',0,'No')        AS IND_ACTI
       FROM COB_ETAPA_DEUDA_PAIS
       WHERE COD_PAIS = #codigoPais#
    </select>
    
     <select id="getEtapaDeuda" parameterClass="etapaDeuda" resultMap="etapaDeudaMantenimientoResult">
	    SELECT 
	      COD_PAIS 							    AS COD_PAIS,
       	  COD_ETAP_DEUD 					    AS COD_ETAP_DEUD,
          VAL_DESC 							    AS VAL_DESC,
          VAL_EDAD_INIC 				        AS VAL_EDAD_INIC,
          VAL_EDAD_FINA 					    AS VAL_EDAD_FINA,
          NUM_SECU_ETAP                         AS NUM_SECU_ETAP,
          IMP_DESD								AS IMP_DESD,
          IMP_HAST							    AS IMP_HAST,
       	  NUM_DIAS_GEST 						AS NUM_DIAS_GEST,
          NUM_DIAS_VENC 					    AS NUM_DIAS_VENC,
          NUM_DIAS_ESPE 						AS NUM_DIAS_ESPE,
          COD_USUA_SUPE 						AS COD_USUA_SUPE,
          VAL_IMPO_MINI_VISU			        AS VAL_IMPO_MINI_VISU,
          IND_ASIG_MOVI_ETAP_ANTE				AS IND_ASIG_MOVI_ETAP_ANTE,
          IND_ASIG_MOVI_ETAP_POST				AS IND_ASIG_MOVI_ETAP_POST,
          IND_ETAP_FINA 						AS IND_ETAP_FINA,
          IND_TELF 							    AS IND_TELF,
          IND_TIPO_BALA 						AS IND_TIPO_BALA,
          NUM_DIAS_AJUS_CIER_15 				AS NUM_DIAS_AJUS_CIER_15,
          NUM_DIAS_AJUS_CIER_30					AS NUM_DIAS_AJUS_CIER_30,
          IND_GENE_LUNE							AS IND_GENE_LUNE,
          IND_GENE_ARCH 						AS IND_GENE_ARCH,
          IND_ACTI						     	AS IND_ACTI          
        FROM COB_ETAPA_DEUDA_PAIS
 		WHERE COD_PAIS = #codigoPais#
   		AND COD_ETAP_DEUD = #codigoEtapaDeuda#
    </select>
    
    <insert id="insertEtapaDeuda" parameterClass="etapaDeuda" >
	   INSERT INTO COB_ETAPA_DEUDA_PAIS 
	     (       
	      COD_PAIS, 
	      COD_SOCI,						
       	  COD_ETAP_DEUD, 				
          VAL_DESC, 						
          VAL_EDAD_INIC, 				
          VAL_EDAD_FINA,
          IMP_DESD,     
  		  IMP_HAST,	
          NUM_SECU_ETAP,           			
       	  NUM_DIAS_GEST, 				
          NUM_DIAS_VENC, 				
          NUM_DIAS_ESPE, 				
          COD_USUA_SUPE,
          IND_ETAP_FINA,
          IND_TELF, 				
          IND_TIPO_BALA, 				
          IND_GENE_ARCH,
          VAL_IMPO_MINI_VISU,		
		  IND_ASIG_MOVI_ETAP_ANTE,	
		  IND_ASIG_MOVI_ETAP_POST,	
		  NUM_DIAS_AJUS_CIER_15, 	
		  NUM_DIAS_AJUS_CIER_30,	
		  IND_GENE_LUNE,		           			
          IND_ACTI,
          USU_CREA,
          FEC_CREA,
          USU_MODI,
          FEC_MODI
          )
        VALUES
 		  (   		  
   		  #codigoPais#, 
   		  '.',            
		  #codigoEtapaDeuda#,  	
	      #descripcionEtapaDeuda#,  
		  #valorEdadInicial#,      	
		  #valorEdadFinal#,   
		  #importeDesde#,      	
		  #importeHasta#,
		  #numeroSecuenciaEtapa#,
		  #numeroDiasGestion#,     	
		  #numeroDiasVencimiento#,  
		  #numeroDiasEspera#,     	
		  #codigoUsuarioSupervisor#,
		  #indicadorEtapaFinal#,
		  #indicadorTelefono#,
		  #indicadorTipoBalanceo#,  
	      #indicadorGeneracionArchivo#,	      	     	   
	      #importeMinimoVisualizacion#,
	      #indicadorAsignacionEtapaAnterior#,
	      #indicadorAsignacionEtapaPosterior#,
	      #indicadorCierreQuincena#,
	      #indicadorCierreFinMes#,
	      #indicadorGeneracionLunes#,	      	      	     
		  #indicadorActivo#,
		  #auditInfo.createdBy#, 
          #auditInfo.created#,
          #auditInfo.createdBy#, 
         #auditInfo.created#
         )  	   		 
	</insert>
	
	<update id="updateEtapaDeuda" parameterClass="etapaDeuda">
		UPDATE COB_ETAPA_DEUDA_PAIS
		SET  
		  VAL_DESC 				= #descripcionEtapaDeuda#, 						
          VAL_EDAD_INIC 		= #valorEdadInicial#, 				
          VAL_EDAD_FINA 		= #valorEdadFinal#, 
          IMP_DESD 				= #importeDesde#,  
  		  IMP_HAST 			    = #importeHasta#,
          NUM_SECU_ETAP 		= #numeroSecuenciaEtapa#,        			
       	  NUM_DIAS_GEST 		= #numeroDiasGestion#, 				
          NUM_DIAS_VENC 		= #numeroDiasVencimiento#,				
          NUM_DIAS_ESPE 		= #numeroDiasEspera#,				
          COD_USUA_SUPE 		= #codigoUsuarioSupervisor#,
          IND_ETAP_FINA 		= #indicadorEtapaFinal#,
          IND_TELF 				= #indicadorTelefono#,			
          IND_TIPO_BALA 		= #indicadorTipoBalanceo#,				
          IND_GENE_ARCH 		= #indicadorGeneracionArchivo#,			
          IND_ACTI 				= #indicadorActivo#,
          USU_MODI 		   		= #auditInfo.updatedBy#,  
          FEC_MODI 		   		= #auditInfo.lastUpdated# 	
		WHERE COD_PAIS  	 	= #codigoPais#                  		              
		AND   COD_ETAP_DEUD  	= #codigoEtapaDeuda#                
	</update>
	
	<update id="deleteEtapaDeuda" parameterClass="etapaDeuda">
		DELETE FROM COB_ETAPA_DEUDA_PAIS 
		WHERE COD_PAIS  	 =		#codigoPais#                  		              
		AND   COD_ETAP_DEUD  =		#codigoEtapaDeuda#                
	</update>
		   		
    <select id="getCobradorPaisList" parameterClass="cobradorPais" resultMap="cobradorPaisResult">
	   SELECT 
	      CP.COD_PAIS 										AS COD_PAIS,		  
		  CP.COD_USUA_COBR 		    					    AS COD_USUA_COBR ,
		  CP.VAL_NOMB_USUA_COBR 							AS VAL_NOMB_USUA_COBR ,		  
		  DECODE(CP.IND_ACTI,1,'Si',0,'No') 				AS IND_ACTI,
	      DECODE(CP.IND_SUPE,1,'Si',0,'No') 			    AS IND_SUPE,
	      DECODE(CP.IND_JEFE,1,'Si',0,'No') 			    AS IND_JEFE	      
       FROM COB_USUAR_COBRA_PAIS CP
    </select>
	
	        
    <select id="getCobradorPais" parameterClass="cobradorPais" resultMap="cobradorPaisMantenimientoResult">
       
       SELECT CP.COD_PAIS           AS COD_PAIS,
		  CP.COD_USUA_COBR 		    AS COD_USUA_COBR ,
		  CP.VAL_NOMB_USUA_COBR 	AS VAL_NOMB_USUA_COBR ,
		  CP.VAL_MAIL 			    AS VAL_MAIL,
		  CP.Val_num_tele			AS Val_num_tele,
	      CP.Val_dire				AS Val_dire,  
		  CP.IND_ACTI 				AS IND_ACTI ,
	      CP.IND_SUPE 			    AS IND_SUPE,
	      CP.IND_JEFE 			    AS IND_JEFE,
		       CP.VAL_DIRE_FTP       AS VAL_DIRE_FTP,
		       CP.VAL_DIRE_RECE_FTP  AS VAL_DIRE_RECE_FTP,
		       CP.VAL_SERV_FTP       AS VAL_SERV_FTP,
		       CP.VAL_PUER_FTP       AS VAL_PUER_FTP,
          CP.VAL_USUA_FTP 		    AS VAL_USUA_FTP,
          CP.VAL_CLAV_FTP 			AS VAL_CLAV_FTP,
	      CP.IND_MAIL_PROC_ASIG     AS IND_MAIL_PROC_ASIG,
	      CP.IND_MAIL_PROC_ACTU     AS IND_MAIL_PROC_ACTU
       FROM COB_USUAR_COBRA_PAIS CP
       WHERE CP.COD_USUA_COBR = #codigoCobrador#
       
    </select>
    
    <insert id="insertCobradorPais" parameterClass="cobradorPais" >
		INSERT INTO COB_USUAR_COBRA_PAIS 
		  (COD_PAIS,
		     COD_SOCI,		  	 
		     COD_USUA_COBR,
		     VAL_NOMB_USUA_COBR,
		     VAL_MAIL,
		     IND_ACTI,
	         IND_SUPE,
	         IND_JEFE,
		   VAL_DIRE_FTP,
		   VAL_DIRE_RECE_FTP,
		   VAL_SERV_FTP,
		   VAL_PUER_FTP,
             VAL_USUA_FTP,
             VAL_CLAV_FTP,
	         IND_MAIL_PROC_ASIG,
	         IND_MAIL_PROC_ACTU,
	         USU_CREA,
             FEC_CREA,
             USU_MODI,
		   FEC_MODI,
		   Val_num_tele,
		   Val_dire)
		VALUES
		  (#codigoPais#,
			'.',           			            
			#codigoCobrador#,                 
			#nombreCobrador#,    
			#email#,          
			#indicadorActividad#,              
			#indicadorSupervisor#, 			
        	#indicadorJefe#,  
		   #direFTP#,
		   #direReceFTP#,
		   #servFTP#,
		   #puerFTP#,
			#usuarioFTP#,
			#claveFTP#,
        	#indicadorEmailProcesoAsignacion#,
			#indicadorEmailProcesoActualizacion#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
		   #auditInfo.created#,
		   #telefono#,
		   #direccion#)
	</insert>
	
	<update id="updateCobradorPais" parameterClass="cobradorPais">
		UPDATE COB_USUAR_COBRA_PAIS  
		   SET VAL_NOMB_USUA_COBR = #nombreCobrador#,
		    VAL_MAIL 		   = #email#,
		    IND_ACTI 		   = #indicadorActividad#,
	        IND_SUPE 		   = #indicadorSupervisor#,
	        IND_JEFE 		   = #indicadorJefe#, 
		       VAL_DIRE_FTP       = #direFTP#,
		       VAL_DIRE_RECE_FTP  = #direReceFTP#,
		       VAL_SERV_FTP       = #servFTP#,
		       VAL_PUER_FTP       = #puerFTP#,
            VAL_USUA_FTP 	   = #usuarioFTP#, 
            VAL_CLAV_FTP 	   = #claveFTP#,
	        IND_MAIL_PROC_ASIG = #indicadorEmailProcesoAsignacion#,
	        IND_MAIL_PROC_ACTU = #indicadorEmailProcesoActualizacion#,
			USU_MODI 		   = #auditInfo.updatedBy#,  
            FEC_MODI 		   = #auditInfo.lastUpdated#,
            Val_num_tele 		   = #telefono#,
            Val_dire 		   = #direccion# 	                  
		WHERE COD_PAIS  	   = #codigoPais#                  		              
		AND   COD_USUA_COBR    = #codigoCobrador#                
	</update>
		                  	       	
	<update id="deleteCobradorPais" parameterClass="cobradorPais">
		DELETE FROM COB_USUAR_COBRA_PAIS  
		WHERE COD_PAIS  	 =		#codigoPais#                  		              
		AND   COD_USUA_COBR  =		#codigoCobrador#                
	</update>
	
	
	<select id="getCobradorUnidadAdministrativaList" parameterClass="cobradorUnidadAdministrativa" resultMap="cobradorUnidadAdministrativaResult">
	   SELECT 
	      ZC.COD_PAIS,
       	  ZC.COD_ETAP_DEUD,
       	  DP.VAL_DESC DES_ETAP_DEUD,
          ZC.COD_REGI,
          ZC.COD_ZONA,
          ZC.COD_USUA_COBR,
          CP.VAL_NOMB_USUA_COBR,
          ZC.IMP_PORC_ASIG,
          DECODE(ZC.IND_ACTI,1,'Si',0,'No') AS IND_ACTI,
          ZC.VAL_OBSE
  	   FROM 
  	      COB_PARAM_ASIGN_ZONAS_COBRA ZC,
          COB_USUAR_COBRA_PAIS CP,
          COB_ETAPA_DEUDA_PAIS DP
 	   WHERE CP.COD_USUA_COBR = ZC.COD_USUA_COBR
   	   AND DP.COD_ETAP_DEUD = ZC.COD_ETAP_DEUD 
   	   AND DP.COD_ETAP_DEUD = DECODE(#codigoEtapaDeuda#,NULL,DP.COD_ETAP_DEUD,'T',DP.COD_ETAP_DEUD,#codigoEtapaDeuda#)
    </select>
        
    <select id="getCobradorUnidadAdministrativa" parameterClass="cobradorUnidadAdministrativa" resultMap="cobradorUnidadAdministrativaMantenimientoResult">
	   SELECT 
   	      COD_PAIS,
   		  COD_ETAP_DEUD,   		  
   		  COD_REGI,
   		  COD_ZONA,
   		  COD_USUA_COBR,
   		  IMP_PORC_ASIG,
   		  IND_ACTI,
   		  VAL_OBSE
	   FROM COB_PARAM_ASIGN_ZONAS_COBRA
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#		        		              	
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#    	
		AND COD_USUA_COBR      = #codigoCobrador#	
    </select>
    
    <insert id="insertCobradorUnidadAdministrativa" parameterClass="cobradorUnidadAdministrativa" >
		INSERT INTO COB_PARAM_ASIGN_ZONAS_COBRA
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,
   		   COD_USUA_COBR,
   		   COD_REGI,
   		   COD_ZONA,
   		   IMP_PORC_ASIG,
   		   IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,              			            
			#codigoCobrador#,                 
			#codigoRegion#,
			#codigoZona#,
			#importePorcentajeAsignacion#,
			#indicadorActivo#,
			#observaciones#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateCobradorUnidadAdministrativa" parameterClass="java.util.Map">
		UPDATE COB_PARAM_ASIGN_ZONAS_COBRA
		SET		
		    COD_USUA_COBR      = #codigoCobrador#,
		    IMP_PORC_ASIG      = #importePorcentajeAsignacion#,
		    IND_ACTI           = #indicadorActivo#,	   
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   = #usuarioModificacion#,  
            FEC_MODI 		   = to_date(#fechaModificacion#,'DD/MM/YYYY HH24:MI:SS')                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#   
		AND COD_USUA_COBR      = #oldCodigoCobrador#            		
	</update>
			                  	       	
	<update id="deleteCobradorUnidadAdministrativa" parameterClass="cobradorUnidadAdministrativa">
		DELETE FROM COB_PARAM_ASIGN_ZONAS_COBRA 
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#
		AND COD_USUA_COBR      = #codigoCobrador#                		
	</update>
						
	<select id="getZonaNoCriticaList" parameterClass="zonaNoCritica" resultMap="zonaNoCriticaResult">
	   SELECT 
   	      ZN.COD_PAIS,
   		  ZN.COD_ETAP_DEUD,   	     
          ED.VAL_DESC DES_ETAP_DEUD,
   		  ZN.COD_REGI,
   	      ZN.COD_ZONA,
   	      DECODE(ZN.IND_ACTI,1,'Si',0,'No') AS IND_ACTI,  		  
   	      ZN.VAL_OBSE
	   FROM COB_PARAM_ZONAS_NOCRI ZN,
            COB_ETAPA_DEUDA_PAIS ED
   	   WHERE ZN.COD_ETAP_DEUD = ED.COD_ETAP_DEUD                                                	        	          
    </select>
        
    <select id="getZonaNoCritica" parameterClass="zonaNoCritica" resultMap="zonaNoCriticaMantenimientoResult">
	   SELECT 
   	      COD_PAIS,
   		  COD_ETAP_DEUD,   		  
   		  COD_REGI,
   		  COD_ZONA,
   		  IND_ACTI,
   		  VAL_OBSE
	   FROM COB_PARAM_ZONAS_NOCRI
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#    		
    </select>
    
    <insert id="insertZonaNoCritica" parameterClass="zonaNoCritica" >
		INSERT INTO COB_PARAM_ZONAS_NOCRI
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,   		   
   		   COD_REGI,
   		   COD_ZONA,
   		   IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,              			            			                
			#codigoRegion#,
			#codigoZona#,
			#indicadorActivo#,
			#observaciones#,			
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateZonaNoCritica" parameterClass="zonaNoCritica">
		UPDATE COB_PARAM_ZONAS_NOCRI
		SET			
		    IND_ACTI           = #indicadorActivo#,	   
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   = #auditInfo.updatedBy#,  
            FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#               		
	</update>
			                  	       	
	<update id="deleteZonaNoCritica" parameterClass="zonaNoCritica">
		DELETE FROM COB_PARAM_ZONAS_NOCRI 
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_REGI 		   = #codigoRegion#
		AND COD_ZONA 		   = #codigoZona#                		
	</update>
	
			
	<select id="getAsignacionCarteraCobradorList" parameterClass="asignacionCarteraCobrador" resultMap="asignacionCarteraCobradorResult">
	   SELECT 
	      AC.COD_PAIS,
       	  AC.COD_ETAP_DEUD,
       	  DP.VAL_DESC DES_ETAP_DEUD,          
          AC.COD_USUA_COBR,
          CP.VAL_NOMB_USUA_COBR,
          AC.IMP_PORC_ASIG,
          DECODE(AC.IND_ACTI,1,'Si',0,'No') AS IND_ACTI,
          AC.VAL_OBSE
  	   FROM 
  	      COB_PARAM_ASIGN_CARTE_COBRA   AC,
          COB_USUAR_COBRA_PAIS CP,
          COB_ETAPA_DEUDA_PAIS DP
 	   WHERE CP.COD_USUA_COBR = AC.COD_USUA_COBR
   	   AND DP.COD_ETAP_DEUD = AC.COD_ETAP_DEUD 
   	   AND DP.COD_ETAP_DEUD = DECODE(#codigoEtapaDeuda#,NULL,DP.COD_ETAP_DEUD,'T',DP.COD_ETAP_DEUD,#codigoEtapaDeuda#)
    </select>
        
    <select id="getAsignacionCarteraCobrador" parameterClass="asignacionCarteraCobrador" resultMap="asignacionCarteraCobradorMantenimientoResult">
	   SELECT 
   	      COD_PAIS,
   		  COD_ETAP_DEUD,   		     		  
   		  COD_USUA_COBR,
   		  IMP_PORC_ASIG,
          IND_ACTI,
   		  VAL_OBSE
	   FROM COB_PARAM_ASIGN_CARTE_COBRA
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_USUA_COBR 		   = #codigoCobrador#		    	
    </select>
    
    <insert id="insertAsignacionCarteraCobrador" parameterClass="asignacionCarteraCobrador" >
		INSERT INTO COB_PARAM_ASIGN_CARTE_COBRA
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,
   		   COD_USUA_COBR,
   		   IMP_PORC_ASIG,
           IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,              			            
			#codigoCobrador#,                 
			#importePorcentajeAsignacion#,
			#indicadorActivo#,
			#observaciones#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateAsignacionCarteraCobrador" parameterClass="java.util.Map">
		UPDATE COB_PARAM_ASIGN_CARTE_COBRA
		SET		
		    COD_USUA_COBR      = #codigoCobrador#,
		    IMP_PORC_ASIG      = #importePorcentajeAsignacion#,
		    IND_ACTI           = #indicadorActivo#,
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   = #usuarioModificacion#,   
            FEC_MODI 		   = to_date(#fechaModificacion#,'DD/MM/YYYY HH24:MI:SS')	                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_USUA_COBR 	   = #oldCodigoCobrador#		              	
	</update>
			                  	       	
	<update id="deleteAsignacionCarteraCobrador" parameterClass="asignacionCarteraCobrador">
		DELETE FROM COB_PARAM_ASIGN_CARTE_COBRA 
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_USUA_COBR 	   = #codigoCobrador#              		
	</update>	
	
	<select id="getValidacionAsignacionCarteraList" parameterClass="validacionAsignacionCartera" resultMap="validacionAsignacionCarteraResult">
	   SELECT 
	      COD_PAIS, 
	      COD_ETAP_DEUD,
          COD_TIPO_VALI,
          NUM_ORDE_VALI,
          VAL_NOMB_PROG,
          VAL_MENS_VALI,
          IND_ACTI
       FROM COB_PARAM_ASIGN_CARTE_VALID
 	   ORDER BY 4 ASC	   
    </select>
    
    <select id="getValidacionAsignacionCartera" parameterClass="validacionAsignacionCartera" resultMap="validacionAsignacionCarteraMantenimientoResult">
	   SELECT 
	      COD_PAIS, 
	      COD_ETAP_DEUD,
          COD_TIPO_VALI,
          NUM_ORDE_VALI,
          VAL_NOMB_PROG,
          VAL_MENS_VALI,
          IND_ACTI
       FROM COB_PARAM_ASIGN_CARTE_VALID
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD  = #codigoEtapaDeuda#        		              		
		AND COD_TIPO_VALI  = #codigoTipoValidacion#		    	
    </select>
    
    <update id="updateValidacionAsignacionCartera" parameterClass="validacionAsignacionCartera">
		UPDATE COB_PARAM_ASIGN_CARTE_VALID
		SET				
		    NUM_ORDE_VALI      = #numeroOrdenValidacion#,
		    IND_ACTI           = #indicadorActivo#,            
            USU_MODI 		   = #auditInfo.updatedBy#,  
            FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_TIPO_VALI  	   = #codigoTipoValidacion#		              	
	</update>
	
    <select id="getExcepcionAsignacionCarteraList" parameterClass="excepcionAsignacionCartera" resultMap="excepcionAsignacionCarteraResult">
	   SELECT 
	      COD_PAIS, 
	      COD_ETAP_DEUD,
          COD_TIPO_EXCE,
          NUM_ORDE_EXCE,
          VAL_NOMB_PROG,
          VAL_MENS_EXCE,
          IND_ACTI
       FROM COB_PARAM_ASIGN_CARTE_EXCEP
 	   ORDER BY 4 ASC	   
    </select>	
        	
    <select id="getExcepcionAsignacionCartera" parameterClass="excepcionAsignacionCartera" resultMap="excepcionAsignacionCarteraMantenimientoResult">
	   SELECT 
	      COD_PAIS, 
	      COD_ETAP_DEUD,
          COD_TIPO_EXCE,
          NUM_ORDE_EXCE,
          VAL_NOMB_PROG,
          VAL_MENS_EXCE,
          IND_ACTI
       FROM COB_PARAM_ASIGN_CARTE_EXCEP
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD  = #codigoEtapaDeuda#        		              		
		AND COD_TIPO_EXCE  = #codigoTipoExcepcion#		    	
    </select>
    
    <update id="updateExcepcionAsignacionCartera" parameterClass="excepcionAsignacionCartera">
		UPDATE COB_PARAM_ASIGN_CARTE_EXCEP
		SET				
		    NUM_ORDE_EXCE      = #numeroOrdenExcepcion#,
		    IND_ACTI           = #indicadorActivo#,            
            USU_MODI 		   = #auditInfo.updatedBy#,  
            FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
		AND COD_TIPO_EXCE  	   = #codigoTipoExcepcion#		              	
	</update>
	
	<select id="getCarteraAsignadaList" parameterClass="java.util.Map" resultMap="carteraAsignadaResult">
	   SELECT 
	      COD_PAIS, 
	      COD_ETAP_DEUD,
          COD_PERI,
          COD_REGI,
          COD_ZONA,
          COD_CART,
          FEC_ASIG,
          FEC_CIER          
       FROM COB_CABEC_ASIGN_CARTE CABEC
       WHERE CABEC.COD_PAIS  	   = #codigoPais#         
		AND CABEC.COD_ETAP_DEUD  = DECODE(#codigoEtapaDeuda#,NULL,CABEC.COD_ETAP_DEUD,'T',CABEC.COD_ETAP_DEUD,#codigoEtapaDeuda#)  		              		
		AND CABEC.COD_PERI  	   = DECODE(#codigoPeriodo#,NULL,CABEC.COD_PERI,'',CABEC.COD_PERI,'T',CABEC.COD_PERI,#codigoPeriodo#)
		AND CABEC.COD_REGI  	   = DECODE(#codigoRegion#,NULL,CABEC.COD_REGI,'T',CABEC.COD_REGI,#codigoRegion#)
		AND CABEC.COD_ZONA 	   = DECODE(#codigoZona#,NULL,CABEC.COD_ZONA,'T',CABEC.COD_ZONA,#codigoZona#)	    	
    </select>
    
    <select id="getExcepcionClasificacionClienteList" parameterClass="excepcionClasificacionCliente" resultMap="excepcionClasificacionClienteResult">
	   SELECT 
         EC.COD_PAIS, 
         EC.COD_ETAP_DEUD, 
         ED.VAL_DESC AS DES_ETAP_DEUD,
         EC.OID_TIPO_CLIE,
         FIN_PKG_GENER.FIN_FN_OBTIE_DESCR_COMUN('MAE_TIPO_CLIEN',EC.OID_TIPO_CLIE) DES_TIPO_CLIE,
         EC.OID_SUBT_CLIE,
         FIN_PKG_GENER.FIN_FN_OBTIE_DESCR_COMUN('MAE_SUBTI_CLIEN',EC.OID_SUBT_CLIE) DES_SUBT_CLIE,
         EC.OID_TIPO_CLAS_CLIE,
         FIN_PKG_GENER.FIN_FN_OBTIE_DESCR_COMUN('MAE_TIPO_CLASI_CLIEN',EC.OID_TIPO_CLAS_CLIE) DES_TIPO_CLAS_CLIE,
         Ec.OID_CLAS_CLIE,  
         FIN_PKG_GENER.FIN_FN_OBTIE_DESCR_COMUN('MAE_CLASI',EC.OID_CLAS_CLIE) DES_CLAS_CLIE,
         EC.IND_ACTI, 
         EC.VAL_OBSE
       FROM 
          COB_PARAM_EXCEP_CLASI_CLIEN EC,
          COB_ETAPA_DEUDA_PAIS ED
      WHERE EC.COD_ETAP_DEUD = ED.COD_ETAP_DEUD
        AND EC.COD_PAIS = #codigoPais#   
        AND EC.COD_ETAP_DEUD = DECODE(#codigoEtapaDeuda#,NULL,EC.COD_ETAP_DEUD,'T',EC.COD_ETAP_DEUD,#codigoEtapaDeuda#)	      	     
    </select>
	
    <select id="getExcepcionClasificacionCliente" parameterClass="excepcionClasificacionCliente" resultMap="excepcionClasificacionClienteMantenimientoResult">
	   SELECT 
  	      COD_PAIS,
  		  COD_ETAP_DEUD,
  		  OID_TIPO_CLIE,
  		  OID_SUBT_CLIE,
  		  OID_TIPO_CLAS_CLIE,
  	      OID_CLAS_CLIE,
  		  IND_ACTI,
  		  VAL_OBSE
	   FROM COB_PARAM_EXCEP_CLASI_CLIEN
       WHERE COD_PAIS  	       = #codigoPais#         
		
		<isNotEmpty prepend="AND" property="codigoEtapaDeuda">
		   COD_ETAP_DEUD = #codigoEtapaDeuda#
		</isNotEmpty>
		
		<isNotEmpty prepend="AND" property="oidTipoCliente">
		   OID_TIPO_CLIE = #oidTipoCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oidTipoCliente">
		   OID_TIPO_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oidSubtipoCliente">
		   OID_SUBT_CLIE = #oidSubtipoCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oidSubtipoCliente">
		   OID_SUBT_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oidTipoClasificacionCliente">
		   OID_TIPO_CLAS_CLIE = #oidTipoClasificacionCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oidTipoClasificacionCliente">
		   OID_TIPO_CLAS_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oidClasificacionCliente">
		   OID_CLAS_CLIE = #oidClasificacionCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oidClasificacionCliente">
		   OID_CLAS_CLIE is null
		</isEmpty>
			    	
    </select>
    
    <insert id="insertExcepcionClasificacionCliente" parameterClass="excepcionClasificacionCliente" >
		INSERT INTO COB_PARAM_EXCEP_CLASI_CLIEN
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,
   		   OID_TIPO_CLIE,
   		   OID_SUBT_CLIE,
   		   OID_TIPO_CLAS_CLIE,
   		   OID_CLAS_CLIE,   		   
           IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,  
			#oidTipoCliente#, 
			#oidSubtipoCliente#,
			#oidTipoClasificacionCliente#,            			            
			#oidClasificacionCliente#,                 			
			#indicadorActivo#,
			#observaciones#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateExcepcionClasificacionCliente" parameterClass="java.util.Map">
		UPDATE COB_PARAM_EXCEP_CLASI_CLIEN
		SET				    		    
		    IND_ACTI           = #indicadorActivo#,
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   = #usuarioModificacion#,  
            FEC_MODI 		   = to_date(#fechaModificacion#,'DD/MM/YYYY HH24:MI:SS') ,   
            OID_TIPO_CLIE	   = #oidTipoCliente#,
            OID_SUBT_CLIE      = #oidSubtipoCliente#,
            OID_TIPO_CLAS_CLIE = #oidTipoClasificacionCliente# ,
            OID_CLAS_CLIE      = #oidClasificacionCliente#         
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#        		              		
	
		
		
		<isNotEmpty prepend="AND" property="oldOidTipoCliente">
		   OID_TIPO_CLIE = #oldOidTipoCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oldOidTipoCliente">
		   OID_TIPO_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oldOidSubtipoCliente">
		   OID_SUBT_CLIE = #oldOidSubtipoCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oldOidSubtipoCliente">
		   OID_SUBT_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oldOidTipoClasificacionCliente">
		   OID_TIPO_CLAS_CLIE = #oldOidTipoClasificacionCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oldOidTipoClasificacionCliente">
		   OID_TIPO_CLAS_CLIE is null
		</isEmpty>
		
		<isNotEmpty prepend="AND" property="oldOidClasificacionCliente">
		   OID_CLAS_CLIE = #oldOidClasificacionCliente#
		</isNotEmpty>
		<isEmpty prepend="AND" property="oldOidClasificacionCliente">
		   OID_CLAS_CLIE is null
		</isEmpty>
		          	
	</update>
			                  	       	
	<update id="deleteExcepcionClasificacionCliente" parameterClass="excepcionClasificacionCliente">
		DELETE FROM COB_PARAM_EXCEP_CLASI_CLIEN 
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#   
		AND OID_TIPO_CLIE 	   = #oidTipoCliente#
		AND OID_SUBT_CLIE 	   = #oidSubtipoCliente#
		AND OID_TIPO_CLAS_CLIE = #oidTipoClasificacionCliente#         		              		
		AND OID_CLAS_CLIE      = #oidClasificacionCliente#		               		
	</update>
	
	<!-- OBTIENE LAS UNIDADES ADMINISTRATIVAS DEL CRONOGRAMA DE CARTERA SEGUN LOS PARAMETROS RECIBIDOS -->
	<select id="getUnidadAdministrativaCronogramaCarteraList" parameterClass="unidadAdministrativaCronogramaCartera" resultMap="unidadAdministrativaCronogramaCarteraResult">
	   SELECT 
	      UA.COD_PAIS,
       	  UA.COD_ETAP_DEUD,
          ED.VAL_DESC AS DES_ETAP_DEUD,
          UA.COD_REGI,
          UA.COD_ZONA,
          UA.COD_PERI_INIC,
          UA.COD_PERI_FINA,
          UA.IND_ACTI,
          UA.VAL_OBSE
       FROM 
          COB_PARAM_UNIDA_ADMIN_CRONO UA, 
          COB_ETAPA_DEUDA_PAIS ED
       WHERE UA.COD_ETAP_DEUD     = ED.COD_ETAP_DEUD
         AND UA.COD_PAIS  	      = #codigoPais#         
		 AND UA.COD_ETAP_DEUD 	  = DECODE(#codigoEtapaDeuda#,NULL,UA.COD_ETAP_DEUD,'T',UA.COD_ETAP_DEUD,#codigoEtapaDeuda#)  	      	     
    </select>
    
    <select id="getUnidadAdministrativaCronogramaCartera" parameterClass="unidadAdministrativaCronogramaCartera" resultMap="unidadAdministrativaCronogramaCarteraMantenimientoResult">
	   SELECT 
  	      COD_PAIS,
   		   COD_ETAP_DEUD,
   		   COD_REGI,
   		   COD_ZONA,
   		   COD_PERI_INIC,
   		   COD_PERI_FINA,   		   
           IND_ACTI,
   		   VAL_OBSE
	   FROM COB_PARAM_UNIDA_ADMIN_CRONO
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD  = #codigoEtapaDeuda#   
		AND COD_REGI 	   = #codigoRegion#
		AND COD_ZONA 	   = #codigoZona#		  	
    </select>
    
    <insert id="insertUnidadAdministrativaCronogramaCartera" parameterClass="unidadAdministrativaCronogramaCartera" >
		INSERT INTO COB_PARAM_UNIDA_ADMIN_CRONO
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,
   		   COD_REGI,
   		   COD_ZONA,
   		   COD_PERI_INIC,
   		   COD_PERI_FINA,   		   
           IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,  
			#codigoRegion#, 
			#codigoZona#,
			#codigoPeriodoInicial#,            			            
			#codigoPeriodoFinal#,                 			
			#indicadorActivo#,
			#observaciones#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateUnidadAdministrativaCronogramaCartera" parameterClass="unidadAdministrativaCronogramaCartera">
		UPDATE COB_PARAM_UNIDA_ADMIN_CRONO
		SET				    		    
		    COD_PERI_INIC      = #codigoPeriodoInicial#,
		    COD_PERI_FINA      = #codigoPeriodoFinal#,
		    IND_ACTI           = #indicadorActivo#,
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   = #auditInfo.updatedBy#,  
            FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#   
		AND COD_REGI	       = #codigoRegion#
		AND COD_ZONA 	   	   = #codigoZona#		          	
	</update>
			                  	       	
	<update id="deleteUnidadAdministrativaCronogramaCartera" parameterClass="unidadAdministrativaCronogramaCartera">
		DELETE FROM COB_PARAM_UNIDA_ADMIN_CRONO
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#   
		AND COD_REGI	       = #codigoRegion#
		AND COD_ZONA 	   	   = #codigoZona#			               		
	</update>
	
	<select id="getAsignacionCarteraSupervisorList" parameterClass="asignacionCarteraSupervisor" resultMap="asignacionCarteraSupervisorResult">
	   SELECT 
	      A.COD_PAIS,
       	  A.COD_ETAP_DEUD,
       	  B.VAL_DESC AS DES_ETAP_DEUD,
          A.COD_REGI,
          A.COD_ZONA,
          A.COD_USUA_COBR,
          C.VAL_NOMB_USUA_COBR AS DES_USUA_COBR,
          A.VAL_CANT_DEUD,
          A.IND_ACTI,
          A.VAL_OBSE
       FROM 
          COB_PARAM_ASIGN_CARTE_SUPER A,
          COB_ETAPA_DEUDA_PAIS        B,
          COB_USUAR_COBRA_PAIS C
 	   WHERE A.COD_ETAP_DEUD = B.COD_ETAP_DEUD
   	     AND A.COD_USUA_COBR = C.COD_USUA_COBR
		 AND A.COD_PAIS  	      = #codigoPais#         
		 AND A.COD_ETAP_DEUD 	  = DECODE(#codigoEtapaDeuda#,NULL,A.COD_ETAP_DEUD,'T',A.COD_ETAP_DEUD,#codigoEtapaDeuda#)  	      	     
    </select>
	
	<select id="getAsignacionCarteraSupervisor" parameterClass="asignacionCarteraSupervisor" resultMap="asignacionCarteraSupervisorMantenimientoResult">
	   SELECT 
  	      COD_PAIS,
   		  COD_ETAP_DEUD,
   		  COD_REGI,
   		  COD_ZONA,
   		  COD_USUA_COBR,
   		   VAL_CANT_DEUD,  		   
          IND_ACTI,
   		  VAL_OBSE
	   FROM COB_PARAM_ASIGN_CARTE_SUPER
       WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD  = #codigoEtapaDeuda#   
		AND COD_REGI 	   = #codigoRegion#
		AND COD_ZONA 	   = #codigoZona#	
		AND COD_USUA_COBR  = #codigoCobrador#		   	  	
    </select>
    
    <insert id="insertAsignacionCarteraSupervisor" parameterClass="asignacionCarteraSupervisor" >
		INSERT INTO COB_PARAM_ASIGN_CARTE_SUPER
		( 
   		   COD_PAIS,
   		   COD_ETAP_DEUD,
   		   COD_REGI,
   		   COD_ZONA,
   		   COD_USUA_COBR,
   		   VAL_CANT_DEUD,   		   
           IND_ACTI,
   		   VAL_OBSE,
   		   USU_CREA,
           FEC_CREA,
           USU_MODI,
           FEC_MODI
		)
		VALUES
		 (
			#codigoPais#,    
			#codigoEtapaDeuda#,  
			#codigoRegion#, 
			#codigoZona#,
			#codigoCobrador#,            			            
			#cantidadDeudoras#,                 			
			#indicadorActivo#,
			#observaciones#,
			#auditInfo.createdBy#, 
         	#auditInfo.created#,
          	#auditInfo.createdBy#, 
         	#auditInfo.created#
	    )
	</insert>
	
	<update id="updateAsignacionCarteraSupervisor" parameterClass="java.util.Map">
		UPDATE COB_PARAM_ASIGN_CARTE_SUPER
		SET				    		    
			COD_USUA_COBR	   = #codigoCobrador#,    		    
		    VAL_CANT_DEUD      = #cantidadDeudoras#,		    
		    IND_ACTI           = #indicadorActivo#,
            VAL_OBSE 		   = #observaciones#, 
            USU_MODI 		   =  #usuarioModificacion#,
            FEC_MODI 		   = to_date(#fechaModificacion#,'DD/MM/YYYY HH24:MI:SS') 		                  
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#   
		AND COD_REGI	       = #codigoRegion#
		AND COD_ZONA 	   	   = #codigoZona#	
		AND COD_USUA_COBR      = #oldCodigoCobrador#		          	
	</update>
	
	<update id="deleteAsignacionCarteraSupervisor" parameterClass="asignacionCarteraSupervisor">
		DELETE FROM COB_PARAM_ASIGN_CARTE_SUPER
		WHERE COD_PAIS  	   = #codigoPais#         
		AND COD_ETAP_DEUD 	   = #codigoEtapaDeuda#   
		AND COD_REGI	   = #codigoRegion#
		AND COD_ZONA 	   	   = #codigoZona#
		AND COD_USUA_COBR      = #codigoCobrador#			               		
	</update>
		
	<parameterMap id="paramDepurarCarteraAsignada" class="java.util.Map" >
		<parameter property="codigoPais"                	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
		<parameter property="codigoEtapaDeuda"          	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>	
		<parameter property="codigoPeriodo"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>	
        <parameter property="codigoRegion"              	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
        <parameter property="codigoZona"                	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
        <parameter property="codigoCartera"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
		<parameter property="codigoUsuario"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>                       
    </parameterMap>
    
   <procedure id="executeDepurarCarteraAsignada" parameterMap="paramDepurarCarteraAsignada" >
		{call COB_PKG_PROCE.COB_PR_DEPUR_CARTE_ASIGN(?,?,?,?,?,?,?)}
    </procedure>
    
    <parameterMap id="paramEliminarCarteraAsignada" class="java.util.Map" >
		<parameter property="codigoPais"                	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
		<parameter property="codigoEtapaDeuda"          	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>	
		<parameter property="codigoPeriodo"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>	
        <parameter property="codigoRegion"              	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
        <parameter property="codigoZona"                	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
        <parameter property="codigoCartera"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>
		<parameter property="codigoUsuario"             	jdbcType="VARCHAR" javaType="java.lang.String"  mode="IN"/>                       
    </parameterMap>
    
   <procedure id="executeEliminarCarteraAsignada" parameterMap="paramEliminarCarteraAsignada" >
		{call COB_PKG_PROCE.COB_PR_ELIMI_CARTE_ASIGN(?,?,?,?,?,?,?)}
    </procedure>
    
    <select id="getParametrosGeneralesCob" parameterClass="parametrosGeneralesCob" resultMap="parametrosGeneralesCobResult">
	  SELECT COD_PARA,
       		  DES_PARA,
       		  VAL_PARA,
      		  OBS_PARA
  	   FROM COB_PARAM_GENER	WHERE 1=1  	  
		<isNotEmpty prepend="AND" property="codigoParametro">
		   COD_PARA = #codigoParametro#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="descripcionParametro">
		   DES_PARA LIKE '%'||#descripcionParametro#||'%'
		</isNotEmpty>         	
    </select>	
    
    <select id="getParametrosGeneralesCobList" parameterClass="parametrosGeneralesCob" resultMap="parametrosGeneralesCobResultList">
	   SELECT COD_PARA,
       		  DES_PARA,
       		  VAL_PARA,
      		  OBS_PARA
  	   FROM COB_PARAM_GENER	WHERE 1=1  	  
		<isNotEmpty prepend="AND" property="codigoParametro">
		   COD_PARA = #codigoParametro#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="descripcionParametro">
		   DES_PARA LIKE '%'||#descripcionParametro#||'%'
		</isNotEmpty>    	
    </select>	
   
    <insert id="insertParametrosGeneralesCob" parameterClass="parametrosGeneralesCob" >
		 INSERT INTO COB_PARAM_GENER
	        (COD_PARA,
	         DES_PARA,
	         VAL_PARA,
	         OBS_PARA,
	         USU_CREA,
	         FEC_CREA)
		VALUES 
	        (#codigoParametro#,
	         #descripcionParametro#,
	         #valorParametro#,
	         #observacionParametro#,
	         #auditInfo.createdBy#, 
	         #auditInfo.created#)
	</insert>
	
	<update id="updateParametrosGeneralesCob" parameterClass="parametrosGeneralesCob">
		UPDATE COB_PARAM_GENER
		SET				    		    
		     DES_PARA 			= #descripcionParametro#, 
             VAL_PARA 			= #valorParametro#, 
             OBS_PARA 		   = #observacionParametro#,
             USU_MODI 		   = #auditInfo.updatedBy#,  
             FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_PARA = #codigoParametro# 	        	
	</update>
	
	<update id="deleteParametrosGeneralesCob" parameterClass="parametrosGeneralesCob">		 
 		DELETE COB_PARAM_GENER
		WHERE COD_PARA = #codigoParametro#		               		
	</update>
	
	 <select id="getSeccionNoCriticaList" parameterClass="seccionNoCritica" resultMap="secccionNoCriticaResultList">
	 	SELECT dp.val_desc,
			 s.cod_regi, 
			 s.cod_zona, 
			 s.cod_secc, 
			 s.val_obse,
			 s.ind_acti 
		FROM cob_param_secci_nocri s,
		 	 cob_etapa_deuda_pais dp
		WHERE s.cod_etap_deud = dp.cod_etap_deud
		<isNotEmpty prepend="AND" property="codEtapaDeuda">
		  s.cod_etap_deud = #codEtapaDeuda#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="codigoRegion">
		  s.cod_regi = #codigoRegion#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="codigoZona">
		  s.cod_zona = #codigoZona#
		</isNotEmpty>		     	
    </select>
    
    <select id="getSeccionNoCritica" parameterClass="seccionNoCritica" resultMap="secccionNoCriticaResult">
	 	SELECT s.cod_etap_deud,
			 s.cod_regi, 
			 s.cod_zona, 
			 s.cod_secc,		
			 s.ind_acti, 
			 s.val_obse
		FROM cob_param_secci_nocri s		 	
		WHERE s.cod_etap_deud = #codEtapaDeuda#
		AND s.cod_regi = #codigoRegion#
		AND s.cod_zona = #codigoZona#
		AND s.cod_secc = #codigoSeccion#			     	
    </select>
    
    <insert id="insertSeccionNoCritica" parameterClass="seccionNoCritica" >
		 INSERT INTO cob_param_secci_nocri
	        (COD_ETAP_DEUD,
	         COD_REGI,
	         COD_ZONA,
	         COD_SECC,
	         IND_ACTI,
	         VAL_OBSE,
	         USU_CREA,
	         FEC_CREA,
	         USU_MODI,
	         FEC_MODI)
		VALUES 
	        (#codEtapaDeuda#,
	         #codigoRegion#,
	         #codigoZona#,
	         #codigoSeccion#,
	         #indicaActivo#,
	         #observacion#,
	         #auditInfo.createdBy#, 
         	 #auditInfo.created#,
          	 #auditInfo.createdBy#, 
         	 #auditInfo.created#)
	</insert>
	
	<update id="updateSeccionNoCritica" parameterClass="seccionNoCritica">
		UPDATE cob_param_secci_nocri
		SET				    		    
		     IND_ACTI 		   = #indicaActivo#, 
             VAL_OBSE 		   = #observacion#,            
             USU_MODI 		   = #auditInfo.updatedBy#,  
             FEC_MODI 		   = #auditInfo.lastUpdated# 		                  
		WHERE COD_ETAP_DEUD = #codEtapaDeuda#	
		AND COD_REGI = #codigoRegion#
		AND COD_ZONA = #codigoZona#
		AND COD_SECC = #codigoSeccion#	         	
	</update>
	
	<update id="deleteSeccionNoCritica" parameterClass="seccionNoCritica">		 
 		DELETE cob_param_secci_nocri
		WHERE COD_ETAP_DEUD = #codEtapaDeuda#	
		AND COD_REGI = #codigoRegion#
		AND COD_ZONA = #codigoZona#
		AND COD_SECC = #codigoSeccion#	            		
	</update>
						     	                                   
</sqlMap>